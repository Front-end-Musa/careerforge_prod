import{d as g,e as M,q as I,t as S,u as k}from"./chunk-JCX33JY4.js";import{Rc as j,a as p,b as R}from"./chunk-MONSSZ7D.js";var K=g("[AI] Create",M()),V=g("[AI] Create Success",M()),P=g("[AI] Create Failure",M()),ue=g("[AI] Save Result",M()),Y=g("[AI] Save Result Success"),q=g("[AI] Save Result Failure",M()),z=g("[Resume] Load All"),G=g("[Resume] Load All Success",M()),H=g("[Resume] Load All Failure",M()),oe=g("[Resume] Update",M()),ce=g("[Resume] Update Success",M()),ae=g("[Resume] Update Failure",M()),J=g("[Resume] Save",M()),Q=g("[Resume] Save Success",M()),W=g("[Resume] Save Failure",M());function D(){return{ids:[],entities:{}}}function ee(){function n(c={}){return Object.assign(D(),c)}return{getInitialState:n}}function te(){function n(c){let d=y=>y.ids,h=y=>y.entities,f=I(d,h,(y,E)=>y.map(x=>E[x])),A=I(d,y=>y.length);return c?{selectIds:I(c,d),selectEntities:I(c,h),selectAll:I(c,f),selectTotal:I(c,A)}:{selectIds:d,selectEntities:h,selectAll:f,selectTotal:A}}return{getSelectors:n}}var i=(function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n})(i||{});function l(n){return function(d,h){let f={ids:[...h.ids],entities:p({},h.entities)},A=n(d,f);return A===i.Both?Object.assign({},h,f):A===i.EntitiesOnly?R(p({},h),{entities:f.entities}):h}}function v(n,c){let d=c(n);return j()&&d===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",c.toString()),d}function X(n){function c(o,s){let t=v(o,n);return t in s.entities?i.None:(s.ids.push(t),s.entities[t]=o,i.Both)}function d(o,s){let t=!1;for(let e of o)t=c(e,s)!==i.None||t;return t?i.Both:i.None}function h(o,s){return s.ids=[],s.entities={},d(o,s),i.Both}function f(o,s){let t=v(o,n);return t in s.entities?(s.entities[t]=o,i.EntitiesOnly):(s.ids.push(t),s.entities[t]=o,i.Both)}function A(o,s){let t=o.map(e=>f(e,s));switch(!0){case t.some(e=>e===i.Both):return i.Both;case t.some(e=>e===i.EntitiesOnly):return i.EntitiesOnly;default:return i.None}}function y(o,s){return E([o],s)}function E(o,s){let e=(o instanceof Array?o:s.ids.filter(r=>o(s.entities[r]))).filter(r=>r in s.entities).map(r=>delete s.entities[r]).length>0;return e&&(s.ids=s.ids.filter(r=>r in s.entities)),e?i.Both:i.None}function x(o){return Object.assign({},o,{ids:[],entities:{}})}function T(o,s,t){let e=t.entities[s.id],r=Object.assign({},e,s.changes),u=v(r,n),a=u!==s.id;return a&&(o[s.id]=u,delete t.entities[s.id]),t.entities[u]=r,a}function F(o,s){return B([o],s)}function B(o,s){let t={};return o=o.filter(r=>r.id in s.entities),o.length>0?o.filter(u=>T(t,u,s)).length>0?(s.ids=s.ids.map(u=>t[u]||u),i.Both):i.EntitiesOnly:i.None}function N(o,s){let e=s.ids.reduce((r,u)=>{let a=o(s.entities[u]);return a!==s.entities[u]&&r.push({id:u,changes:a}),r},[]).filter(({id:r})=>r in s.entities);return B(e,s)}function C({map:o,id:s},t){let e=t.entities[s];if(!e)return i.None;let r=o(e);return F({id:s,changes:r},t)}function L(o,s){return w([o],s)}function w(o,s){let t=[],e=[];for(let a of o){let m=v(a,n);m in s.entities?e.push({id:m,changes:a}):t.push(a)}let r=B(e,s),u=d(t,s);switch(!0){case(u===i.None&&r===i.None):return i.None;case(u===i.Both||r===i.Both):return i.Both;default:return i.EntitiesOnly}}return{removeAll:x,addOne:l(c),addMany:l(d),setAll:l(h),setOne:l(f),setMany:l(A),updateOne:l(F),updateMany:l(B),upsertOne:l(L),upsertMany:l(w),removeOne:l(y),removeMany:l(E),map:l(N),mapOne:l(C)}}function ne(n,c){let{removeOne:d,removeMany:h,removeAll:f}=X(n);function A(t,e){return y([t],e)}function y(t,e){let r=t.filter(u=>!(v(u,n)in e.entities));return r.length===0?i.None:(s(r,e),i.Both)}function E(t,e){return e.entities={},e.ids=[],y(t,e),i.Both}function x(t,e){let r=v(t,n);return r in e.entities?(e.ids=e.ids.filter(u=>u!==r),s([t],e),i.Both):A(t,e)}function T(t,e){let r=t.map(u=>x(u,e));switch(!0){case r.some(u=>u===i.Both):return i.Both;case r.some(u=>u===i.EntitiesOnly):return i.EntitiesOnly;default:return i.None}}function F(t,e){return N([t],e)}function B(t,e,r){if(!(e.id in r.entities))return!1;let u=r.entities[e.id],a=Object.assign({},u,e.changes),m=v(a,n);return delete r.entities[e.id],t.push(a),m!==e.id}function N(t,e){let r=[],u=t.filter(a=>B(r,a,e)).length>0;if(r.length===0)return i.None;{let a=e.ids,m=[];return e.ids=e.ids.filter((O,b)=>O in e.entities?!0:(m.push(b),!1)),s(r,e),!u&&m.every(O=>e.ids[O]===a[O])?i.EntitiesOnly:i.Both}}function C(t,e){let r=e.ids.reduce((u,a)=>{let m=t(e.entities[a]);return m!==e.entities[a]&&u.push({id:a,changes:m}),u},[]);return N(r,e)}function L({map:t,id:e},r){let u=r.entities[e];if(!u)return i.None;let a=t(u);return F({id:e,changes:a},r)}function w(t,e){return o([t],e)}function o(t,e){let r=[],u=[];for(let O of t){let b=v(O,n);b in e.entities?u.push({id:b,changes:O}):r.push(O)}let a=N(u,e),m=y(r,e);switch(!0){case(m===i.None&&a===i.None):return i.None;case(m===i.Both||a===i.Both):return i.Both;default:return i.EntitiesOnly}}function s(t,e){t.sort(c);let r=[],u=0,a=0;for(;u<t.length&&a<e.ids.length;){let m=t[u],O=v(m,n),b=e.ids[a],_=e.entities[b];c(m,_)<=0?(r.push(O),u++):(r.push(b),a++)}u<t.length?e.ids=r.concat(t.slice(u).map(n)):e.ids=r.concat(e.ids.slice(a)),t.forEach((m,O)=>{e.entities[n(m)]=m})}return{removeOne:d,removeMany:h,removeAll:f,addOne:l(A),updateOne:l(F),upsertOne:l(w),setAll:l(E),setOne:l(x),setMany:l(T),addMany:l(y),updateMany:l(N),upsertMany:l(o),map:l(C),mapOne:l(L)}}function Z(n={}){let{selectId:c,sortComparer:d}={selectId:n.selectId??(y=>y.id),sortComparer:n.sortComparer??!1},h=ee(),f=te(),A=d?ne(c,d):X(c);return p(p(p({selectId:c,sortComparer:d},h),f),A)}var se=(f=>(f.Init="init",f.Loading="loading",f.Loaded="loaded",f.Error="error",f))(se||{}),U=Z({selectId:n=>n.id?n.id:"",sortComparer:(n,c)=>n.personalInfo.fullName.localeCompare(c.personalInfo.fullName)}),{selectIds:Re,selectEntities:Me,selectAll:Ae,selectTotal:Se}=U.getSelectors(),re=U.getInitialState({resumes:[],status:"init",error:null,formValue:null,generating:!1,saving:!1,saveSucceeded:!1}),Oe=k(re,S(K,n=>R(p({},n),{generating:!0,error:null})),S(V,(n,{resume:c})=>R(p({},n),{generating:!1,error:null,generatedText:c})),S(P,(n,{error:c})=>R(p({},n),{generating:!1,error:c})),S(Y,n=>R(p({},n),{error:null})),S(q,(n,{error:c})=>R(p({},n),{error:c})),S(z,n=>R(p({},n),{status:"loading",error:null})),S(G,(n,{resumes:c})=>U.setAll(c,R(p({},n),{status:"loaded",error:null}))),S(H,(n,{error:c})=>R(p({},n),{status:"error",error:c})),S(J,n=>R(p({},n),{saving:!0,saveSucceeded:!1,error:null})),S(Q,n=>R(p({},n),{saving:!1,saveSucceeded:!0,error:null})),S(W,(n,{error:c})=>R(p({},n),{saving:!1,saveSucceeded:!1,error:c})));export{K as a,V as b,P as c,Y as d,q as e,z as f,G as g,H as h,J as i,Q as j,W as k,Z as l,se as m,U as n,Oe as o};
