import{c as Y2,q as Ra}from"./chunk-L6PPFTOW.js";import{$ as z2,Ca as Pi,H as wh,Ha as G2,La as dr,Rc as zu,Ua as K2,c as $i,da as $2,ea as W2,i as j2,ia as bh,j as q2,la as Uo,m as Zf,ma as Ih,n as ep,na as ka,o as tp,oa as Bo,p as vh,q as yh,ra as H2,sa as Ah,w as Pa,xa as jo}from"./chunk-UCCRVR3P.js";import{a as KA}from"./chunk-BFJTUMK4.js";import{a as nn}from"./chunk-FK6H3RFT.js";import{a as zi,b as Nc,e as GA}from"./chunk-C6Q5SG76.js";var J2=()=>{};var Z2=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},YA=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Eh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,f=s>>2,v=(s&3)<<4|a>>4,y=(a&15)<<2|h>>6,g=h&63;c||(g=64,o||(y=64)),r.push(t[f],t[v],t[y],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Z2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let h=i<n.length?t[n.charAt(i)]:64;++i;let v=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||h==null||v==null)throw new rp;let y=s<<2|a>>4;if(r.push(y),h!==64){let g=a<<4&240|h>>2;if(r.push(g),v!==64){let C=h<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},rp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},JA=function(n){let e=Z2(n);return Eh.encodeByteArray(e,!0)},Wu=function(n){return JA(n).replace(/\./g,"")},Th=function(n){try{return Eh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var XA=()=>sp().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Th(n[1]);return e&&JSON.parse(e)},Sh=()=>{try{return J2()||XA()||QA()||ZA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},op=n=>{var e,t;return(t=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Nh=n=>{let e=op(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ap=()=>{var n;return(n=Sh())===null||n===void 0?void 0:n.config},cp=n=>{var e;return(e=Sh())===null||e===void 0?void 0:e[`_${n}`]};var Ca=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function hs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xc(n){return(await fetch(n,{credentials:"include"})).ok}function e_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wu(JSON.stringify(t)),Wu(JSON.stringify(o)),""].join(".")}var $u={};function eE(){let n={prod:[],emulator:[]};for(let e of Object.keys($u))$u[e]?n.emulator.push(e):n.prod.push(e);return n}function tE(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var X2=!1;function Pc(n,e){if(typeof window>"u"||typeof document>"u"||!hs(window.location.host)||$u[n]===e||$u[n]||X2)return;$u[n]=e;function t(y){return`__firebase__banner__${y}`}let r="__firebase__banner",s=eE().prod.length>0;function o(){let y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,g){y.setAttribute("width","24"),y.setAttribute("id",g),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{X2=!0,o()},y}function f(y,g){y.setAttribute("id",g),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){let y=tE(r),g=t("text"),C=document.getElementById(g)||document.createElement("span"),L=t("learnmore"),R=document.getElementById(L)||document.createElement("a"),P=t("preprendIcon"),q=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let j=y.element;a(j),f(R,L);let z=h();c(q,P),j.append(q,C,R,z),document.body.appendChild(j)}s?(C.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())}function nE(){var n;let e=(n=Sh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r_(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function i_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s_(){let n=tr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function o_(){return!nE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hu(){try{return typeof indexedDB=="object"}catch{return!1}}function a_(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var rE="FirebaseError",Fr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rE,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi.prototype.create)}},Wi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iE(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Fr(i,a,r)}};function iE(n,e){return n.replace(sE,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sE=/\{\$([^}]+)}/g;function c_(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ds(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Q2(s)&&Q2(o)){if(!ds(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Q2(n){return n!==null&&typeof n=="object"}function Gu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Rc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function u_(n,e){let t=new ip(n,e);return t.subscribe.bind(t)}var ip=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oE(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=np),i.error===void 0&&(i.error=np),i.complete===void 0&&(i.complete=np);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oE(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function np(){}var oC=14400*1e3;function cn(n){return n&&n._delegate?n._delegate:n}var fr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var La="[DEFAULT]";var up=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ca;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cE(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aE(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aE(n){return n===La?void 0:n}function cE(n){return n.instantiationMode==="EAGER"}var xh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new up(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var uE=[],Ct=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Ct||{}),lE={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},hE=Ct.INFO,dE={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},fE=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=dE[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fs=class{constructor(e){this.name=e,this._logLevel=hE,this._logHandler=fE,this._userLogHandler=null,uE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}};var pE=(n,e)=>e.some(t=>n instanceof t),l_,h_;function gE(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mE(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var d_=new WeakMap,hp=new WeakMap,f_=new WeakMap,lp=new WeakMap,fp=new WeakMap;function _E(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ps(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&d_.set(t,n)}).catch(()=>{}),fp.set(e,n),e}function vE(n){if(hp.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});hp.set(n,e)}var dp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||f_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function p_(n){dp=n(dp)}function yE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ph(this),e,...t);return f_.set(r,e.sort?e.sort():[e]),ps(r)}:mE().includes(n)?function(...e){return n.apply(Ph(this),e),ps(d_.get(this))}:function(...e){return ps(n.apply(Ph(this),e))}}function wE(n){return typeof n=="function"?yE(n):(n instanceof IDBTransaction&&vE(n),pE(n,gE())?new Proxy(n,dp):n)}function ps(n){if(n instanceof IDBRequest)return _E(n);if(lp.has(n))return lp.get(n);let e=wE(n);return e!==n&&(lp.set(n,e),fp.set(e,n)),e}var Ph=n=>fp.get(n);function m_(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=ps(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ps(o.result),c.oldVersion,c.newVersion,ps(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}var bE=["get","getKey","getAll","getAllKeys","count"],IE=["put","add","delete","clear"],pp=new Map;function g_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=IE.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bE.includes(t)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),h=c.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[t](...a),i&&c.done]))[0]};return pp.set(e,s),s}p_(n=>Nc(zi({},n),{get:(e,t,r)=>g_(e,t)||n.get(e,t,r),has:(e,t)=>!!g_(e,t)||n.has(e,t)}));var mp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AE(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function AE(n){let e=n.getComponent();return e?.type==="VERSION"}var _p="@firebase/app",__="0.13.2";var Ks=new fs("@firebase/app"),EE="@firebase/app-compat",TE="@firebase/analytics-compat",SE="@firebase/analytics",NE="@firebase/app-check-compat",xE="@firebase/app-check",PE="@firebase/auth",kE="@firebase/auth-compat",RE="@firebase/database",CE="@firebase/data-connect",LE="@firebase/database-compat",DE="@firebase/functions",OE="@firebase/functions-compat",FE="@firebase/installations",ME="@firebase/installations-compat",VE="@firebase/messaging",UE="@firebase/messaging-compat",BE="@firebase/performance",jE="@firebase/performance-compat",qE="@firebase/remote-config",zE="@firebase/remote-config-compat",$E="@firebase/storage",WE="@firebase/storage-compat",HE="@firebase/firestore",GE="@firebase/ai",KE="@firebase/firestore-compat",YE="firebase",JE="11.10.0";var vp="[DEFAULT]",XE={[_p]:"fire-core",[EE]:"fire-core-compat",[SE]:"fire-analytics",[TE]:"fire-analytics-compat",[xE]:"fire-app-check",[NE]:"fire-app-check-compat",[PE]:"fire-auth",[kE]:"fire-auth-compat",[RE]:"fire-rtdb",[CE]:"fire-data-connect",[LE]:"fire-rtdb-compat",[DE]:"fire-fn",[OE]:"fire-fn-compat",[FE]:"fire-iid",[ME]:"fire-iid-compat",[VE]:"fire-fcm",[UE]:"fire-fcm-compat",[BE]:"fire-perf",[jE]:"fire-perf-compat",[qE]:"fire-rc",[zE]:"fire-rc-compat",[$E]:"fire-gcs",[WE]:"fire-gcs-compat",[HE]:"fire-fst",[KE]:"fire-fst-compat",[GE]:"fire-vertex","fire-js":"fire-js",[YE]:"fire-js-all"};var Ku=new Map,QE=new Map,yp=new Map;function v_(n,e){try{n.container.addComponent(e)}catch(t){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function di(n){let e=n.name;if(yp.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,n);for(let t of Ku.values())v_(t,n);for(let t of QE.values())v_(t,n);return!0}function zo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yr(n){return n==null?!1:n.settings!==void 0}var ZE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qo=new Wi("app","Firebase",ZE);var wp=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}};var $o=JE;function Ap(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw qo.create("bad-app-name",{appName:String(i)});if(t||(t=ap()),!t)throw qo.create("no-options");let s=Ku.get(i);if(s){if(ds(t,s.options)&&ds(r,s.config))return s;throw qo.create("duplicate-app",{appName:i})}let o=new xh(i);for(let c of yp.values())o.addComponent(c);let a=new wp(t,r,o);return Ku.set(i,a),a}function Ys(n=vp){let e=Ku.get(n);if(!e&&n===vp&&ap())return Ap();if(!e)throw qo.create("no-app",{appName:n});return e}function kh(){return Array.from(Ku.values())}function un(n,e,t){var r;let i=(r=XE[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(a.join(" "));return}di(new fr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var eT="firebase-heartbeat-database",tT=1,Yu="firebase-heartbeat-store",gp=null;function I_(){return gp||(gp=m_(eT,tT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yu)}catch(t){console.warn(t)}}}}).catch(n=>{throw qo.create("idb-open",{originalErrorMessage:n.message})})),gp}async function nT(n){try{let t=(await I_()).transaction(Yu),r=await t.objectStore(Yu).get(A_(n));return await t.done,r}catch(e){if(e instanceof Fr)Ks.warn(e.message);else{let t=qo.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(t.message)}}}async function y_(n,e){try{let r=(await I_()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(e,A_(n)),await r.done}catch(t){if(t instanceof Fr)Ks.warn(t.message);else{let r=qo.create("idb-set",{originalErrorMessage:t?.message});Ks.warn(r.message)}}}function A_(n){return`${n.name}!${n.options.appId}`}var rT=1024,iT=30,bp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ip(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=w_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>iT){let o=oT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=w_(),{heartbeatsToSend:r,unsentEntries:i}=sT(this._heartbeatsCache.heartbeats),s=Wu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ks.warn(t),""}}};function w_(){return new Date().toISOString().substring(0,10)}function sT(n,e=rT){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),b_(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),b_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ip=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hu()?a_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await nT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function b_(n){return Wu(JSON.stringify({version:2,heartbeats:n})).length}function oT(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function aT(n){di(new fr("platform-logger",e=>new mp(e),"PRIVATE")),di(new fr("heartbeat",e=>new bp(e),"PRIVATE")),un(_p,__,n),un(_p,__,"esm2017"),un("fire-js","")}aT("");var cT="firebase",uT="11.10.0";un(cT,uT,"app");var gs=new $2("ANGULARFIRE2_VERSION");function Oa(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Wo=(n,e)=>{let t=e?[e]:kh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Cc=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Cc||{}),E_=zu()&&typeof Zone<"u"?Cc.WARN:Cc.SILENT;var Rh=class{zone;delegate;constructor(e,t=q2){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},ms=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=ka(Pi);this.outsideAngular=t.runOutsideAngular(()=>new Rh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Rh(typeof Zone>"u"?void 0:Zone.current,j2))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=bh({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T_=!1;function hT(n,e){!T_&&(E_>Cc.SILENT||zu())&&(T_=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),E_>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function dT(n){let e=ka(Pi,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Da(n){let e=ka(Pi,{optional:!0});return e?e.run(()=>n()):n()}var fT=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ah(t,()=>Da(()=>n.apply(void 0,r)))),rn=(n,e,t)=>(t||=e?Cc.WARN:Cc.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=ka(ms),o=ka(G2),a=ka(H2)}catch{return hT(n,t),n.apply(this,i)}for(let h=0;h<arguments.length;h++)typeof i[h]=="function"&&(e&&(r||=Da(()=>o.add())),i[h]=fT(i[h],r,a));let c=dT(()=>n.apply(this,i));return e?c instanceof $i?c.pipe(tp(s.outsideAngular),ep(s.insideAngular),Y2(a)):c instanceof Promise?Da(()=>{let h=o.add();return new Promise((f,v)=>{c.then(y=>Ah(a,()=>Da(()=>f(y))),y=>Ah(a,()=>Da(()=>v(y)))).finally(h)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Da(()=>c):c instanceof $i?c.pipe(tp(s.outsideAngular),ep(s.insideAngular)):Da(()=>c)});var Hi=class{constructor(e){return e}},Js=class{constructor(){return kh()}};function pT(n){return n&&n.length===1?n[0]:new Hi(Ys())}var Ep=new Uo("angularfire2._apps"),gT={provide:Hi,useFactory:pT,deps:[[new dr,Ep]]},mT={provide:Js,deps:[[new dr,Ep]]};function _T(n){return(e,t)=>{let r=t.get(K2);un("angularfire",gs.full,"core"),un("angularfire",gs.full,"app"),un("angular",W2.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Hi(i)}}function WC(n,...e){return Bo([gT,mT,{provide:Ep,useFactory:_T(n),multi:!0,deps:[Pi,jo,ms,...e]}])}var HC=rn(Ap,!0);var vT=new Map,yT={activated:!1,tokenObservers:[]},wT={initialized:!1,enabled:!1};function Gi(n){return vT.get(n)||Object.assign({},yT)}function P_(){return wT}var bT="https://content-firebaseappcheck.googleapis.com/v1";var IT="exchangeDebugToken",S_={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},tL=1440*60*1e3;var Np=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Ca,this.pending.promise.catch(t=>{}),await AT(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Ca,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function AT(n){return new Promise(e=>{setTimeout(e,n)})}var ET={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ho=new Wi("appCheck","AppCheck",ET);function k_(n){if(!Gi(n).activated)throw Ho.create("use-before-activation",{appName:n.name})}async function R_({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let v=await i.getHeartbeatsHeader();v&&(r["X-Firebase-Client"]=v)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(n,s)}catch(v){throw Ho.create("fetch-network-error",{originalErrorMessage:v?.message})}if(o.status!==200)throw Ho.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(v){throw Ho.create("fetch-parse-error",{originalErrorMessage:v?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let h=Number(c[1])*1e3,f=Date.now();return{token:a.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}}function C_(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${bT}/projects/${t}/apps/${r}:${IT}?key=${i}`,body:{debug_token:e}}}var TT="firebase-app-check-database",ST=1,xp="firebase-app-check-store";var Ch=null;function NT(){return Ch||(Ch=new Promise((n,e)=>{try{let t=indexedDB.open(TT,ST);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ho.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;r.oldVersion===0&&i.createObjectStore(xp,{keyPath:"compositeKey"})}}catch(t){e(Ho.create("storage-open",{originalErrorMessage:t?.message}))}}),Ch)}function xT(n,e){return PT(kT(n),e)}async function PT(n,e){let r=(await NT()).transaction(xp,"readwrite"),s=r.objectStore(xp).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var h;a(Ho.create("storage-set",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})}function kT(n){return`${n.options.appId}-${n.name}`}var Ju=new fs("@firebase/app-check");function Tp(n,e){return Hu()?xT(n,e).catch(t=>{Ju.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function L_(){return P_().enabled}async function D_(){let n=P_();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var RT={error:"UNKNOWN_ERROR"};function CT(n){return Eh.encodeString(JSON.stringify(n),!1)}async function Pp(n,e=!1,t=!1){let r=n.app;k_(r);let i=Gi(r),s=i.token,o;if(s&&!Xu(s)&&(i.token=void 0,s=void 0),!s){let h=await i.cachedTokenPromise;h&&(Xu(h)?s=h:await Tp(r,void 0))}if(!e&&s&&Xu(s))return{token:s.token};let a=!1;if(L_())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=R_(C_(r,await D_()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let h=await i.exchangeTokenPromise;return await Tp(r,h),i.token=h,{token:h.token}}catch(h){return h.code==="appCheck/throttled"||h.code==="appCheck/initial-throttle"?Ju.warn(h.message):t&&Ju.error(h),Sp(h)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await Gi(r).exchangeTokenPromise}catch(h){h.code==="appCheck/throttled"||h.code==="appCheck/initial-throttle"?Ju.warn(h.message):t&&Ju.error(h),o=h}let c;return s?o?Xu(s)?c={token:s.token,internalError:o}:c=Sp(o):(c={token:s.token},i.token=s,await Tp(r,s)):c=Sp(o),a&&FT(r,c),c}async function LT(n){let e=n.app;k_(e);let{provider:t}=Gi(e);if(L_()){let r=await D_(),{token:i}=await R_(C_(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function DT(n,e,t,r){let{app:i}=n,s=Gi(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Xu(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),N_(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>N_(n))}function O_(n,e){let t=Gi(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function N_(n){let{app:e}=n,t=Gi(e),r=t.tokenRefresher;r||(r=OT(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function OT(n){let{app:e}=n;return new Np(async()=>{let t=Gi(e),r;if(t.token?r=await Pp(n,!0):r=await Pp(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=Gi(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},S_.RETRIAL_MIN_WAIT,S_.RETRIAL_MAX_WAIT)}function FT(n,e){let t=Gi(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Xu(n){return n.expireTimeMillis-Date.now()>0}function Sp(n){return{token:CT(RT),error:n}}var kp=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Gi(this.app);for(let t of e)O_(this.app,t.next);return Promise.resolve()}};function MT(n,e){return new kp(n,e)}function VT(n){return{getToken:e=>Pp(n,e),getLimitedUseToken:()=>LT(n),addTokenListener:e=>DT(n,"INTERNAL",e),removeTokenListener:e=>O_(n.app,e)}}var UT="@firebase/app-check",BT="0.10.1";var jT="app-check",x_="app-check-internal";function qT(){di(new fr(jT,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return MT(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(x_).initialize()})),di(new fr(x_,n=>{let e=n.getProvider("app-check").getImmediate();return VT(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),un(UT,BT)}qT();var zT="app-check";var Go=class{constructor(){return Wo(zT)}};var $T=["localhost","0.0.0.0","127.0.0.1"],fL=typeof window<"u"&&$T.includes(window.location.hostname);function X_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Q_=X_,Z_=new Wi("auth","Firebase",X_());var Vh=new fs("@firebase/auth");function WT(n,...e){Vh.logLevel<=Ct.WARN&&Vh.warn(`Auth (${$o}): ${n}`,...e)}function Dh(n,...e){Vh.logLevel<=Ct.ERROR&&Vh.error(`Auth (${$o}): ${n}`,...e)}function vs(n,...e){throw tg(n,...e)}function Fa(n,...e){return tg(n,...e)}function ev(n,e,t){let r=Object.assign(Object.assign({},Q_()),{[e]:t});return new Wi("auth","Firebase",r).create(e,{appName:n.name})}function Zs(n){return ev(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Z_.create(n,...e)}function st(n,e,...t){if(!n)throw tg(e,...t)}function Xs(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Dh(e),new Error(e)}function Jo(n,e){n||Xs(e)}function Dp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HT(){return F_()==="http:"||F_()==="https:"}function F_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function GT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HT()||r_()||"connection"in navigator)?navigator.onLine:!0}function KT(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ma=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jo(t>e,"Short delay should be less than long delay!"),this.isMobile=t_()||i_()}get(){return GT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ng(n,e){Jo(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Uh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var YT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var JT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XT=new Ma(3e4,6e4);function eo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function to(n,e,t,r,i={}){return tv(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=Gu(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let h=Object.assign({method:e,headers:c},s);return n_()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&hs(n.emulatorConfig.host)&&(h.credentials="include"),Uh.fetch()(await nv(n,n.config.apiHost,t,a),h)})}async function tv(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},YT),e);try{let i=new Op(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Lh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,h]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Lh(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Lh(n,"user-disabled",o);let f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ev(n,f,h);vs(n,f)}}catch(i){if(i instanceof Fr)throw i;vs(n,"network-request-failed",{message:String(i)})}}async function ol(n,e,t,r,i={}){let s=await to(n,e,t,r,i);return"mfaPendingCredential"in s&&vs(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function nv(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?ng(n.config,i):`${n.config.apiScheme}://${i}`;return JT.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function QT(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Op=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fa(this.auth,"network-request-failed")),XT.get())})}};function Lh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fa(n,e,r);return i.customData._tokenResponse=t,i}function M_(n){return n!==void 0&&n.enterprise!==void 0}var Fp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function ZT(n,e){return to(n,"GET","/v2/recaptchaConfig",eo(n,e))}async function eS(n,e){return to(n,"POST","/v1/accounts:delete",e)}async function Bh(n,e){return to(n,"POST","/v1/accounts:lookup",e)}function Zu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rg(n,e=!1){let t=cn(n),r=await t.getIdToken(e),i=ig(r);st(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Zu(Rp(i.auth_time)),issuedAtTime:Zu(Rp(i.iat)),expirationTime:Zu(Rp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Rp(n){return Number(n)*1e3}function ig(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Th(t);return i?JSON.parse(i):(Dh("Failed to decode base64 JWT payload"),null)}catch(i){return Dh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function V_(n){let e=ig(n);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Fr&&tS(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function tS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Mp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var nl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function jh(n){var e;let t=n.auth,r=await n.getIdToken(),i=await tl(n,Bh(t,{idToken:r}));st(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rv(s.providerUserInfo):[],a=nS(n.providerData,o),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!a?.length,f=c?h:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nl(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,v)}async function sg(n){let e=cn(n);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nS(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rv(n){return n.map(e=>{var{providerId:t}=e,r=Zf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function rS(n,e){let t=await tv(n,{},async()=>{let r=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await nv(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&hs(n.emulatorConfig.host)&&(c.credentials="include"),Uh.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iS(n,e){return to(n,"POST","/v2/accounts:revokeToken",eo(n,e))}var el=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){st(e.length!==0,"internal-error");let t=V_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await rS(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(st(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(st(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(st(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Xs("not implemented")}};function Ko(n,e){st(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Yo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nl(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await tl(this,this.stsTokenManager.getToken(this.auth,e));return st(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rg(this,e)}reload(){return sg(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(Zs(this.auth));let e=await this.getIdToken();return await tl(this,eS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,h,f;let v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=t.photoURL)!==null&&o!==void 0?o:void 0,L=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,P=(h=t.createdAt)!==null&&h!==void 0?h:void 0,q=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:j,emailVerified:z,isAnonymous:ee,providerData:oe,stsTokenManager:U}=t;st(j&&U,e,"internal-error");let T=el.fromJSON(this.name,U);st(typeof j=="string",e,"internal-error"),Ko(v,e.name),Ko(y,e.name),st(typeof z=="boolean",e,"internal-error"),st(typeof ee=="boolean",e,"internal-error"),Ko(g,e.name),Ko(C,e.name),Ko(L,e.name),Ko(R,e.name),Ko(P,e.name),Ko(q,e.name);let A=new n({uid:j,auth:e,email:y,emailVerified:z,displayName:v,isAnonymous:ee,photoURL:C,phoneNumber:g,tenantId:L,stsTokenManager:T,createdAt:P,lastLoginAt:q});return oe&&Array.isArray(oe)&&(A.providerData=oe.map(F=>Object.assign({},F))),R&&(A._redirectEventId=R),A}static async _fromIdTokenResponse(e,t,r=!1){let i=new el;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jh(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];st(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?rv(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new el;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,h),c}};var U_=new Map;function Qs(n){Jo(n instanceof Function,"Expected a class definition");let e=U_.get(n);return e?(Jo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,U_.set(n,e),e)}var sS=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Vp=sS;function Oh(n,e,t){return`firebase:${n}:${e}:${t}`}var qh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Oh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oh("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Bh(this.auth,{idToken:e}).catch(()=>{});return t?Yo._fromGetAccountInfoResponse(this.auth,t,e):null}return Yo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Qs(Vp),e,r);let i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h),s=i[0]||Qs(Vp),o=Oh(r,e.config.apiKey,e.name),a=null;for(let h of t)try{let f=await h._get(o);if(f){let v;if(typeof f=="string"){let y=await Bh(e,{idToken:f}).catch(()=>{});if(!y)break;v=await Yo._fromGetAccountInfoResponse(e,y,f)}else v=Yo._fromJSON(e,f);h!==s&&(a=v),s=h;break}}catch{}let c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new n(s,e,r))}};function B_(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(av(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uv(e))return"Blackberry";if(lv(e))return"Webos";if(sv(e))return"Safari";if((e.includes("chrome/")||ov(e))&&!e.includes("edge/"))return"Chrome";if(cv(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function iv(n=tr()){return/firefox\//i.test(n)}function sv(n=tr()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ov(n=tr()){return/crios\//i.test(n)}function av(n=tr()){return/iemobile/i.test(n)}function cv(n=tr()){return/android/i.test(n)}function uv(n=tr()){return/blackberry/i.test(n)}function lv(n=tr()){return/webos/i.test(n)}function og(n=tr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oS(n=tr()){var e;return og(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aS(){return s_()&&document.documentMode===10}function hv(n=tr()){return og(n)||cv(n)||lv(n)||uv(n)||/windows phone/i.test(n)||av(n)}function dv(n,e=[]){let t;switch(n){case"Browser":t=B_(tr());break;case"Worker":t=`${B_(tr())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$o}/${r}`}var Up=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function cS(n,e={}){return to(n,"GET","/v2/passwordPolicy",eo(n,e))}var uS=6,Bp=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:uS,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var jp=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zh(this),this.idTokenSubscription=new zh(this),this.beforeStateQueue=new Up(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qs(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await qh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Bh(this,{idToken:e}),r=await Yo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(Zs(this));let t=e?cn(e):null;return t&&st(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await cS(this),t=new Bp(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await iS(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Qs(e)||this._popupRedirectResolver;st(t,this,"argument-error"),this.redirectPersistenceManager=await qh.create(this,[Qs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&WT(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Ua(n){return cn(n)}var zh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=u_(t=>this.observer=t)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lS(n){Jh=n}function fv(n){return Jh.loadJS(n)}function hS(){return Jh.recaptchaEnterpriseScript}function dS(){return Jh.gapiScript}function pv(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var qp=class{constructor(){this.enterprise=new zp}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},zp=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var fS="recaptcha-enterprise",gv="NO_RECAPTCHA",$p=class{constructor(e){this.type=fS,this.auth=Ua(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ZT(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let h=new Fp(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){let c=window.grecaptcha;M_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(gv)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qp().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&M_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=hS();c.length!==0&&(c+=a),fv(c).then(()=>{i(a,s,o)}).catch(h=>{o(h)})}}).catch(a=>{o(a)})})}};async function Qu(n,e,t,r=!1,i=!1){let s=new $p(n),o;if(i)o=gv;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,h=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wp(n,e,t,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await Qu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=await Qu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=await Qu(n,e,t);return r(n,a).catch(async c=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let f=await Qu(n,e,t,!1,!0);return r(n,f)}return Promise.reject(c)})}else{let a=await Qu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function ag(n,e){let t=zo(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(ds(s,e??{}))return i;vs(i,"already-initialized")}return t.initialize({options:e})}function pS(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Qs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function cg(n,e,t){let r=Ua(n);st(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=mv(e),{host:o,port:a}=gS(e),c=a===null?"":`:${a}`,h={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){st(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),st(ds(h,r.config.emulator)&&ds(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,hs(o)?(xc(`${s}//${o}${c}`),Pc("Auth",!0)):i||mS()}function mv(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gS(n){let e=mv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:j_(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:j_(o)}}}function j_(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function mS(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var rl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xs("not implemented")}_getIdTokenResponse(e){return Xs("not implemented")}_linkToIdToken(e,t){return Xs("not implemented")}_getReauthenticationResolver(e){return Xs("not implemented")}};async function _S(n,e){return to(n,"POST","/v1/accounts:signUp",e)}async function vS(n,e){return ol(n,"POST","/v1/accounts:signInWithPassword",eo(n,e))}async function yS(n,e){return to(n,"POST","/v1/accounts:sendOobCode",eo(n,e))}async function wS(n,e){return yS(n,e)}async function bS(n,e){return ol(n,"POST","/v1/accounts:signInWithEmailLink",eo(n,e))}async function IS(n,e){return ol(n,"POST","/v1/accounts:signInWithEmailLink",eo(n,e))}var il=class n extends rl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,t,"signInWithPassword",vS,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bS(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,r,"signUpPassword",_S,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return IS(e,{idToken:t,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Cp(n,e){return ol(n,"POST","/v1/accounts:signInWithIdp",eo(n,e))}function AS(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ES(n){let e=kc(Rc(n)).link,t=e?kc(Rc(e)).deep_link_id:null,r=kc(Rc(n)).deep_link_id;return(r?kc(Rc(r)).link:null)||r||t||e||n}var $h=class n{constructor(e){var t,r,i,s,o,a;let c=kc(Rc(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,v=AS((i=c.mode)!==null&&i!==void 0?i:null);st(h&&f&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=ES(e);try{return new n(t)}catch{return null}}};var _v=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return il._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=$h.parseLink(r);return st(i,"argument-error"),il._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Wh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Hp=class extends Wh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function TS(n,e){return ol(n,"POST","/v1/accounts:signUp",eo(n,e))}var Lc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await Yo._fromIdTokenResponse(e,r,i),o=q_(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=q_(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function q_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Gp=class n extends Fr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function vv(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(n,s,e,r):s})}async function SS(n,e,t=!1){let r=await tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lc._forOperation(n,"link",r)}async function NS(n,e,t=!1){let{auth:r}=n;if(yr(r.app))return Promise.reject(Zs(r));let i="reauthenticate";try{let s=await tl(n,vv(r,i,e,n),t);st(s.idToken,r,"internal-error");let o=ig(s.idToken);st(o,r,"internal-error");let{sub:a}=o;return st(n.uid===a,r,"user-mismatch"),Lc._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),s}}async function yv(n,e,t=!1){if(yr(n.app))return Promise.reject(Zs(n));let r="signIn",i=await vv(n,r,e),s=await Lc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function ug(n,e){return yv(Ua(n),e)}function xS(n,e,t){var r;st(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),st(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),st(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(st(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(st(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function wv(n){let e=Ua(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lg(n,e,t){if(yr(n.app))return Promise.reject(Zs(n));let r=Ua(n),o=await Wp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TS,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wv(n),c}),a=await Lc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function hg(n,e,t){return yr(n.app)?Promise.reject(Zs(n)):ug(cn(n),_v.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wv(n),r})}async function dg(n,e){let t=cn(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&xS(t.auth,i,e);let{email:s}=await wS(t.auth,i);s!==n.email&&await n.reload()}function al(n,e,t,r){return cn(n).onIdTokenChanged(e,t,r)}function fg(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function Xh(n,e,t,r){return cn(n).onAuthStateChanged(e,t,r)}function pg(n){return cn(n).signOut()}var Hh="__sak";var Gh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var PS=1e3,kS=10,RS=(()=>{class n extends Gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,h)=>{this.notifyListeners(a,h)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);aS()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,kS):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},PS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),bv=RS;var CS=(()=>{class n extends Gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),gg=CS;function LS(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var DS=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async f=>f(r.origin,o)),h=await LS(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Iv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Kp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let h=Iv("",20);i.port1.start();let f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(v){let y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function _s(){return window}function OS(n){_s().location.href=n}function Av(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function FS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MS(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function VS(){return Av()?self:null}var Ev="firebaseLocalStorageDb",US=1,Kh="firebaseLocalStorage",Tv="fbase_key",Va=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Qh(n,e){return n.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function BS(){let n=indexedDB.deleteDatabase(Ev);return new Va(n).toPromise()}function Yp(){let n=indexedDB.open(Ev,US);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Kh,{keyPath:Tv})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),await BS(),e(await Yp()))})})}async function z_(n,e,t){let r=Qh(n,!0).put({[Tv]:e,value:t});return new Va(r).toPromise()}async function jS(n,e){let t=Qh(n,!1).get(e),r=await new Va(t).toPromise();return r===void 0?null:r.value}function $_(n,e){let t=Qh(n,!0).delete(e);return new Va(t).toPromise()}var qS=800,zS=3,$S=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>zS)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Av()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=DS._getInstance(VS()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await FS(),!this.activeServiceWorker)return;this.sender=new Kp(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||MS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await Yp();return await z_(t,Hh,"1"),await $_(t,Hh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>z_(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>jS(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>$_(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=Qh(s,!1).getAll();return new Va(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Sv=$S;var bL=pv("rcb"),IL=new Ma(3e4,6e4);function WS(n,e){return e?Qs(e):(st(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var sl=class extends rl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cp(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function HS(n){return yv(n.auth,new sl(n),n.bypassAuthState)}function GS(n){let{auth:e,user:t}=n;return st(t,e,"internal-error"),NS(t,new sl(n),n.bypassAuthState)}async function KS(n){let{auth:e,user:t}=n;return st(t,e,"internal-error"),SS(t,new sl(n),n.bypassAuthState)}var Jp=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HS;case"linkViaPopup":case"linkViaRedirect":return KS;case"reauthViaPopup":case"reauthViaRedirect":return GS;default:vs(this.auth,"internal-error")}}resolve(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AL=new Ma(2e3,1e4);var YS="pendingRedirect",Fh=new Map,Xp=class extends Jp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{let r=await JS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function JS(n,e){let t=ZS(e),r=QS(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function XS(n,e){Fh.set(n._key(),e)}function QS(n){return Qs(n._redirectPersistence)}function ZS(n){return Oh(YS,n.config.apiKey,n.name)}async function e4(n,e,t=!1){if(yr(n.app))return Promise.reject(Zs(n));let r=Ua(n),i=WS(r,e),o=await new Xp(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var t4=600*1e3,Qp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Nv(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t4&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}};function W_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Nv({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function n4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nv(n);default:return!1}}async function r4(n,e={}){return to(n,"GET","/v1/projects",e)}var i4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s4=/^https?/;async function o4(n){if(n.config.emulator)return;let{authorizedDomains:e}=await r4(n);for(let t of e)try{if(a4(t))return}catch{}vs(n,"unauthorized-domain")}function a4(n){let e=Dp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!s4.test(t))return!1;if(i4.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var c4=new Ma(3e4,6e4);function H_(){let n=_s().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function u4(n){return new Promise((e,t)=>{var r,i,s;function o(){H_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H_(),t(Fa(n,"network-request-failed"))},timeout:c4.get()})}if(!((i=(r=_s().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_s().gapi)===null||s===void 0)&&s.load)o();else{let a=pv("iframefcb");return _s()[a]=()=>{gapi.load?o():t(Fa(n,"network-request-failed"))},fv(`${dS()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Mh=null,e})}var Mh=null;function l4(n){return Mh=Mh||u4(n),Mh}var h4=new Ma(5e3,15e3),d4="__/auth/iframe",f4="emulator/auth/iframe",p4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m4(n){let e=n.config;st(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ng(e,f4):`https://${n.config.authDomain}/${d4}`,r={apiKey:e.apiKey,appName:n.name,v:$o},i=g4.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Gu(r).slice(1)}`}async function _4(n){let e=await l4(n),t=_s().gapi;return st(t,n,"internal-error"),e.open({where:document.body,url:m4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=Fa(n,"network-request-failed"),a=_s().setTimeout(()=>{s(o)},h4.get());function c(){_s().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var v4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y4=500,w4=600,b4="_blank",I4="http://localhost",Yh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function A4(n,e,t,r=y4,i=w4){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},v4),{width:r.toString(),height:i.toString(),top:s,left:o}),h=tr().toLowerCase();t&&(a=ov(h)?b4:t),iv(h)&&(e=e||I4,c.scrollbars="yes");let f=Object.entries(c).reduce((y,[g,C])=>`${y}${g}=${C},`,"");if(oS(h)&&a!=="_self")return E4(e||"",a),new Yh(null);let v=window.open(e||"",a,f);st(v,n,"popup-blocked");try{v.focus()}catch{}return new Yh(v)}function E4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var T4="__/auth/handler",S4="emulator/auth/handler",N4=encodeURIComponent("fac");async function G_(n,e,t,r,i,s){st(n.config.authDomain,n,"auth-domain-config-required"),st(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$o,eventId:i};if(e instanceof Wh){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",c_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,v]of Object.entries(s||{}))o[f]=v}if(e instanceof Hp){let f=e.getScopes().filter(v=>v!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let c=await n._getAppCheckToken(),h=c?`#${N4}=${encodeURIComponent(c)}`:"";return`${x4(n)}?${Gu(a).slice(1)}${h}`}function x4({config:n}){return n.emulator?ng(n,S4):`https://${n.authDomain}/${T4}`}var Lp="webStorageSupport",Zp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gg,this._completeRedirectFn=e4,this._overrideRedirectResult=XS}async _openPopup(e,t,r,i){var s;Jo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=await G_(e,t,r,Dp(),i);return A4(e,o,Iv())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await G_(e,t,r,Dp(),i);return OS(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Jo(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await _4(e),r=new Qp(e);return t.register("authEvent",i=>(st(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lp,{type:Lp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Lp];o!==void 0&&t(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=o4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hv()||sv()||og()}},xv=Zp;var K_="@firebase/auth",Y_="1.10.8";var eg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function P4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k4(n){di(new fr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;st(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dv(n)},h=new jp(r,i,s,c);return pS(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),di(new fr("auth-internal",e=>{let t=Ua(e.getProvider("auth").getImmediate());return(r=>new eg(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(K_,Y_,P4(n)),un(K_,Y_,"esm2017")}var R4=300,C4=cp("authIdTokenMaxAge")||R4,J_=null,L4=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>C4)return;let i=t?.token;J_!==i&&(J_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mg(n=Ys()){let e=zo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ag(n,{popupRedirectResolver:xv,persistence:[Sv,bv,gg]}),r=cp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=L4(s.toString());fg(t,o,()=>o(t.currentUser)),al(t,a=>o(a))}}let i=op("auth");return i&&cg(t,`http://${i}`),t}function D4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lS({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Fa("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",D4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k4("Browser");function kv(n){return new $i(function(e){var t=Xh(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function Rv(n){return new $i(function(e){var t=al(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Cv="auth",Ba=class{constructor(e){return e}},ja=class{constructor(){return Wo(Cv)}};var _g=new Uo("angularfire2.auth-instances");function w3(n,e){let t=Oa(Cv,n,e);return t&&new Ba(t)}function b3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ba(r)}}var I3={provide:ja,deps:[[new dr,_g]]},A3={provide:Ba,useFactory:w3,deps:[[new dr,_g],Hi]};function fD(n,...e){return un("angularfire",gs.full,"auth"),Bo([A3,I3,{provide:_g,useFactory:b3(n),multi:!0,deps:[Pi,jo,ms,Js,[new dr,Go],...e]}])}var pD=rn(kv,!0);var Lv=rn(Rv,!0);var gD=rn(lg,!0,2);var mD=rn(mg,!0);var _D=rn(dg,!0,2);var vD=rn(hg,!0,2);var yD=rn(pg,!0,2);var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ov={};var no,vg;(function(){var n;function e(U,T){function A(){}A.prototype=T.prototype,U.D=T.prototype,U.prototype=new A,U.prototype.constructor=U,U.C=function(F,b,E){for(var S=Array(arguments.length-2),J=2;J<arguments.length;J++)S[J-2]=arguments[J];return T.prototype[b].apply(F,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,T,A){A||(A=0);var F=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)F[b]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(b=0;16>b;++b)F[b]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=U.g[0],A=U.g[1],b=U.g[2];var E=U.g[3],S=T+(E^A&(b^E))+F[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=E+(b^T&(A^b))+F[1]+3905402710&4294967295,E=T+(S<<12&4294967295|S>>>20),S=b+(A^E&(T^A))+F[2]+606105819&4294967295,b=E+(S<<17&4294967295|S>>>15),S=A+(T^b&(E^T))+F[3]+3250441966&4294967295,A=b+(S<<22&4294967295|S>>>10),S=T+(E^A&(b^E))+F[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=E+(b^T&(A^b))+F[5]+1200080426&4294967295,E=T+(S<<12&4294967295|S>>>20),S=b+(A^E&(T^A))+F[6]+2821735955&4294967295,b=E+(S<<17&4294967295|S>>>15),S=A+(T^b&(E^T))+F[7]+4249261313&4294967295,A=b+(S<<22&4294967295|S>>>10),S=T+(E^A&(b^E))+F[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=E+(b^T&(A^b))+F[9]+2336552879&4294967295,E=T+(S<<12&4294967295|S>>>20),S=b+(A^E&(T^A))+F[10]+4294925233&4294967295,b=E+(S<<17&4294967295|S>>>15),S=A+(T^b&(E^T))+F[11]+2304563134&4294967295,A=b+(S<<22&4294967295|S>>>10),S=T+(E^A&(b^E))+F[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=E+(b^T&(A^b))+F[13]+4254626195&4294967295,E=T+(S<<12&4294967295|S>>>20),S=b+(A^E&(T^A))+F[14]+2792965006&4294967295,b=E+(S<<17&4294967295|S>>>15),S=A+(T^b&(E^T))+F[15]+1236535329&4294967295,A=b+(S<<22&4294967295|S>>>10),S=T+(b^E&(A^b))+F[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=E+(A^b&(T^A))+F[6]+3225465664&4294967295,E=T+(S<<9&4294967295|S>>>23),S=b+(T^A&(E^T))+F[11]+643717713&4294967295,b=E+(S<<14&4294967295|S>>>18),S=A+(E^T&(b^E))+F[0]+3921069994&4294967295,A=b+(S<<20&4294967295|S>>>12),S=T+(b^E&(A^b))+F[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=E+(A^b&(T^A))+F[10]+38016083&4294967295,E=T+(S<<9&4294967295|S>>>23),S=b+(T^A&(E^T))+F[15]+3634488961&4294967295,b=E+(S<<14&4294967295|S>>>18),S=A+(E^T&(b^E))+F[4]+3889429448&4294967295,A=b+(S<<20&4294967295|S>>>12),S=T+(b^E&(A^b))+F[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=E+(A^b&(T^A))+F[14]+3275163606&4294967295,E=T+(S<<9&4294967295|S>>>23),S=b+(T^A&(E^T))+F[3]+4107603335&4294967295,b=E+(S<<14&4294967295|S>>>18),S=A+(E^T&(b^E))+F[8]+1163531501&4294967295,A=b+(S<<20&4294967295|S>>>12),S=T+(b^E&(A^b))+F[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=E+(A^b&(T^A))+F[2]+4243563512&4294967295,E=T+(S<<9&4294967295|S>>>23),S=b+(T^A&(E^T))+F[7]+1735328473&4294967295,b=E+(S<<14&4294967295|S>>>18),S=A+(E^T&(b^E))+F[12]+2368359562&4294967295,A=b+(S<<20&4294967295|S>>>12),S=T+(A^b^E)+F[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=E+(T^A^b)+F[8]+2272392833&4294967295,E=T+(S<<11&4294967295|S>>>21),S=b+(E^T^A)+F[11]+1839030562&4294967295,b=E+(S<<16&4294967295|S>>>16),S=A+(b^E^T)+F[14]+4259657740&4294967295,A=b+(S<<23&4294967295|S>>>9),S=T+(A^b^E)+F[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=E+(T^A^b)+F[4]+1272893353&4294967295,E=T+(S<<11&4294967295|S>>>21),S=b+(E^T^A)+F[7]+4139469664&4294967295,b=E+(S<<16&4294967295|S>>>16),S=A+(b^E^T)+F[10]+3200236656&4294967295,A=b+(S<<23&4294967295|S>>>9),S=T+(A^b^E)+F[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=E+(T^A^b)+F[0]+3936430074&4294967295,E=T+(S<<11&4294967295|S>>>21),S=b+(E^T^A)+F[3]+3572445317&4294967295,b=E+(S<<16&4294967295|S>>>16),S=A+(b^E^T)+F[6]+76029189&4294967295,A=b+(S<<23&4294967295|S>>>9),S=T+(A^b^E)+F[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=E+(T^A^b)+F[12]+3873151461&4294967295,E=T+(S<<11&4294967295|S>>>21),S=b+(E^T^A)+F[15]+530742520&4294967295,b=E+(S<<16&4294967295|S>>>16),S=A+(b^E^T)+F[2]+3299628645&4294967295,A=b+(S<<23&4294967295|S>>>9),S=T+(b^(A|~E))+F[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=E+(A^(T|~b))+F[7]+1126891415&4294967295,E=T+(S<<10&4294967295|S>>>22),S=b+(T^(E|~A))+F[14]+2878612391&4294967295,b=E+(S<<15&4294967295|S>>>17),S=A+(E^(b|~T))+F[5]+4237533241&4294967295,A=b+(S<<21&4294967295|S>>>11),S=T+(b^(A|~E))+F[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=E+(A^(T|~b))+F[3]+2399980690&4294967295,E=T+(S<<10&4294967295|S>>>22),S=b+(T^(E|~A))+F[10]+4293915773&4294967295,b=E+(S<<15&4294967295|S>>>17),S=A+(E^(b|~T))+F[1]+2240044497&4294967295,A=b+(S<<21&4294967295|S>>>11),S=T+(b^(A|~E))+F[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=E+(A^(T|~b))+F[15]+4264355552&4294967295,E=T+(S<<10&4294967295|S>>>22),S=b+(T^(E|~A))+F[6]+2734768916&4294967295,b=E+(S<<15&4294967295|S>>>17),S=A+(E^(b|~T))+F[13]+1309151649&4294967295,A=b+(S<<21&4294967295|S>>>11),S=T+(b^(A|~E))+F[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=E+(A^(T|~b))+F[11]+3174756917&4294967295,E=T+(S<<10&4294967295|S>>>22),S=b+(T^(E|~A))+F[2]+718787259&4294967295,b=E+(S<<15&4294967295|S>>>17),S=A+(E^(b|~T))+F[9]+3951481745&4294967295,U.g[0]=U.g[0]+T&4294967295,U.g[1]=U.g[1]+(b+(S<<21&4294967295|S>>>11))&4294967295,U.g[2]=U.g[2]+b&4294967295,U.g[3]=U.g[3]+E&4294967295}r.prototype.u=function(U,T){T===void 0&&(T=U.length);for(var A=T-this.blockSize,F=this.B,b=this.h,E=0;E<T;){if(b==0)for(;E<=A;)i(this,U,E),E+=this.blockSize;if(typeof U=="string"){for(;E<T;)if(F[b++]=U.charCodeAt(E++),b==this.blockSize){i(this,F),b=0;break}}else for(;E<T;)if(F[b++]=U[E++],b==this.blockSize){i(this,F),b=0;break}}this.h=b,this.o+=T},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var T=1;T<U.length-8;++T)U[T]=0;var A=8*this.o;for(T=U.length-8;T<U.length;++T)U[T]=A&255,A/=256;for(this.u(U),U=Array(16),T=A=0;4>T;++T)for(var F=0;32>F;F+=8)U[A++]=this.g[T]>>>F&255;return U};function s(U,T){var A=a;return Object.prototype.hasOwnProperty.call(A,U)?A[U]:A[U]=T(U)}function o(U,T){this.h=T;for(var A=[],F=!0,b=U.length-1;0<=b;b--){var E=U[b]|0;F&&E==T||(A[b]=E,F=!1)}this.g=A}var a={};function c(U){return-128<=U&&128>U?s(U,function(T){return new o([T|0],0>T?-1:0)}):new o([U|0],0>U?-1:0)}function h(U){if(isNaN(U)||!isFinite(U))return v;if(0>U)return R(h(-U));for(var T=[],A=1,F=0;U>=A;F++)T[F]=U/A|0,A*=4294967296;return new o(T,0)}function f(U,T){if(U.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(U.charAt(0)=="-")return R(f(U.substring(1),T));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(T,8)),F=v,b=0;b<U.length;b+=8){var E=Math.min(8,U.length-b),S=parseInt(U.substring(b,b+E),T);8>E?(E=h(Math.pow(T,E)),F=F.j(E).add(h(S))):(F=F.j(A),F=F.add(h(S)))}return F}var v=c(0),y=c(1),g=c(16777216);n=o.prototype,n.m=function(){if(L(this))return-R(this).m();for(var U=0,T=1,A=0;A<this.g.length;A++){var F=this.i(A);U+=(0<=F?F:4294967296+F)*T,T*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(C(this))return"0";if(L(this))return"-"+R(this).toString(U);for(var T=h(Math.pow(U,6)),A=this,F="";;){var b=z(A,T).g;A=P(A,b.j(T));var E=((0<A.g.length?A.g[0]:A.h)>>>0).toString(U);if(A=b,C(A))return E+F;for(;6>E.length;)E="0"+E;F=E+F}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function C(U){if(U.h!=0)return!1;for(var T=0;T<U.g.length;T++)if(U.g[T]!=0)return!1;return!0}function L(U){return U.h==-1}n.l=function(U){return U=P(this,U),L(U)?-1:C(U)?0:1};function R(U){for(var T=U.g.length,A=[],F=0;F<T;F++)A[F]=~U.g[F];return new o(A,~U.h).add(y)}n.abs=function(){return L(this)?R(this):this},n.add=function(U){for(var T=Math.max(this.g.length,U.g.length),A=[],F=0,b=0;b<=T;b++){var E=F+(this.i(b)&65535)+(U.i(b)&65535),S=(E>>>16)+(this.i(b)>>>16)+(U.i(b)>>>16);F=S>>>16,E&=65535,S&=65535,A[b]=S<<16|E}return new o(A,A[A.length-1]&-2147483648?-1:0)};function P(U,T){return U.add(R(T))}n.j=function(U){if(C(this)||C(U))return v;if(L(this))return L(U)?R(this).j(R(U)):R(R(this).j(U));if(L(U))return R(this.j(R(U)));if(0>this.l(g)&&0>U.l(g))return h(this.m()*U.m());for(var T=this.g.length+U.g.length,A=[],F=0;F<2*T;F++)A[F]=0;for(F=0;F<this.g.length;F++)for(var b=0;b<U.g.length;b++){var E=this.i(F)>>>16,S=this.i(F)&65535,J=U.i(b)>>>16,he=U.i(b)&65535;A[2*F+2*b]+=S*he,q(A,2*F+2*b),A[2*F+2*b+1]+=E*he,q(A,2*F+2*b+1),A[2*F+2*b+1]+=S*J,q(A,2*F+2*b+1),A[2*F+2*b+2]+=E*J,q(A,2*F+2*b+2)}for(F=0;F<T;F++)A[F]=A[2*F+1]<<16|A[2*F];for(F=T;F<2*T;F++)A[F]=0;return new o(A,0)};function q(U,T){for(;(U[T]&65535)!=U[T];)U[T+1]+=U[T]>>>16,U[T]&=65535,T++}function j(U,T){this.g=U,this.h=T}function z(U,T){if(C(T))throw Error("division by zero");if(C(U))return new j(v,v);if(L(U))return T=z(R(U),T),new j(R(T.g),R(T.h));if(L(T))return T=z(U,R(T)),new j(R(T.g),T.h);if(30<U.g.length){if(L(U)||L(T))throw Error("slowDivide_ only works with positive integers.");for(var A=y,F=T;0>=F.l(U);)A=ee(A),F=ee(F);var b=oe(A,1),E=oe(F,1);for(F=oe(F,2),A=oe(A,2);!C(F);){var S=E.add(F);0>=S.l(U)&&(b=b.add(A),E=S),F=oe(F,1),A=oe(A,1)}return T=P(U,b.j(T)),new j(b,T)}for(b=v;0<=U.l(T);){for(A=Math.max(1,Math.floor(U.m()/T.m())),F=Math.ceil(Math.log(A)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),E=h(A),S=E.j(T);L(S)||0<S.l(U);)A-=F,E=h(A),S=E.j(T);C(E)&&(E=y),b=b.add(E),U=P(U,S)}return new j(b,U)}n.A=function(U){return z(this,U).h},n.and=function(U){for(var T=Math.max(this.g.length,U.g.length),A=[],F=0;F<T;F++)A[F]=this.i(F)&U.i(F);return new o(A,this.h&U.h)},n.or=function(U){for(var T=Math.max(this.g.length,U.g.length),A=[],F=0;F<T;F++)A[F]=this.i(F)|U.i(F);return new o(A,this.h|U.h)},n.xor=function(U){for(var T=Math.max(this.g.length,U.g.length),A=[],F=0;F<T;F++)A[F]=this.i(F)^U.i(F);return new o(A,this.h^U.h)};function ee(U){for(var T=U.g.length+1,A=[],F=0;F<T;F++)A[F]=U.i(F)<<1|U.i(F-1)>>>31;return new o(A,U.h)}function oe(U,T){var A=T>>5;T%=32;for(var F=U.g.length-A,b=[],E=0;E<F;E++)b[E]=0<T?U.i(E+A)>>>T|U.i(E+A+1)<<32-T:U.i(E+A);return new o(b,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vg=Ov.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,no=Ov.Integer=o}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ro={};var yg,T3,Dc,wg,cl,ed,bg,Ig,Ag;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,_,I){return l==Array.prototype||l==Object.prototype||(l[_]=I.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var _=0;_<l.length;++_){var I=l[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(l,_){if(_)e:{var I=r;l=l.split(".");for(var M=0;M<l.length-1;M++){var ne=l[M];if(!(ne in I))break e;I=I[ne]}l=l[l.length-1],M=I[l],_=_(M),_!=M&&_!=null&&e(I,l,{configurable:!0,writable:!0,value:_})}}function s(l,_){l instanceof String&&(l+="");var I=0,M=!1,ne={next:function(){if(!M&&I<l.length){var de=I++;return{value:_(de,l[de]),done:!1}}return M=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(l){return l||function(){return s(this,function(_,I){return I})}});var o=o||{},a=this||self;function c(l){var _=typeof l;return _=_!="object"?_:l?Array.isArray(l)?"array":_:"null",_=="array"||_=="object"&&typeof l.length=="number"}function h(l){var _=typeof l;return _=="object"&&l!=null||_=="function"}function f(l,_,I){return l.call.apply(l.bind,arguments)}function v(l,_,I){if(!l)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,M),l.apply(_,ne)}}return function(){return l.apply(_,arguments)}}function y(l,_,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:v,y.apply(null,arguments)}function g(l,_){var I=Array.prototype.slice.call(arguments,1);return function(){var M=I.slice();return M.push.apply(M,arguments),l.apply(this,M)}}function C(l,_){function I(){}I.prototype=_.prototype,l.aa=_.prototype,l.prototype=new I,l.prototype.constructor=l,l.Qb=function(M,ne,de){for(var Ce=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)Ce[jt-2]=arguments[jt];return _.prototype[ne].apply(M,Ce)}}function L(l){let _=l.length;if(0<_){let I=Array(_);for(let M=0;M<_;M++)I[M]=l[M];return I}return[]}function R(l,_){for(let I=1;I<arguments.length;I++){let M=arguments[I];if(c(M)){let ne=l.length||0,de=M.length||0;l.length=ne+de;for(let Ce=0;Ce<de;Ce++)l[ne+Ce]=M[Ce]}else l.push(M)}}class P{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(l){return/^[\s\xa0]*$/.test(l)}function j(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function z(l){return z[" "](l),l}z[" "]=function(){};var ee=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function oe(l,_,I){for(let M in l)_.call(I,l[M],M,l)}function U(l,_){for(let I in l)_.call(void 0,l[I],I,l)}function T(l){let _={};for(let I in l)_[I]=l[I];return _}let A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(l,_){let I,M;for(let ne=1;ne<arguments.length;ne++){M=arguments[ne];for(I in M)l[I]=M[I];for(let de=0;de<A.length;de++)I=A[de],Object.prototype.hasOwnProperty.call(M,I)&&(l[I]=M[I])}}function b(l){var _=1;l=l.split(":");let I=[];for(;0<_&&l.length;)I.push(l.shift()),_--;return l.length&&I.push(l.join(":")),I}function E(l){a.setTimeout(()=>{throw l},0)}function S(){var l=_e;let _=null;return l.g&&(_=l.g,l.g=l.g.next,l.g||(l.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,I){let M=he.get();M.set(_,I),this.h?this.h.next=M:this.g=M,this.h=M}}var he=new P(()=>new me,l=>l.reset());class me{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ce=!1,_e=new J,Re=()=>{let l=a.Promise.resolve(void 0);ge=()=>{l.then(Te)}};var Te=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(I){E(I)}var _=he;_.j(l),100>_.h&&(_.h++,l.next=_.g,_.g=l)}ce=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(l,_){this.type=l,this.g=this.target=_,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,_=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let I=()=>{};a.addEventListener("test",I,_),a.removeEventListener("test",I,_)}catch{}return l})();function Q(l,_){if(K.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var I=this.type=l.type,M=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=_,_=l.relatedTarget){if(ee){e:{try{z(_.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(_=null)}}else I=="mouseover"?_=l.fromElement:I=="mouseout"&&(_=l.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Q.aa.h.call(this)}}C(Q,K);var re={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),fe=0;function pe(l,_,I,M,ne){this.listener=l,this.proxy=null,this.src=_,this.type=I,this.capture=!!M,this.ha=ne,this.key=++fe,this.da=this.fa=!1}function be(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Pe(l){this.src=l,this.g={},this.h=0}Pe.prototype.add=function(l,_,I,M,ne){var de=l.toString();l=this.g[de],l||(l=this.g[de]=[],this.h++);var Ce=Oe(l,_,M,ne);return-1<Ce?(_=l[Ce],I||(_.fa=!1)):(_=new pe(_,this.src,de,!!M,ne),_.fa=I,l.push(_)),_};function Fe(l,_){var I=_.type;if(I in l.g){var M=l.g[I],ne=Array.prototype.indexOf.call(M,_,void 0),de;(de=0<=ne)&&Array.prototype.splice.call(M,ne,1),de&&(be(_),l.g[I].length==0&&(delete l.g[I],l.h--))}}function Oe(l,_,I,M){for(var ne=0;ne<l.length;++ne){var de=l[ne];if(!de.da&&de.listener==_&&de.capture==!!I&&de.ha==M)return ne}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),$={};function De(l,_,I,M,ne){if(M&&M.once)return Ne(l,_,I,M,ne);if(Array.isArray(_)){for(var de=0;de<_.length;de++)De(l,_[de],I,M,ne);return null}return I=pt(I),l&&l[ae]?l.K(_,I,h(M)?!!M.capture:!!M,ne):It(l,_,I,!1,M,ne)}function It(l,_,I,M,ne,de){if(!_)throw Error("Invalid event type");var Ce=h(ne)?!!ne.capture:!!ne,jt=Mt(l);if(jt||(l[Ke]=jt=new Pe(l)),I=jt.add(_,I,M,Ce,de),I.proxy)return I;if(M=rt(),I.proxy=M,M.src=l,M.listener=I,l.addEventListener)Y||(ne=Ce),ne===void 0&&(ne=!1),l.addEventListener(_.toString(),M,ne);else if(l.attachEvent)l.attachEvent(Ze(_.toString()),M);else if(l.addListener&&l.removeListener)l.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return I}function rt(){function l(I){return _.call(l.src,l.listener,I)}let _=Xe;return l}function Ne(l,_,I,M,ne){if(Array.isArray(_)){for(var de=0;de<_.length;de++)Ne(l,_[de],I,M,ne);return null}return I=pt(I),l&&l[ae]?l.L(_,I,h(M)?!!M.capture:!!M,ne):It(l,_,I,!0,M,ne)}function tt(l,_,I,M,ne){if(Array.isArray(_))for(var de=0;de<_.length;de++)tt(l,_[de],I,M,ne);else M=h(M)?!!M.capture:!!M,I=pt(I),l&&l[ae]?(l=l.i,_=String(_).toString(),_ in l.g&&(de=l.g[_],I=Oe(de,I,M,ne),-1<I&&(be(de[I]),Array.prototype.splice.call(de,I,1),de.length==0&&(delete l.g[_],l.h--)))):l&&(l=Mt(l))&&(_=l.g[_.toString()],l=-1,_&&(l=Oe(_,I,M,ne)),(I=-1<l?_[l]:null)&&Ue(I))}function Ue(l){if(typeof l!="number"&&l&&!l.da){var _=l.src;if(_&&_[ae])Fe(_.i,l);else{var I=l.type,M=l.proxy;_.removeEventListener?_.removeEventListener(I,M,l.capture):_.detachEvent?_.detachEvent(Ze(I),M):_.addListener&&_.removeListener&&_.removeListener(M),(I=Mt(_))?(Fe(I,l),I.h==0&&(I.src=null,_[Ke]=null)):be(l)}}}function Ze(l){return l in $?$[l]:$[l]="on"+l}function Xe(l,_){if(l.da)l=!0;else{_=new Q(_,this);var I=l.listener,M=l.ha||l.src;l.fa&&Ue(l),l=I.call(M,_)}return l}function Mt(l){return l=l[Ke],l instanceof Pe?l:null}var Pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(l){return typeof l=="function"?l:(l[Pt]||(l[Pt]=function(_){return l.handleEvent(_)}),l[Pt])}function at(){D.call(this),this.i=new Pe(this),this.M=this,this.F=null}C(at,D),at.prototype[ae]=!0,at.prototype.removeEventListener=function(l,_,I,M){tt(this,l,_,I,M)};function ct(l,_){var I,M=l.F;if(M)for(I=[];M;M=M.F)I.push(M);if(l=l.M,M=_.type||_,typeof _=="string")_=new K(_,l);else if(_ instanceof K)_.target=_.target||l;else{var ne=_;_=new K(M,l),F(_,ne)}if(ne=!0,I)for(var de=I.length-1;0<=de;de--){var Ce=_.g=I[de];ne=qe(Ce,M,!0,_)&&ne}if(Ce=_.g=l,ne=qe(Ce,M,!0,_)&&ne,ne=qe(Ce,M,!1,_)&&ne,I)for(de=0;de<I.length;de++)Ce=_.g=I[de],ne=qe(Ce,M,!1,_)&&ne}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,_;for(_ in l.g){for(var I=l.g[_],M=0;M<I.length;M++)be(I[M]);delete l.g[_],l.h--}}this.F=null},at.prototype.K=function(l,_,I,M){return this.i.add(String(l),_,!1,I,M)},at.prototype.L=function(l,_,I,M){return this.i.add(String(l),_,!0,I,M)};function qe(l,_,I,M){if(_=l.i.g[String(_)],!_)return!0;_=_.concat();for(var ne=!0,de=0;de<_.length;++de){var Ce=_[de];if(Ce&&!Ce.da&&Ce.capture==I){var jt=Ce.listener,Tn=Ce.ha||Ce.src;Ce.fa&&Fe(l.i,Ce),ne=jt.call(Tn,M)!==!1&&ne}}return ne&&!M.defaultPrevented}function vt(l,_,I){if(typeof l=="function")I&&(l=y(l,I));else if(l&&typeof l.handleEvent=="function")l=y(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(l,_||0)}function Ge(l){l.g=vt(()=>{l.g=null,l.i&&(l.i=!1,Ge(l))},l.l);let _=l.h;l.h=null,l.m.apply(null,_)}class In extends D{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kt(l){D.call(this),this.h=l,this.g={}}C(kt,D);var Tt=[];function St(l){oe(l.g,function(_,I){this.g.hasOwnProperty(I)&&Ue(_)},l),l.g={}}kt.prototype.N=function(){kt.aa.N.call(this),St(this)},kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=a.JSON.stringify,et=a.JSON.parse,Qt=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function it(){}it.prototype.h=null;function _t(l){return l.h||(l.h=l.i())}function sn(){}var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nt(){K.call(this,"d")}C(nt,K);function Vt(){K.call(this,"c")}C(Vt,K);var Sr={},Gn=null;function Ur(){return Gn=Gn||new at}Sr.La="serverreachability";function Jr(l){K.call(this,Sr.La,l)}C(Jr,K);function Qe(l){let _=Ur();ct(_,new Jr(_))}Sr.STAT_EVENT="statevent";function vi(l,_){K.call(this,Sr.STAT_EVENT,l),this.stat=_}C(vi,K);function pn(l){let _=Ur();ct(_,new vi(_,l))}Sr.Ma="timingevent";function Nr(l,_){K.call(this,Sr.Ma,l),this.size=_}C(Nr,K);function Zn(l,_){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},_)}function Zt(){this.g=!0}Zt.prototype.xa=function(){this.g=!1};function Bn(l,_,I,M,ne,de){l.info(function(){if(l.g)if(de)for(var Ce="",jt=de.split("&"),Tn=0;Tn<jt.length;Tn++){var ft=jt[Tn].split("=");if(1<ft.length){var dn=ft[0];ft=ft[1];var Sn=dn.split("_");Ce=2<=Sn.length&&Sn[1]=="type"?Ce+(dn+"="+ft+"&"):Ce+(dn+"=redacted&")}}else Ce=null;else Ce=de;return"XMLHTTP REQ ("+M+") [attempt "+ne+"]: "+_+`
`+I+`
`+Ce})}function Kn(l,_,I,M,ne,de,Ce){l.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+ne+"]: "+_+`
`+I+`
`+de+" "+Ce})}function Br(l,_,I,M){l.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xr(l,I)+(M?" "+M:"")})}function es(l,_){l.info(function(){return"TIMEOUT: "+_})}Zt.prototype.info=function(){};function Xr(l,_){if(!l.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(l=0;l<I.length;l++)if(Array.isArray(I[l])){var M=I[l];if(!(2>M.length)){var ne=M[1];if(Array.isArray(ne)&&!(1>ne.length)){var de=ne[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Ce=1;Ce<ne.length;Ce++)ne[Ce]=""}}}}return Xt(I)}catch{return _}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pr;function ar(){}C(ar,it),ar.prototype.g=function(){return new XMLHttpRequest},ar.prototype.i=function(){return{}},Pr=new ar;function gr(l,_,I,M){this.j=l,this.i=_,this.l=I,this.R=M||1,this.U=new kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qr}function Qr(){this.i=null,this.g="",this.h=!1}var ts={},ns={};function rs(l,_,I){l.L=1,l.v=Fs(qr(_)),l.m=I,l.P=!0,Ls(l,null)}function Ls(l,_){l.F=Date.now(),Ds(l),l.A=qr(l.v);var I=l.A,M=l.R;Array.isArray(M)||(M=[String(M)]),dt(I.i,"t",M),l.C=0,I=l.j.J,l.h=new Qr,l.g=En(l.j,I?_:null,!l.m),0<l.O&&(l.M=new In(y(l.Y,l,l.g),l.O)),_=l.U,I=l.g,M=l.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Tt[0]=ne.toString()),ne=Tt);for(var de=0;de<ne.length;de++){var Ce=De(I,ne[de],M||_.handleEvent,!1,_.h||_);if(!Ce)break;_.g[Ce.key]=Ce}_=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,_)):(l.u="GET",l.g.ea(l.A,l.u,null,_)),Qe(),Bn(l.i,l.u,l.A,l.l,l.R,l.m)}gr.prototype.ca=function(l){l=l.target;let _=this.M;_&&zr(l)==3?_.j():this.Y(l)},gr.prototype.Y=function(l){try{if(l==this.g)e:{let Sn=zr(this.g);var _=this.g.Ba();let Ui=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Aa(this.g)))){this.J||Sn!=4||_==7||(_==8||0>=Ui?Qe(3):Qe(2)),mr(this);var I=this.g.Z();this.X=I;t:if(_c(this)){var M=Aa(this.g);l="";var ne=M.length,de=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),Di(this);var Ce="";break t}this.h.i=new a.TextDecoder}for(_=0;_<ne;_++)this.h.h=!0,l+=this.h.i.decode(M[_],{stream:!(de&&_==ne-1)});M.length=0,this.h.g+=l,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=I==200,Kn(this.i,this.u,this.A,this.l,this.R,Sn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Tn=this.g;if((jt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(jt)){var ft=jt;break t}}ft=null}if(I=ft)Br(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,I);else{this.o=!1,this.s=3,pn(12),yi(this),Di(this);break e}}if(this.P){I=!0;let _n;for(;!this.J&&this.C<Ce.length;)if(_n=ga(this,Ce),_n==ns){Sn==4&&(this.s=4,pn(14),I=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==ts){this.s=4,pn(15),Br(this.i,this.l,Ce,"[Invalid Chunk]"),I=!1;break}else Br(this.i,this.l,_n,null),Os(this,_n);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||Ce.length!=0||this.h.h||(this.s=1,pn(16),I=!1),this.o=this.o&&I,!I)Br(this.i,this.l,Ce,"[Invalid Chunked Response]"),yi(this),Di(this);else if(0<Ce.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),$e(dn),dn.M=!0,pn(11))}}else Br(this.i,this.l,Ce,null),Os(this,Ce);Sn==4&&yi(this),this.o&&!this.J&&(Sn==4?Lt(this.j,this):(this.o=!1,Ds(this)))}else Mi(this.g),I==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),yi(this),Di(this)}}}catch{}};function _c(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ga(l,_){var I=l.C,M=_.indexOf(`
`,I);return M==-1?ns:(I=Number(_.substring(I,M)),isNaN(I)?ts:(M+=1,M+I>_.length?ns:(_=_.slice(M,M+I),l.C=M+I,_)))}gr.prototype.cancel=function(){this.J=!0,yi(this)};function Ds(l){l.S=Date.now()+l.I,ma(l,l.I)}function ma(l,_){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Zn(y(l.ba,l),_)}function mr(l){l.B&&(a.clearTimeout(l.B),l.B=null)}gr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(es(this.i,this.A),this.L!=2&&(Qe(),pn(17)),yi(this),this.s=2,Di(this)):ma(this,this.S-l)};function Di(l){l.j.G==0||l.J||Lt(l.j,l)}function yi(l){mr(l);var _=l.M;_&&typeof _.ma=="function"&&_.ma(),l.M=null,St(l.U),l.g&&(_=l.g,l.g=null,_.abort(),_.ma())}function Os(l,_){try{var I=l.j;if(I.G!=0&&(I.g==l||is(I.h,l))){if(!l.K&&is(I.h,l)&&I.G==3){try{var M=I.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var ne=M;if(ne[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<l.F)gt(I),js(I);else break e;Be(I),pn(18)}}else I.za=ne[1],0<I.za-I.T&&37500>ne[2]&&I.F&&I.v==0&&!I.C&&(I.C=Zn(y(I.Za,I),6e3));if(1>=Zr(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else tn(I,11)}else if((l.K||I.g==l)&&gt(I),!q(_))for(ne=I.Da.g.parse(_),_=0;_<ne.length;_++){let ft=ne[_];if(I.T=ft[0],ft=ft[1],I.G==2)if(ft[0]=="c"){I.K=ft[1],I.ia=ft[2];let dn=ft[3];dn!=null&&(I.la=dn,I.j.info("VER="+I.la));let Sn=ft[4];Sn!=null&&(I.Aa=Sn,I.j.info("SVER="+I.Aa));let Ui=ft[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(M=1.5*Ui,I.L=M,I.j.info("backChannelRequestTimeoutMs_="+M)),M=I;let _n=l.g;if(_n){let Ti=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var de=M.h;de.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(ya(de,de.h),de.h=null))}if(M.D){let qs=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(M.ya=qs,Wt(M.I,M.D,qs))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-l.F,I.j.info("Handshake RTT: "+I.R+"ms")),M=I;var Ce=l;if(M.qa=Nn(M,M.J?M.ia:null,M.W),Ce.K){An(M.h,Ce);var jt=Ce,Tn=M.L;Tn&&(jt.I=Tn),jt.B&&(mr(jt),Ds(jt)),M.g=Ce}else Ee(M);0<I.i.length&&N(I)}else ft[0]!="stop"&&ft[0]!="close"||tn(I,7);else I.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?tn(I,7):Vi(I):ft[0]!="noop"&&I.l&&I.l.ta(ft),I.v=0)}}Qe(4)}catch{}}var vc=class{constructor(l,_){this.g=l,this.map=_}};function _a(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Zr(l){return l.h?1:l.g?l.g.size:0}function is(l,_){return l.h?l.h==_:l.g?l.g.has(_):!1}function ya(l,_){l.g?l.g.add(_):l.h=_}function An(l,_){l.h&&l.h==_?l.h=null:l.g&&l.g.has(_)&&l.g.delete(_)}_a.prototype.cancel=function(){if(this.i=wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function wa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let _=l.i;for(let I of l.g.values())_=_.concat(I.D);return _}return L(l.i)}function wi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var _=[],I=l.length,M=0;M<I;M++)_.push(l[M]);return _}_=[],I=0;for(M in l)_[I++]=l[M];return _}function vo(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var _=[];l=l.length;for(var I=0;I<l;I++)_.push(I);return _}_=[],I=0;for(let M in l)_[I++]=M;return _}}}function ba(l,_){if(l.forEach&&typeof l.forEach=="function")l.forEach(_,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,_,void 0);else for(var I=vo(l),M=wi(l),ne=M.length,de=0;de<ne;de++)_.call(void 0,M[de],I&&I[de],l)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cn(l,_){if(l){l=l.split("&");for(var I=0;I<l.length;I++){var M=l[I].indexOf("="),ne=null;if(0<=M){var de=l[I].substring(0,M);ne=l[I].substring(M+1)}else de=l[I];_(de,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function cr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof cr){this.h=l.h,yo(this,l.j),this.o=l.o,this.g=l.g,wo(this,l.s),this.l=l.l;var _=l.i,I=new Ms;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),ei(this,I),this.m=l.m}else l&&(_=String(l).match(kr))?(this.h=!1,yo(this,_[1]||"",!0),this.o=bi(_[2]||""),this.g=bi(_[3]||"",!0),wo(this,_[4]),this.l=bi(_[5]||"",!0),ei(this,_[6]||"",!0),this.m=bi(_[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}cr.prototype.toString=function(){var l=[],_=this.j;_&&l.push(ti(_,yc,!0),":");var I=this.g;return(I||_=="file")&&(l.push("//"),(_=this.o)&&l.push(ti(_,yc,!0),"@"),l.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&l.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&l.push("/"),l.push(ti(I,I.charAt(0)=="/"?Ia:Tu,!0))),(I=this.i.toString())&&l.push("?",I),(I=this.m)&&l.push("#",ti(I,ni)),l.join("")};function qr(l){return new cr(l)}function yo(l,_,I){l.j=I?bi(_,!0):_,l.j&&(l.j=l.j.replace(/:$/,""))}function wo(l,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);l.s=_}else l.s=null}function ei(l,_,I){_ instanceof Ms?(l.i=_,Su(l.i,l.h)):(I||(_=ti(_,wc)),l.i=new Ms(_,l.h))}function Wt(l,_,I){l.i.set(_,I)}function Fs(l){return Wt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function bi(l,_){return l?_?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ti(l,_,I){return typeof l=="string"?(l=encodeURI(l).replace(_,Eu),I&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Eu(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var yc=/[#\/\?@]/g,Tu=/[#\?:]/g,Ia=/[#\?]/g,wc=/[#\?@]/g,ni=/#/g;function Ms(l,_){this.h=this.g=null,this.i=l||null,this.j=!!_}function _r(l){l.g||(l.g=new Map,l.h=0,l.i&&Cn(l.i,function(_,I){l.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}n=Ms.prototype,n.add=function(l,_){_r(this),this.i=null,l=ss(this,l);var I=this.g.get(l);return I||this.g.set(l,I=[]),I.push(_),this.h+=1,this};function bo(l,_){_r(l),_=ss(l,_),l.g.has(_)&&(l.i=null,l.h-=l.g.get(_).length,l.g.delete(_))}function bc(l,_){return _r(l),_=ss(l,_),l.g.has(_)}n.forEach=function(l,_){_r(this),this.g.forEach(function(I,M){I.forEach(function(ne){l.call(_,ne,M,this)},this)},this)},n.na=function(){_r(this);let l=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let M=0;M<_.length;M++){let ne=l[M];for(let de=0;de<ne.length;de++)I.push(_[M])}return I},n.V=function(l){_r(this);let _=[];if(typeof l=="string")bc(this,l)&&(_=_.concat(this.g.get(ss(this,l))));else{l=Array.from(this.g.values());for(let I=0;I<l.length;I++)_=_.concat(l[I])}return _},n.set=function(l,_){return _r(this),this.i=null,l=ss(this,l),bc(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[_]),this.h+=1,this},n.get=function(l,_){return l?(l=this.V(l),0<l.length?String(l[0]):_):_};function dt(l,_,I){bo(l,_),0<I.length&&(l.i=null,l.g.set(ss(l,_),L(I)),l.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var M=_[I];let de=encodeURIComponent(String(M)),Ce=this.V(M);for(M=0;M<Ce.length;M++){var ne=de;Ce[M]!==""&&(ne+="="+encodeURIComponent(String(Ce[M]))),l.push(ne)}}return this.i=l.join("&")};function ss(l,_){return _=String(_),l.j&&(_=_.toLowerCase()),_}function Su(l,_){_&&!l.j&&(_r(l),l.i=null,l.g.forEach(function(I,M){var ne=M.toLowerCase();M!=ne&&(bo(this,M),dt(this,ne,I))},l)),l.j=_}function Nu(l,_){let I=new Zt;if(a.Image){let M=new Image;M.onload=g(er,I,"TestLoadImage: loaded",!0,_,M),M.onerror=g(er,I,"TestLoadImage: error",!1,_,M),M.onabort=g(er,I,"TestLoadImage: abort",!1,_,M),M.ontimeout=g(er,I,"TestLoadImage: timeout",!1,_,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=l}else _(!1)}function Oi(l,_){let I=new Zt,M=new AbortController,ne=setTimeout(()=>{M.abort(),er(I,"TestPingServer: timeout",!1,_)},1e4);fetch(l,{signal:M.signal}).then(de=>{clearTimeout(ne),de.ok?er(I,"TestPingServer: ok",!0,_):er(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ne),er(I,"TestPingServer: error",!1,_)})}function er(l,_,I,M,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),M(I)}catch{}}function xu(){this.g=new Qt}function Pu(l,_,I){let M=I||"";try{ba(l,function(ne,de){let Ce=ne;h(ne)&&(Ce=Xt(ne)),_.push(M+de+"="+encodeURIComponent(Ce))})}catch(ne){throw _.push(M+"type="+encodeURIComponent("_badmap")),ne}}function Ii(l){this.l=l.Ub||null,this.j=l.eb||!1}C(Ii,it),Ii.prototype.g=function(){return new os(this.l,this.j)},Ii.prototype.i=(function(l){return function(){return l}})({});function os(l,_){at.call(this),this.D=l,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(os,at),n=os.prototype,n.open=function(l,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=_,this.readyState=1,Rr(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(_.body=l),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;as(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function as(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var _=l.value?l.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!l.done}))&&(this.response=this.responseText+=_)}l.done?Vs(this):Rr(this),this.readyState==3&&as(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Vs(this))},n.Qa=function(l){this.g&&(this.response=l,Vs(this))},n.ga=function(){this.g&&Vs(this)};function Vs(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rr(l)}n.setRequestHeader=function(l,_){this.u.append(l,_)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,l.push(I[0]+": "+I[1]),I=_.next();return l.join(`\r
`)};function Rr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ic(l){let _="";return oe(l,function(I,M){_+=M,_+=":",_+=I,_+=`\r
`}),_}function Us(l,_,I){e:{for(M in I){var M=!1;break e}M=!0}M||(I=Ic(I),typeof l=="string"?I!=null&&encodeURIComponent(String(I)):Wt(l,_,I))}function en(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(en,at);var Ac=/^https?$/i,Fi=["POST","PUT"];n=en.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,_,I,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);_=_?_.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pr.g(),this.v=this.o?_t(this.o):_t(Pr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(l),!0),this.B=!1}catch(de){Io(this,de);return}if(l=I||"",I=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var ne in M)I.set(ne,M[ne]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(let de of M.keys())I.set(de,M.get(de));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(I.keys()).find(de=>de.toLowerCase()=="content-type"),ne=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Fi,_,void 0))||M||ne||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[de,Ce]of I)this.g.setRequestHeader(de,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(l),this.u=!1}catch(de){Io(this,de)}};function Io(l,_){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=_,l.m=5,Bs(l),Ai(l)}function Bs(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),Ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),en.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ao(this):this.bb())},n.bb=function(){Ao(this)};function Ao(l){if(l.h&&typeof o<"u"&&(!l.v[1]||zr(l)!=4||l.Z()!=2)){if(l.u&&zr(l)==4)vt(l.Ea,0,l);else if(ct(l,"readystatechange"),zr(l)==4){l.h=!1;try{let Ce=l.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var M;if(M=Ce===0){var ne=String(l.D).match(kr)[1]||null;!ne&&a.self&&a.self.location&&(ne=a.self.location.protocol.slice(0,-1)),M=!Ac.test(ne?ne.toLowerCase():"")}I=M}if(I)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var de=2<zr(l)?l.g.statusText:""}catch{de=""}l.l=de+" ["+l.Z()+"]",Bs(l)}}finally{Ai(l)}}}}function Ai(l,_){if(l.g){Eo(l);let I=l.g,M=l.v[0]?()=>{}:null;l.g=null,l.v=null,_||ct(l,"ready");try{I.onreadystatechange=M}catch{}}}function Eo(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function zr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var _=this.g.responseText;return l&&_.indexOf(l)==0&&(_=_.substring(l.length)),et(_)}};function Aa(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(l){let _={};l=(l.g&&2<=zr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<l.length;M++){if(q(l[M]))continue;var I=b(l[M]);let ne=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();let de=_[ne]||[];_[ne]=de,de.push(I)}U(_,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(l,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[l]||_}function Ea(l){this.Aa=0,this.i=[],this.j=new Zt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,l),this.cb=Cr("retryDelaySeedMs",1e4,l),this.Wa=Cr("forwardChannelMaxRetries",2,l),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _a(l&&l.concurrentRequestLimit),this.Da=new xu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ea.prototype,n.la=8,n.G=1,n.connect=function(l,_,I,M){pn(0),this.W=l,this.H=_||{},I&&M!==void 0&&(this.H.OSID=I,this.H.OAID=M),this.F=this.X,this.I=Nn(this,null,this.W),N(this)};function Vi(l){if(p(l),l.G==3){var _=l.U++,I=qr(l.I);if(Wt(I,"SID",l.K),Wt(I,"RID",_),Wt(I,"TYPE","terminate"),ie(l,I),_=new gr(l,l.j,_),_.L=2,_.v=Fs(qr(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=_.v,I=!0),I||(_.g=En(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ds(_)}Kt(l)}function js(l){l.g&&($e(l),l.g.cancel(),l.g=null)}function p(l){js(l),l.u&&(a.clearTimeout(l.u),l.u=null),gt(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function N(l){if(!va(l.h)&&!l.s){l.s=!0;var _=l.Ga;ge||Re(),ce||(ge(),ce=!0),_e.add(_,l),l.B=0}}function W(l,_){return Zr(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=_.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Zn(y(l.Ga,l,_),hn(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let ne=new gr(this,this.j,l),de=this.o;if(this.S&&(de?(de=T(de),F(de,this.S)):de=this.S),this.m!==null||this.O||(ne.H=de,de=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var M=this.i[I];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=ye(this,ne,_),I=qr(this.I),Wt(I,"RID",l),Wt(I,"CVER",22),this.D&&Wt(I,"X-HTTP-Session-Id",this.D),ie(this,I),de&&(this.O?_="headers="+encodeURIComponent(String(Ic(de)))+"&"+_:this.m&&Us(I,this.m,de)),ya(this.h,ne),this.Ua&&Wt(I,"TYPE","init"),this.P?(Wt(I,"$req",_),Wt(I,"SID","null"),ne.T=!0,rs(ne,I,null)):rs(ne,I,_),this.G=2}}else this.G==3&&(l?X(this,l):this.i.length==0||va(this.h)||X(this))};function X(l,_){var I;_?I=_.l:I=l.U++;let M=qr(l.I);Wt(M,"SID",l.K),Wt(M,"RID",I),Wt(M,"AID",l.T),ie(l,M),l.m&&l.o&&Us(M,l.m,l.o),I=new gr(l,l.j,I,l.B+1),l.m===null&&(I.H=l.o),_&&(l.i=_.D.concat(l.i)),_=ye(l,I,1e3),I.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ya(l.h,I),rs(I,M,_)}function ie(l,_){l.H&&oe(l.H,function(I,M){Wt(_,M,I)}),l.l&&ba({},function(I,M){Wt(_,M,I)})}function ye(l,_,I){I=Math.min(l.i.length,I);var M=l.l?y(l.l.Na,l.l,l):null;e:{var ne=l.i;let de=-1;for(;;){let Ce=["count="+I];de==-1?0<I?(de=ne[0].g,Ce.push("ofs="+de)):de=0:Ce.push("ofs="+de);let jt=!0;for(let Tn=0;Tn<I;Tn++){let ft=ne[Tn].g,dn=ne[Tn].map;if(ft-=de,0>ft)de=Math.max(0,ne[Tn].g-100),jt=!1;else try{Pu(dn,Ce,"req"+ft+"_")}catch{M&&M(dn)}}if(jt){M=Ce.join("&");break e}}}return l=l.i.splice(0,I),_.D=l,M}function Ee(l){if(!l.g&&!l.u){l.Y=1;var _=l.Fa;ge||Re(),ce||(ge(),ce=!0),_e.add(_,l),l.v=0}}function Be(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Zn(y(l.Fa,l),hn(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,lt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Zn(y(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),js(this),lt(this))};function $e(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function lt(l){l.g=new gr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var _=qr(l.qa);Wt(_,"RID","rpc"),Wt(_,"SID",l.K),Wt(_,"AID",l.T),Wt(_,"CI",l.F?"0":"1"),!l.F&&l.ja&&Wt(_,"TO",l.ja),Wt(_,"TYPE","xmlhttp"),ie(l,_),l.m&&l.o&&Us(_,l.m,l.o),l.L&&(l.g.I=l.L);var I=l.g;l=l.ia,I.L=1,I.v=Fs(qr(_)),I.m=null,I.P=!0,Ls(I,l)}n.Za=function(){this.C!=null&&(this.C=null,js(this),Be(this),pn(19))};function gt(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Lt(l,_){var I=null;if(l.g==_){gt(l),$e(l),l.g=null;var M=2}else if(is(l.h,_))I=_.D,An(l.h,_),M=1;else return;if(l.G!=0){if(_.o)if(M==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var ne=l.B;M=Ur(),ct(M,new Nr(M,I)),N(l)}else Ee(l);else if(ne=_.s,ne==3||ne==0&&0<_.X||!(M==1&&W(l,_)||M==2&&Be(l)))switch(I&&0<I.length&&(_=l.h,_.i=_.i.concat(I)),ne){case 1:tn(l,5);break;case 4:tn(l,10);break;case 3:tn(l,6);break;default:tn(l,2)}}}function hn(l,_){let I=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(I*=2),I*_}function tn(l,_){if(l.j.info("Error code "+_),_==2){var I=y(l.fb,l),M=l.Xa;let ne=!M;M=new cr(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yo(M,"https"),Fs(M),ne?Nu(M.toString(),I):Oi(M.toString(),I)}else pn(2);l.G=0,l.l&&l.l.sa(_),Kt(l),p(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function Kt(l){if(l.G=0,l.ka=[],l.l){let _=wa(l.h);(_.length!=0||l.i.length!=0)&&(R(l.ka,_),R(l.ka,l.i),l.h.i.length=0,L(l.i),l.i.length=0),l.l.ra()}}function Nn(l,_,I){var M=I instanceof cr?qr(I):new cr(I);if(M.g!="")_&&(M.g=_+"."+M.g),wo(M,M.s);else{var ne=a.location;M=ne.protocol,_=_?_+"."+ne.hostname:ne.hostname,ne=+ne.port;var de=new cr(null);M&&yo(de,M),_&&(de.g=_),ne&&wo(de,ne),I&&(de.l=I),M=de}return I=l.D,_=l.ya,I&&_&&Wt(M,I,_),Wt(M,"VER",l.la),ie(l,M),M}function En(l,_,I){if(_&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=l.Ca&&!l.pa?new en(new Ii({eb:I})):new en(l.pa),_.Ha(l.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jn(){}n=jn.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $r(){}$r.prototype.g=function(l,_){return new gn(l,_)};function gn(l,_){at.call(this),this.g=new Ea(_),this.l=l,this.h=_&&_.messageUrlParams||null,l=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(l?l["X-WebChannel-Content-Type"]=_.messageContentType:l={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(l?l["X-WebChannel-Client-Profile"]=_.va:l={"X-WebChannel-Client-Profile":_.va}),this.g.S=l,(l=_&&_.Sb)&&!q(l)&&(this.g.m=l),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!q(_)&&(this.g.D=_,l=this.h,l!==null&&_ in l&&(l=this.h,_ in l&&delete l[_])),this.j=new ri(this)}C(gn,at),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Vi(this.g)},gn.prototype.o=function(l){var _=this.g;if(typeof l=="string"){var I={};I.__data__=l,l=I}else this.u&&(I={},I.__data__=Xt(l),l=I);_.i.push(new vc(_.Ya++,l)),_.G==3&&N(_)},gn.prototype.N=function(){this.g.l=null,delete this.j,Vi(this.g),delete this.g,gn.aa.N.call(this)};function Ei(l){nt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var _=l.__sm__;if(_){e:{for(let I in _){l=I;break e}l=void 0}(this.i=l)&&(l=this.i,_=_!==null&&l in _?_[l]:void 0),this.data=_}else this.data=l}C(Ei,nt);function To(){Vt.call(this),this.status=1}C(To,Vt);function ri(l){this.g=l}C(ri,jn),ri.prototype.ua=function(){ct(this.g,"a")},ri.prototype.ta=function(l){ct(this.g,new Ei(l))},ri.prototype.sa=function(l){ct(this.g,new To)},ri.prototype.ra=function(){ct(this.g,"b")},$r.prototype.createWebChannel=$r.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ag=ro.createWebChannelTransport=function(){return new $r},Ig=ro.getStatEventTarget=function(){return Ur()},bg=ro.Event=Sr,ed=ro.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,cl=ro.ErrorCode=xr,jr.COMPLETE="complete",wg=ro.EventType=jr,sn.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",at.prototype.listen=at.prototype.K,Dc=ro.WebChannel=sn,T3=ro.FetchXmlHttpFactory=Ii,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,yg=ro.XhrIo=en}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});var Fv="@firebase/firestore",Mv="4.8.0";var nr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");var tu="11.10.0";var Ha=new fs("@firebase/firestore");function Oc(){return Ha.logLevel}function Ve(n,...e){if(Ha.logLevel<=Ct.DEBUG){let t=e.map(g1);Ha.debug(`Firestore (${tu}): ${n}`,...t)}}function so(n,...e){if(Ha.logLevel<=Ct.ERROR){let t=e.map(g1);Ha.error(`Firestore (${tu}): ${n}`,...t)}}function ta(n,...e){if(Ha.logLevel<=Ct.WARN){let t=e.map(g1);Ha.warn(`Firestore (${tu}): ${n}`,...t)}}function g1(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ut(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ky(n,r,t)}function ky(n,e,t){let r=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw so(r),new Error(r)}function Gt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||ky(e,i,r)}function wt(n,e){return n}var Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Me=class extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var io=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ad=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}},Pg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},kg=class{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Gt(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new io;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new io,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new io)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new ad(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new nr(e)}},Rg=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Cg=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Rg(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Lg=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Gt(this.o===void 0,3512);let r=s=>{s.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function S3(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function Ry(){return new TextEncoder}var pl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=S3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Rt(n,e){return n<e?-1:n>e?1:0}function Dg(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Rt(r,i);{let s=Ry(),o=N3(s.encode(Vv(n,t)),s.encode(Vv(e,t)));return o!==0?o:Rt(r,i)}}t+=r>65535?2:1}return Rt(n.length,e.length)}function Vv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function N3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Rt(n[t],e[t]);return Rt(n.length,e.length)}function zc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Uv="__name__",ud=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ut(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ut(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Rt(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}},yn=class n extends ud{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Me(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},x3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pi=class n extends ud{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return x3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new n([Uv])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new Me(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Me(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Me(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Me(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ot=class n{constructor(e){this.path=e}static fromPath(e){return new n(yn.fromString(e))}static fromName(e){return new n(yn.fromString(e).popFirst(5))}static empty(){return new n(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new yn(e.slice()))}};function Cy(n,e,t){if(!t)throw new Me(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P3(n,e,t,r){if(e===!0&&r===!0)throw new Me(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bv(n){if(!ot.isDocumentKey(n))throw new Me(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jv(n){if(ot.isDocumentKey(n))throw new Me(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ly(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function jd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ut(12329,{type:typeof n})}function ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=jd(n);throw new Me(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Wn(n,e){let t={typeString:n};return e&&(t.value=e),t}function Tl(n,e){if(!Ly(n))throw new Me(Ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Me(Ae.INVALID_ARGUMENT,t);return!0}var qv=-62135596800,zv=1e6,Hn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*zv);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qv)throw new Me(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zv}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Hn._jsonSchemaVersion="firestore/timestamp/1.0",Hn._jsonSchema={type:Wn("string",Hn._jsonSchemaVersion),seconds:Wn("number"),nanoseconds:Wn("number")};var Et=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Hn(0,0))}static max(){return new n(new Hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gl=-1,Og=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Og.UNKNOWN_ID=-1;function k3(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Et.fromTimestamp(r===1e9?new Hn(t+1,0):new Hn(t,r));return new Ga(i,ot.empty(),e)}function R3(n){return new Ga(n.readTime,n.key,gl)}var Ga=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Et.min(),ot.empty(),gl)}static max(){return new n(Et.max(),ot.empty(),gl)}};function C3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ot.comparator(n.documentKey,e.documentKey),t!==0?t:Rt(n.largestBatchId,e.largestBatchId))}var L3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function nu(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==L3)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}var xe=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let h=c;t(e[h]).next(f=>{o[h]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function D3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ru(n){return n.name==="IndexedDbTransactionError"}var m1=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),_1=-1;function qd(n){return n==null}function ml(n){return n===0&&1/n==-1/0}function O3(n){return typeof n=="number"&&Number.isInteger(n)&&!ml(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Dy="";function F3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$v(e)),e=M3(n.get(t),e);return $v(e)}function M3(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case Dy:t+="";break;default:t+=s}}return t}function $v(n){return n+Dy+""}var V3="remoteDocuments",Oy="owner";var Fy="mutationQueues";var My="mutations";var Vy="documentMutations",U3="remoteDocumentsV14";var Uy="remoteDocumentGlobal";var By="targets";var jy="targetDocuments";var qy="targetGlobal",zy="collectionParents";var $y="clientMetadata";var Wy="bundles";var Hy="namedQueries";var B3="indexConfiguration";var j3="indexState";var q3="indexEntries";var Gy="documentOverlays";var z3="globals";var $3=[Fy,My,Vy,V3,By,Oy,qy,jy,$y,Uy,zy,Wy,Hy],LD=[...$3,Gy],W3=[Fy,My,Vy,U3,By,Oy,qy,jy,$y,Uy,zy,Wy,Hy,Gy],H3=W3,G3=[...H3,B3,j3,q3];var DD=[...G3,z3];function Wv(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ky(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var kn=class n{constructor(e,t){this.comparator=e,this.root=t||ws.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}},Uc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ws=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ut(27949);return e+(this.isRed()?0:1)}};ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1;ws.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new ws(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rr=class n{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ld(this.data.getIterator())}getIteratorFrom(e){return new ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ld=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ri=class n{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new n([])}unionWith(e){let t=new rr(pi.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var hd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var br=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hd("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};br.EMPTY_BYTE_STRING=new br("");var K3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(n){if(Gt(!!n,39018),typeof n=="string"){let e=0,t=K3.exec(n);if(Gt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(n.seconds),nanos:vn(n.nanos)}}function vn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ao(n){return typeof n=="string"?br.fromBase64String(n):br.fromUint8Array(n)}var Yy="server_timestamp",Jy="__type__",Xy="__previous_value__",Qy="__local_write_time__";function v1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jy])===null||t===void 0?void 0:t.stringValue)===Yy}function zd(n){let e=n.mapValue.fields[Xy];return v1(e)?zd(e):e}function _l(n){let e=oo(n.mapValue.fields[Qy].timestampValue);return new Hn(e.seconds,e.nanos)}var Mg=class{constructor(e,t,r,i,s,o,a,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f}},dd="(default)",fd=class n{constructor(e,t){this.projectId=e,this.database=t||dd}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===dd}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var y1="__type__",Zy="__max__",td={mapValue:{fields:{__type__:{stringValue:Zy}}}},w1="__vector__",$c="value";function na(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?v1(n)?4:tw(n)?9007199254740991:ew(n)?10:11:ut(28295,{value:n})}function Es(n,e){if(n===e)return!0;let t=na(n);if(t!==na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _l(n).isEqual(_l(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=oo(i.timestampValue),a=oo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return ao(i.bytesValue).isEqual(ao(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=vn(i.doubleValue),a=vn(s.doubleValue);return o===a?ml(o)===ml(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return zc(n.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Wv(o)!==Wv(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Es(o[c],a[c])))return!1;return!0})(n,e);default:return ut(52216,{left:n})}}function vl(n,e){return(n.values||[]).find(t=>Es(t,e))!==void 0}function Wc(n,e){if(n===e)return 0;let t=na(n),r=na(e);if(t!==r)return Rt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rt(n.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=vn(s.integerValue||s.doubleValue),c=vn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return Hv(n.timestampValue,e.timestampValue);case 4:return Hv(_l(n),_l(e));case 5:return Dg(n.stringValue,e.stringValue);case 6:return(function(s,o){let a=ao(s),c=ao(o);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let h=0;h<a.length&&h<c.length;h++){let f=Rt(a[h],c[h]);if(f!==0)return f}return Rt(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=Rt(vn(s.latitude),vn(o.latitude));return a!==0?a:Rt(vn(s.longitude),vn(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Gv(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var a,c,h,f;let v=s.fields||{},y=o.fields||{},g=(a=v[$c])===null||a===void 0?void 0:a.arrayValue,C=(c=y[$c])===null||c===void 0?void 0:c.arrayValue,L=Rt(((h=g?.values)===null||h===void 0?void 0:h.length)||0,((f=C?.values)===null||f===void 0?void 0:f.length)||0);return L!==0?L:Gv(g,C)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===td.mapValue&&o===td.mapValue)return 0;if(s===td.mapValue)return 1;if(o===td.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let v=0;v<c.length&&v<f.length;++v){let y=Dg(c[v],f[v]);if(y!==0)return y;let g=Wc(a[c[v]],h[f[v]]);if(g!==0)return g}return Rt(c.length,f.length)})(n.mapValue,e.mapValue);default:throw ut(23264,{le:t})}}function Hv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Rt(n,e);let t=oo(n),r=oo(e),i=Rt(t.seconds,r.seconds);return i!==0?i:Rt(t.nanos,r.nanos)}function Gv(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Wc(t[i],r[i]);if(s)return s}return Rt(t.length,r.length)}function Hc(n){return Vg(n)}function Vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=oo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ao(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ot.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Vg(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Vg(t.fields[o])}`;return i+"}"})(n.mapValue):ut(61005,{value:n})}function id(n){switch(na(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=zd(n);return e?16+id(e):16;case 5:return 2*n.stringValue.length;case 6:return ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+id(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return oa(r.fields,(s,o)=>{i+=s.length+id(o)}),i})(n.mapValue);default:throw ut(13486,{value:n})}}function Kv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ug(n){return!!n&&"integerValue"in n}function b1(n){return!!n&&"arrayValue"in n}function Yv(n){return!!n&&"nullValue"in n}function Jv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sd(n){return!!n&&"mapValue"in n}function ew(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[y1])===null||t===void 0?void 0:t.stringValue)===w1}function ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return oa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ll(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tw(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Zy}var FD={mapValue:{fields:{[y1]:{stringValue:w1},[$c]:{arrayValue:{}}}}};var fi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(t)}setAll(e){let t=pi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ll(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oa(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(ll(this.value))}};function nw(n){let e=[];return oa(n.fields,(t,r)=>{let i=new pi([t]);if(sd(r)){let s=nw(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Ri(e)}var Ki=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Et.min(),Et.min(),Et.min(),fi.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Et.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Et.min(),Et.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Et.min(),Et.min(),fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gc=class{constructor(e,t){this.position=e,this.inclusive=t}};function Xv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ot.comparator(ot.fromName(o.referenceValue),t.key):r=Wc(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Es(n.position[t],e.position[t]))return!1;return!0}var Ka=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Y3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var pd=class{},$n=class n extends pd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jg(e,t,r):t==="array-contains"?new $g(e,r):t==="in"?new Wg(e,r):t==="not-in"?new Hg(e,r):t==="array-contains-any"?new Gg(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new qg(e,r):new zg(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Wc(t,this.value)):t!==null&&na(this.value)===na(t)&&this.matchesComparison(Wc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yi=class n extends pd{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return rw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function rw(n){return n.op==="and"}function iw(n){return J3(n)&&rw(n)}function J3(n){for(let e of n.filters)if(e instanceof Yi)return!1;return!0}function Bg(n){if(n instanceof $n)return n.field.canonicalString()+n.op.toString()+Hc(n.value);if(iw(n))return n.filters.map(e=>Bg(e)).join(",");{let e=n.filters.map(t=>Bg(t)).join(",");return`${n.op}(${e})`}}function sw(n,e){return n instanceof $n?(function(r,i){return i instanceof $n&&r.op===i.op&&r.field.isEqual(i.field)&&Es(r.value,i.value)})(n,e):n instanceof Yi?(function(r,i){return i instanceof Yi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&sw(o,i.filters[a]),!0):!1})(n,e):void ut(19439)}function ow(n){return n instanceof $n?(function(t){return`${t.field.canonicalString()} ${t.op} ${Hc(t.value)}`})(n):n instanceof Yi?(function(t){return t.op.toString()+" {"+t.getFilters().map(ow).join(" ,")+"}"})(n):"Filter"}var jg=class extends $n{constructor(e,t,r){super(e,t,r),this.key=ot.fromName(r.referenceValue)}matches(e){let t=ot.comparator(e.key,this.key);return this.matchesComparison(t)}},qg=class extends $n{constructor(e,t){super(e,"in",t),this.keys=aw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},zg=class extends $n{constructor(e,t){super(e,"not-in",t),this.keys=aw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function aw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ot.fromName(r.referenceValue))}var $g=class extends $n{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return b1(t)&&vl(t.arrayValue,this.value)}},Wg=class extends $n{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&vl(this.value.arrayValue,t)}},Hg=class extends $n{constructor(e,t){super(e,"not-in",t)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vl(this.value.arrayValue,t)}},Gg=class extends $n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!b1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}};var Kg=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}};function Zv(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Kg(n,e,t,r,i,s,o)}function I1(n){let e=wt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Bg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),qd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hc(r)).join(",")),e.Pe=t}return e.Pe}function A1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qv(n.startAt,e.startAt)&&Qv(n.endAt,e.endAt)}function Yg(n){return ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ra=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function X3(n,e,t,r,i,s,o,a){return new ra(n,e,t,r,i,s,o,a)}function E1(n){return new ra(n)}function ey(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cw(n){return n.collectionGroup!==null}function hl(n){let e=wt(n);if(e.Te===null){e.Te=[];let t=new Set;for(let s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rr(pi.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Ka(s,r))}),t.has(pi.keyField().canonicalString())||e.Te.push(new Ka(pi.keyField(),r))}return e.Te}function bs(n){let e=wt(n);return e.Ie||(e.Ie=Q3(e,hl(n))),e.Ie}function Q3(n,e){if(n.limitType==="F")return Zv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ka(i.field,s)});let t=n.endAt?new Gc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Gc(n.startAt.position,n.startAt.inclusive):null;return Zv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Jg(n,e){let t=n.filters.concat([e]);return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xg(n,e,t){return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $d(n,e){return A1(bs(n),bs(e))&&n.limitType===e.limitType}function uw(n){return`${I1(bs(n))}|lt:${n.limitType}`}function Fc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ow(i)).join(", ")}]`),qd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Hc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Hc(i)).join(",")),`Target(${r})`})(bs(n))}; limitType=${n.limitType})`}function Wd(n,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ot.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(let s of hl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let h=Xv(o,a,c);return o.inclusive?h<=0:h<0})(r.startAt,hl(r),i)||r.endAt&&!(function(o,a,c){let h=Xv(o,a,c);return o.inclusive?h>=0:h>0})(r.endAt,hl(r),i))})(n,e)}function Z3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lw(n){return(e,t)=>{let r=!1;for(let i of hl(n)){let s=eN(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eN(n,e,t){let r=n.field.isKeyField()?ot.comparator(e.key,t.key):(function(s,o,a){let c=o.data.field(s),h=a.data.field(s);return c!==null&&h!==null?Wc(c,h):ut(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut(19790,{direction:n.dir})}}var co=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Ky(this.inner)}size(){return this.innerSize}};var tN=new kn(ot.comparator);function uo(){return tN}var hw=new kn(ot.comparator);function ul(...n){let e=hw;for(let t of n)e=e.insert(t.key,t);return e}function dw(n){let e=hw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qa(){return dl()}function fw(){return dl()}function dl(){return new co(n=>n.toString(),(n,e)=>n.isEqual(e))}var nN=new kn(ot.comparator),rN=new rr(ot.comparator);function Dt(...n){let e=rN;for(let t of n)e=e.add(t);return e}var iN=new rr(Rt);function sN(){return iN}function T1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ml(e)?"-0":e}}function pw(n){return{integerValue:""+n}}function oN(n,e){return O3(e)?pw(e):T1(n,e)}var Kc=class{constructor(){this._=void 0}};function aN(n,e,t){return n instanceof Ya?(function(i,s){let o={fields:{[Jy]:{stringValue:Yy},[Qy]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&v1(s)&&(s=zd(s)),s&&(o.fields[Xy]=s),{mapValue:o}})(t,e):n instanceof Ja?mw(n,e):n instanceof Xa?_w(n,e):(function(i,s){let o=gw(i,s),a=ty(o)+ty(i.Ee);return Ug(o)&&Ug(i.Ee)?pw(a):T1(i.serializer,a)})(n,e)}function cN(n,e,t){return n instanceof Ja?mw(n,e):n instanceof Xa?_w(n,e):t}function gw(n,e){return n instanceof Yc?(function(r){return Ug(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var Ya=class extends Kc{},Ja=class extends Kc{constructor(e){super(),this.elements=e}};function mw(n,e){let t=vw(e);for(let r of n.elements)t.some(i=>Es(i,r))||t.push(r);return{arrayValue:{values:t}}}var Xa=class extends Kc{constructor(e){super(),this.elements=e}};function _w(n,e){let t=vw(e);for(let r of n.elements)t=t.filter(i=>!Es(i,r));return{arrayValue:{values:t}}}var Yc=class extends Kc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function ty(n){return vn(n.integerValue||n.doubleValue)}function vw(n){return b1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Qg=class{constructor(e,t){this.field=e,this.transform=t}};function uN(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ja&&i instanceof Ja||r instanceof Xa&&i instanceof Xa?zc(r.elements,i.elements,Es):r instanceof Yc&&i instanceof Yc?Es(r.Ee,i.Ee):r instanceof Ya&&i instanceof Ya})(n.transform,e.transform)}var Zg=class{constructor(e,t){this.version=e,this.transformResults=t}},Is=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function od(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Jc=class{};function yw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yl(n.key,Is.none()):new Qa(n.key,n.data,Is.none());{let t=n.data,r=fi.empty(),i=new rr(pi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ts(n.key,r,new Ri(i.toArray()),Is.none())}}function lN(n,e,t){n instanceof Qa?(function(i,s,o){let a=i.value.clone(),c=ry(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Ts?(function(i,s,o){if(!od(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=ry(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(ww(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function fl(n,e,t,r){return n instanceof Qa?(function(s,o,a,c){if(!od(s.precondition,o))return a;let h=s.value.clone(),f=iy(s.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ts?(function(s,o,a,c){if(!od(s.precondition,o))return a;let h=iy(s.fieldTransforms,c,o),f=o.data;return f.setAll(ww(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))})(n,e,t,r):(function(s,o,a){return od(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function hN(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=gw(r.transform,i||null);s!=null&&(t===null&&(t=fi.empty()),t.set(r.field,s))}return t||null}function ny(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zc(r,i,(s,o)=>uN(s,o))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qa=class extends Jc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ts=class extends Jc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function ww(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function ry(n,e,t){let r=new Map;Gt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cN(o,a,t[i]))}return r}function iy(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,aN(s,o,e))}return r}var yl=class extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},em=class extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var tm=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&lN(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=fl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=fl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=fw();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=yw(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dt())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,(t,r)=>ny(t,r))&&zc(this.baseMutations,e.baseMutations,(t,r)=>ny(t,r))}},nm=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Gt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return nN})(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var rm=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var im=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var qn,Bt;function dN(n){switch(n){case Ae.OK:return ut(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return ut(15467,{code:n})}}function bw(n){if(n===void 0)return so("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case qn.OK:return Ae.OK;case qn.CANCELLED:return Ae.CANCELLED;case qn.UNKNOWN:return Ae.UNKNOWN;case qn.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case qn.INTERNAL:return Ae.INTERNAL;case qn.UNAVAILABLE:return Ae.UNAVAILABLE;case qn.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case qn.NOT_FOUND:return Ae.NOT_FOUND;case qn.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case qn.ABORTED:return Ae.ABORTED;case qn.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case qn.DATA_LOSS:return Ae.DATA_LOSS;default:return ut(39323,{code:n})}}(Bt=qn||(qn={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";var sy=null;var fN=new no([4294967295,4294967295],0);function oy(n){let e=Ry().encode(n),t=new vg;return t.update(e),new Uint8Array(t.digest())}function ay(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new no([t,r],0),new no([i,s],0)]}var sm=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new za(`Invalid padding: ${t}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new za(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=no.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(no.fromNumber(r)));return i.compare(fN)===1&&(i=new no([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=oy(e),[r,i]=ay(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;let t=oy(e),[r,i]=ay(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);this.we(o)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},za=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gd=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Et.min(),i,new kn(Rt),uo(),Dt())}},wl=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Dt(),Dt(),Dt())}};var Bc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},md=class{constructor(e,t){this.targetId=e,this.De=t}},_d=class{constructor(e,t,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},vd=class{constructor(){this.ve=0,this.Ce=cy(),this.Fe=br.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Dt(),t=Dt(),r=Dt();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ut(38017,{changeType:s})}}),new wl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=cy()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},om=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=uo(),this.je=nd(),this.Je=nd(),this.He=new kn(Rt)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ut(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let s=i.target;if(Yg(s))if(r===0){let o=new ot(s.path);this.Xe(t,o,Ki.newNoDocument(o,Et.min()))}else Gt(r===1,20013,{expectedCount:r});else{let o=this.ot(t);if(o!==r){let a=this._t(e),c=a?this.ut(a,e,o):1;if(c!==0){this.rt(t);let h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,h)}sy?.ct((function(f,v,y,g,C){var L,R,P,q,j,z;let ee={localCacheCount:f,existenceFilterCount:v.count,databaseId:y.database,projectId:y.projectId},oe=v.unchangedNames;return oe&&(ee.bloomFilter={applied:C===0,hashCount:(L=oe?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(q=(P=(R=oe?.bits)===null||R===void 0?void 0:R.bitmap)===null||P===void 0?void 0:P.length)!==null&&q!==void 0?q:0,padding:(z=(j=oe?.bits)===null||j===void 0?void 0:j.padding)!==null&&z!==void 0?z:0,mightContain:U=>{var T;return(T=g?.mightContain(U))!==null&&T!==void 0&&T}}),ee})(o,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=ao(r).toUint8Array()}catch(c){if(c instanceof hd)return ta("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new sm(o,i,s)}catch(c){return ta(c instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,s,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((s,o)=>{let a=this.st(o);if(a){if(s.current&&Yg(a.target)){let c=new ot(a.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Ki.newNoDocument(c,e))}s.Ne&&(t.set(o,s.Le()),s.ke())}});let r=Dt();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let h=this.st(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));let i=new gd(e,t,this.He,this.ze,r);return this.ze=uo(),this.je=nd(),this.Je=nd(),this.He=new kn(Rt),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new vd,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new rr(Rt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new rr(Rt),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new vd),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function nd(){return new kn(ot.comparator)}function cy(){return new kn(ot.comparator)}var pN={asc:"ASCENDING",desc:"DESCENDING"},gN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mN={and:"AND",or:"OR"},am=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function cm(n,e){return n.useProto3Json||qd(e)?e:{value:e}}function yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _N(n,e){return yd(n,e.toTimestamp())}function As(n){return Gt(!!n,49232),Et.fromTimestamp((function(t){let r=oo(t);return new Hn(r.seconds,r.nanos)})(n))}function S1(n,e){return um(n,e).canonicalString()}function um(n,e){let t=(function(i){return new yn(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Aw(n){let e=yn.fromString(n);return Gt(xw(e),10190,{key:e.toString()}),e}function lm(n,e){return S1(n.databaseId,e.path)}function Eg(n,e){let t=Aw(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(Tw(t))}function Ew(n,e){return S1(n.databaseId,e)}function vN(n){let e=Aw(n);return e.length===4?yn.emptyPath():Tw(e)}function hm(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Tw(n){return Gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function uy(n,e,t){return{name:lm(n,e),fields:t.value.mapValue.fields}}function yN(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ut(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,f){return h.useProto3Json?(Gt(f===void 0||typeof f=="string",58123),br.fromBase64String(f||"")):(Gt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),br.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(h){let f=h.code===void 0?Ae.UNKNOWN:bw(h.code);return new Me(f,h.message||"")})(o);t=new _d(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Eg(n,r.document.name),s=As(r.document.updateTime),o=r.document.createTime?As(r.document.createTime):Et.min(),a=new fi({mapValue:{fields:r.document.fields}}),c=Ki.newFoundDocument(i,s,o,a),h=r.targetIds||[],f=r.removedTargetIds||[];t=new Bc(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Eg(n,r.document),s=r.readTime?As(r.readTime):Et.min(),o=Ki.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Bc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Eg(n,r.document),s=r.removedTargetIds||[];t=new Bc([],s,i,null)}else{if(!("filter"in e))return ut(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new im(i,s),a=r.targetId;t=new md(a,o)}}return t}function wN(n,e){let t;if(e instanceof Qa)t={update:uy(n,e.key,e.value)};else if(e instanceof yl)t={delete:lm(n,e.key)};else if(e instanceof Ts)t={update:uy(n,e.key,e.data),updateMask:PN(e.fieldMask)};else{if(!(e instanceof em))return ut(16599,{Rt:e.type});t={verify:lm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(s,o){let a=o.transform;if(a instanceof Ya)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ut(20930,{transform:o.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:_N(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ut(27497)})(n,e.precondition)),t}function bN(n,e){return n&&n.length>0?(Gt(e!==void 0,14353),n.map(t=>(function(i,s){let o=i.updateTime?As(i.updateTime):As(s);return o.isEqual(Et.min())&&(o=As(s)),new Zg(o,i.transformResults||[])})(t,e))):[]}function IN(n,e){return{documents:[Ew(n,e.path)]}}function AN(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ew(n,i);let s=(function(h){if(h.length!==0)return Nw(Yi.create(h,"and"))})(e.filters);s&&(t.structuredQuery.where=s);let o=(function(h){if(h.length!==0)return h.map(f=>(function(y){return{field:Mc(y.field),direction:SN(y.dir)}})(f))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=cm(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{Vt:t,parent:i}}function EN(n){let e=vN(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Gt(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(v){let y=Sw(v);return y instanceof Yi&&iw(y)?y.getFilters():[y]})(t.where));let o=[];t.orderBy&&(o=(function(v){return v.map(y=>(function(C){return new Ka(Vc(C.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(y))})(t.orderBy));let a=null;t.limit&&(a=(function(v){let y;return y=typeof v=="object"?v.value:v,qd(y)?null:y})(t.limit));let c=null;t.startAt&&(c=(function(v){let y=!!v.before,g=v.values||[];return new Gc(g,y)})(t.startAt));let h=null;return t.endAt&&(h=(function(v){let y=!v.before,g=v.values||[];return new Gc(g,y)})(t.endAt)),X3(e,i,o,s,a,"F",c,h)}function TN(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Sw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Vc(t.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Vc(t.unaryFilter.field);return $n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Vc(t.unaryFilter.field);return $n.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Vc(t.unaryFilter.field);return $n.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $n.create(Vc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Yi.create(t.compositeFilter.filters.map(r=>Sw(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ut(1026)}})(t.compositeFilter.op))})(n):ut(30097,{filter:n})}function SN(n){return pN[n]}function NN(n){return gN[n]}function xN(n){return mN[n]}function Mc(n){return{fieldPath:n.canonicalString()}}function Vc(n){return pi.fromServerFormat(n.fieldPath)}function Nw(n){return n instanceof $n?(function(t){if(t.op==="=="){if(Jv(t.value))return{unaryFilter:{field:Mc(t.field),op:"IS_NAN"}};if(Yv(t.value))return{unaryFilter:{field:Mc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jv(t.value))return{unaryFilter:{field:Mc(t.field),op:"IS_NOT_NAN"}};if(Yv(t.value))return{unaryFilter:{field:Mc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mc(t.field),op:NN(t.op),value:t.value}}})(n):n instanceof Yi?(function(t){let r=t.getFilters().map(i=>Nw(i));return r.length===1?r[0]:{compositeFilter:{op:xN(t.op),filters:r}}})(n):ut(54877,{filter:n})}function PN(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var bl=class n{constructor(e,t,r,i,s=Et.min(),o=Et.min(),a=br.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dm=class{constructor(e){this.gt=e}};function kN(n){let e=EN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xg(e,e.limit,"L"):e}var wd=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(vn(e.integerValue));else if("doubleValue"in e){let r=vn(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),ml(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=oo(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ao(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?tw(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):ew(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ut(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let o=$c,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(vn(a)),this.xt(o,t),this.Dt(s[o],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ot.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};wd.Ut=new wd;var fm=class{constructor(){this.Dn=new pm}addToCollectionParentIndex(e,t){return this.Dn.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return xe.resolve()}deleteFieldIndex(e,t){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,t){return xe.resolve()}getDocumentsMatchingTarget(e,t){return xe.resolve(null)}getIndexType(e,t){return xe.resolve(0)}getFieldIndexes(e,t){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,t){return xe.resolve(Ga.min())}getMinOffsetFromCollectionGroup(e,t){return xe.resolve(Ga.min())}updateCollectionGroup(e,t,r){return xe.resolve()}updateIndexEntries(e,t){return xe.resolve()}},pm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rr(yn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(yn.comparator)).toArray()}};var MD=new Uint8Array(0);var ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pw=41943040,ki=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(Pw,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);var Il=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var hy="LruGarbageCollector",RN=1048576;function dy([n,e],[t,r]){let i=Rt(n,t);return i===0?Rt(e,r):i}var gm=class{constructor(e){this.Tr=e,this.buffer=new rr(dy),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();dy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},mm=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ve(hy,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ru(t)?Ve(hy,"Ignoring IndexedDB error during garbage collection: ",t):await nu(t)}await this.Rr(3e5)})}},_m=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return xe.resolve(m1.ue);let r=new gm(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(ly)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ly):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,o,a,c,h,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,o=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,a=Date.now(),this.removeTargets(e,r,t))).next(v=>(s=v,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Oc()<=Ct.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${v} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v})))}};function CN(n,e){return new _m(n,e)}var vm=class{constructor(){this.changes=new co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?xe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ym=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var wm=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fl(r.mutation,i,Ri.empty(),Hn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Dt()){let i=qa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ul();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=qa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Dt()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=uo(),o=dl(),a=(function(){return dl()})();return t.forEach((c,h)=>{let f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Ts)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),fl(f.mutation,h,f.mutation.getFieldMask(),Hn.now())):o.set(h.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),t.forEach((h,f)=>{var v;return a.set(h,new ym(f,(v=o.get(h))!==null&&v!==void 0?v:null))}),a))}recalculateAndSaveOverlays(e,t){let r=dl(),i=new kn((o,a)=>o-a),s=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let h=t.get(c);if(h===null)return;let f=r.get(c)||Ri.empty();f=a.applyToLocalView(h,f),r.set(c,f);let v=(i.get(a.batchId)||Dt()).add(c);i=i.insert(a.batchId,v)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),h=c.key,f=c.value,v=fw();f.forEach(y=>{if(!s.has(y)){let g=yw(t.get(y),r.get(y));g!==null&&v.set(y,g),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,v))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return ot.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):xe.resolve(qa()),a=gl,c=s;return o.next(h=>xe.forEach(h,(f,v)=>(a<v.largestBatchId&&(a=v.largestBatchId),s.get(f)?xe.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,Dt())).next(f=>({batchId:a,changes:dw(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(r=>{let i=ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=ul();return this.indexManager.getCollectionParents(e,s).next(a=>xe.forEach(a,c=>{let h=(function(v,y){return new ra(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((v,y)=>{o=o.insert(v,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,h)=>{let f=h.getKey();o.get(f)===null&&(o=o.insert(f,Ki.newInvalidDocument(f)))});let a=ul();return o.forEach((c,h)=>{let f=s.get(c);f!==void 0&&fl(f.mutation,h,Ri.empty(),Hn.now()),Wd(t,h)&&(a=a.insert(c,h))}),a})}};var bm=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return xe.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:As(i.createTime)}})(t)),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:kN(i.bundledQuery),readTime:As(i.readTime)}})(t)),xe.resolve()}};var Im=class{constructor(){this.overlays=new kn(ot.comparator),this.kr=new Map}getOverlay(e,t){return xe.resolve(this.overlays.get(t))}getOverlays(e,t){let r=qa();return xe.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),xe.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),xe.resolve()}getOverlaysForCollection(e,t,r){let i=qa(),s=t.length+1,o=new ot(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new kn((h,f)=>h-f),o=this.overlays.getIterator();for(;o.hasNext();){let h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=qa(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let a=qa(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>a.set(h,f)),!(a.size()>=i)););return xe.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rm(t,r));let s=this.kr.get(t);s===void 0&&(s=Dt(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}};var Am=class{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,xe.resolve()}};var Al=class{constructor(){this.qr=new rr(zn.Qr),this.$r=new rr(zn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new zn(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new zn(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ot(new yn([])),r=new zn(t,e),i=new zn(t,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ot(new yn([])),r=new zn(t,e),i=new zn(t,e+1),s=Dt();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new zn(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},zn=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ot.comparator(e.key,t.key)||Rt(e.Hr,t.Hr)}static Ur(e,t){return Rt(e.Hr,t.Hr)||ot.comparator(e.key,t.key)}};var Em=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new rr(zn.Qr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new tm(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Yr=this.Yr.add(new zn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(e,t){return xe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?_1:this.er-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new zn(t,0),i=new zn(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let a=this.Zr(o.Hr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Rt);return t.forEach(i=>{let s=new zn(i,0),o=new zn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),xe.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ot.isDocumentKey(s)||(s=s.child(""));let o=new zn(new ot(s),0),a=new rr(Rt);return this.Yr.forEachWhile(c=>{let h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(c.Hr)),!0)},o),xe.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Gt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return xe.forEach(t.mutations,i=>{let s=new zn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new zn(t,0),i=this.Yr.firstAfterOrEqual(r);return xe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Tm=class{constructor(e){this.ni=e,this.docs=(function(){return new kn(ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return xe.resolve(r?r.document.mutableCopy():Ki.newInvalidDocument(t))}getEntries(e,t){let r=uo();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ki.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=uo(),o=t.path,a=new ot(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||C3(R3(f),r)<=0||(i.has(f.key)||Wd(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ut(9500)}ri(e,t){return xe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Sm(this)}getSize(e){return xe.resolve(this.size)}},Sm=class extends vm{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),xe.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Nm=class{constructor(e){this.persistence=e,this.ii=new co(t=>I1(t),A1),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.si=0,this.oi=new Al,this.targetCount=0,this._i=Il.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),xe.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.hr(t),xe.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return xe.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),xe.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),xe.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return xe.resolve(r)}containsKey(e,t){return xe.resolve(this.oi.containsKey(t))}};var bd=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new m1(0),this.ci=!1,this.ci=!0,this.li=new Am,this.referenceDelegate=e(this),this.hi=new Nm(this),this.indexManager=new fm,this.remoteDocumentCache=(function(i){return new Tm(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new dm(t),this.Ti=new bm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Im,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Em(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);let i=new xm(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return xe.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},xm=class extends Fg{constructor(e){super(),this.currentSequenceNumber=e}},Pm=class n{constructor(e){this.persistence=e,this.Ai=new Al,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ut(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),xe.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.mi,r=>{let i=ot.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,Et.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return xe.or([()=>xe.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Id=class n{constructor(e,t){this.persistence=e,this.gi=new co(r=>F3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=CN(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return xe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return xe.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?xe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,Et.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),xe.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),xe.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),xe.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=id(e.data.value)),t}Sr(e,t,r){return xe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return xe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var km=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Dt(),i=Dt();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Rm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Cm=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return o_()?8:D3(tr())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ps(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Rm;return this.ws(e,t,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,t,o,a.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Oc()<=Ct.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Fc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),xe.resolve()):(Oc()<=Ct.DEBUG&&Ve("QueryEngine","Query:",Fc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Oc()<=Ct.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Fc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(t))):xe.resolve())}ps(e,t){if(ey(t))return xe.resolve(null);let r=bs(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Xg(t,null,"F"),r=bs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Dt(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let h=this.bs(t,a);return this.Ds(t,h,o,c.readTime)?this.ps(e,Xg(t,null,"F")):this.vs(e,h,t,c)}))})))}ys(e,t,r,i){return ey(t)||i.isEqual(Et.min())?xe.resolve(null):this.gs.getDocuments(e,r).next(s=>{let o=this.bs(t,s);return this.Ds(t,o,r,i)?xe.resolve(null):(Oc()<=Ct.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fc(t)),this.vs(e,o,t,k3(i,gl)).next(a=>a))})}bs(e,t){let r=new rr(lw(e));return t.forEach((i,s)=>{Wd(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return Oc()<=Ct.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Fc(t)),this.gs.getDocumentsMatchingQuery(e,t,Ga.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var N1="LocalStore",LN=3e8,Lm=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new kn(Rt),this.Ms=new co(s=>I1(s),A1),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wm(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function DN(n,e,t,r){return new Lm(n,e,t,r)}async function kw(n,e){let t=wt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Dt();for(let h of i){o.push(h.batchId);for(let f of h.mutations)c=c.add(f.key)}for(let h of s){a.push(h.batchId);for(let f of h.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(h=>({Bs:h,removedBatchIds:o,addedBatchIds:a}))})})}function ON(n,e){let t=wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,h,f){let v=h.batch,y=v.keys(),g=xe.resolve();return y.forEach(C=>{g=g.next(()=>f.getEntry(c,C)).next(L=>{let R=h.docVersions.get(C);Gt(R!==null,48541),L.version.compareTo(R)<0&&(v.applyToRemoteDocument(L,h),L.isValidDocument()&&(L.setReadTime(h.commitVersion),f.addEntry(L)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,v))})(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Dt();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(c=c.add(a.batch.mutations[h].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Rw(n){let e=wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function FN(n,e){let t=wt(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((f,v)=>{let y=i.get(v);if(!y)return;a.push(t.hi.removeMatchingKeys(s,f.removedDocuments,v).next(()=>t.hi.addMatchingKeys(s,f.addedDocuments,v)));let g=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?g=g.withResumeToken(br.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),i=i.insert(v,g),(function(L,R,P){return L.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=LN?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(y,g,f)&&a.push(t.hi.updateTargetData(s,g))});let c=uo(),h=Dt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(MN(s,o,e.documentUpdates).next(f=>{c=f.Ls,h=f.ks})),!r.isEqual(Et.min())){let f=t.hi.getLastRemoteSnapshotVersion(s).next(v=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(t.Fs=i,s))}function MN(n,e,t){let r=Dt(),i=Dt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=uo();return t.forEach((a,c)=>{let h=s.get(a);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Et.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Ve(N1,"Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",c.version)}),{Ls:o,ks:i}})}function VN(n,e){let t=wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UN(n,e){let t=wt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(s=>s?(i=s,xe.resolve(i)):t.hi.allocateTargetId(r).next(o=>(i=new bl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Dm(n,e,t){let r=wt(n),i=r.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ru(o))throw o;Ve(N1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function fy(n,e,t){let r=wt(n),i=Et.min(),s=Dt();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(c,h,f){let v=wt(c),y=v.Ms.get(f);return y!==void 0?xe.resolve(v.Fs.get(y)):v.hi.getTargetData(h,f)})(r,o,bs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,t?i:Et.min(),t?s:Dt())).next(a=>(BN(r,Z3(e),a),{documents:a,qs:s})))}function BN(n,e,t){let r=n.xs.get(e)||Et.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.xs.set(e,r)}var Ad=class{constructor(){this.activeTargetIds=sN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Om=class{constructor(){this.Fo=new Ad,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ad,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Fm=class{xo(e){}shutdown(){}};var py="ConnectivityMonitor",Ed=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ve(py,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){Ve(py,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rd=null;function Mm(){return rd===null?rd=(function(){return 268435456+Math.round(2147483648*Math.random())})():rd++,"0x"+rd.toString(16)}var Tg="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Vm=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===dd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){let o=Mm(),a=this.Go(e,t.toUriEncodedString());Ve(Tg,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,s);let{host:h}=new URL(a),f=hs(h);return this.jo(e,a,c,r,f).then(v=>(Ve(Tg,`Received RPC '${e}' ${o}: `,v),v),v=>{throw ta(Tg,`RPC '${e}' ${o} failed with error: `,v,"url: ",a,"request:",r),v})}Jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){let r=jN[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Um=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var wr="WebChannelConnection",Bm=class extends Vm{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){let o=Mm();return new Promise((a,c)=>{let h=new yg;h.setWithCredentials(!0),h.listenOnce(wg.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case cl.NO_ERROR:let v=h.getResponseJson();Ve(wr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(v)),a(v);break;case cl.TIMEOUT:Ve(wr,`RPC '${e}' ${o} timed out`),c(new Me(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:let y=h.getStatus();if(Ve(wr,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let g=h.getResponseJson();Array.isArray(g)&&(g=g[0]);let C=g?.error;if(C&&C.status&&C.message){let L=(function(P){let q=P.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(q)>=0?q:Ae.UNKNOWN})(C.status);c(new Me(L,C.message))}else c(new Me(Ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Me(Ae.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{c_:e,streamId:o,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{Ve(wr,`RPC '${e}' ${o} completed.`)}});let f=JSON.stringify(i);Ve(wr,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",f,r,15)})}P_(e,t,r){let i=Mm(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ag(),a=Ig(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let f=s.join("");Ve(wr,`Creating RPC '${e}' stream ${i}: ${f}`,c);let v=o.createWebChannel(f,c);this.T_(v);let y=!1,g=!1,C=new Um({Ho:R=>{g?Ve(wr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(Ve(wr,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),Ve(wr,`RPC '${e}' stream ${i} sending:`,R),v.send(R))},Yo:()=>v.close()}),L=(R,P,q)=>{R.listen(P,j=>{try{q(j)}catch(z){setTimeout(()=>{throw z},0)}})};return L(v,Dc.EventType.OPEN,()=>{g||(Ve(wr,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),L(v,Dc.EventType.CLOSE,()=>{g||(g=!0,Ve(wr,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(v))}),L(v,Dc.EventType.ERROR,R=>{g||(g=!0,ta(wr,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.__(new Me(Ae.UNAVAILABLE,"The operation could not be completed")))}),L(v,Dc.EventType.MESSAGE,R=>{var P;if(!g){let q=R.data[0];Gt(!!q,16349);let j=q,z=j?.error||((P=j[0])===null||P===void 0?void 0:P.error);if(z){Ve(wr,`RPC '${e}' stream ${i} received error:`,z);let ee=z.status,oe=(function(A){let F=qn[A];if(F!==void 0)return bw(F)})(ee),U=z.message;oe===void 0&&(oe=Ae.INTERNAL,U="Unknown error status: "+ee+" with message "+z.message),g=!0,C.__(new Me(oe,U)),v.close()}else Ve(wr,`RPC '${e}' stream ${i} received:`,q),C.a_(q)}}),L(a,bg.STAT_EVENT,R=>{R.stat===ed.PROXY?Ve(wr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===ed.NOPROXY&&Ve(wr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Sg(){return typeof document<"u"?document:null}function Hd(n){return new am(n,!0)}var Td=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var gy="PersistentStream",Sd=class{constructor(e,t,r,i,s,o,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Td(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(so(t.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new Me(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ve(gy,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Ve(gy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},jm=class extends Sd{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=yN(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Et.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Et.min():o.readTime?As(o.readTime):Et.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=hm(this.serializer),t.addTarget=(function(s,o){let a,c=o.target;if(a=Yg(c)?{documents:IN(s,c)}:{query:AN(s,c).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Iw(s,o.resumeToken);let h=cm(s,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(Et.min())>0){a.readTime=yd(s,o.snapshotVersion.toTimestamp());let h=cm(s,o.expectedCount);h!==null&&(a.expectedCount=h)}return a})(this.serializer,e);let r=TN(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=hm(this.serializer),t.removeTarget=e,this.k_(t)}},qm=class extends Sd{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=bN(e.writeResults,e.commitTime),r=As(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=hm(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>wN(this.serializer,r))};this.k_(t)}};var zm=class{},$m=class extends zm{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Me(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,um(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(Ae.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,um(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(Ae.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Wm=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(so(t),this._a=!1):Ve("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Za="RemoteStore",Hm=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{tc(this)&&(Ve(Za,"Restarting streams for network reachability change."),await(async function(c){let h=wt(c);h.Ia.add(4),await Sl(h),h.Aa.set("Unknown"),h.Ia.delete(4),await Gd(h)})(this))})}),this.Aa=new Wm(r,i)}};async function Gd(n){if(tc(n))for(let e of n.da)await e(!0)}async function Sl(n){for(let e of n.da)await e(!1)}function Cw(n,e){let t=wt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),R1(t)?k1(t):iu(t).x_()&&P1(t,e))}function x1(n,e){let t=wt(n),r=iu(t);t.Ta.delete(e),r.x_()&&Lw(t,e),t.Ta.size===0&&(r.x_()?r.B_():tc(t)&&t.Aa.set("Unknown"))}function P1(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}iu(n).H_(e)}function Lw(n,e){n.Ra.$e(e),iu(n).Y_(e)}function k1(n){n.Ra=new om({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),iu(n).start(),n.Aa.aa()}function R1(n){return tc(n)&&!iu(n).M_()&&n.Ta.size>0}function tc(n){return wt(n).Ia.size===0}function Dw(n){n.Ra=void 0}async function qN(n){n.Aa.set("Online")}async function zN(n){n.Ta.forEach((e,t)=>{P1(n,e)})}async function $N(n,e){Dw(n),R1(n)?(n.Aa.la(e),k1(n)):n.Aa.set("Unknown")}async function WN(n,e,t){if(n.Aa.set("Online"),e instanceof _d&&e.state===2&&e.cause)try{await(async function(i,s){let o=s.cause;for(let a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))})(n,e)}catch(r){Ve(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nd(n,r)}else if(e instanceof Bc?n.Ra.Ye(e):e instanceof md?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Et.min()))try{let r=await Rw(n.localStore);t.compareTo(r)>=0&&await(function(s,o){let a=s.Ra.Pt(o);return a.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){let f=s.Ta.get(h);f&&s.Ta.set(h,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,h)=>{let f=s.Ta.get(c);if(!f)return;s.Ta.set(c,f.withResumeToken(br.EMPTY_BYTE_STRING,f.snapshotVersion)),Lw(s,c);let v=new bl(f.target,c,h,f.sequenceNumber);P1(s,v)}),s.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){Ve(Za,"Failed to raise snapshot:",r),await Nd(n,r)}}async function Nd(n,e,t){if(!ru(e))throw e;n.Ia.add(1),await Sl(n),n.Aa.set("Offline"),t||(t=()=>Rw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ve(Za,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Gd(n)})}function Ow(n,e){return e().catch(t=>Nd(n,t,e))}async function Kd(n){let e=wt(n),t=ia(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:_1;for(;HN(e);)try{let i=await VN(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,GN(e,i)}catch(i){await Nd(e,i)}Fw(e)&&Mw(e)}function HN(n){return tc(n)&&n.Pa.length<10}function GN(n,e){n.Pa.push(e);let t=ia(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Fw(n){return tc(n)&&!ia(n).M_()&&n.Pa.length>0}function Mw(n){ia(n).start()}async function KN(n){ia(n).na()}async function YN(n){let e=ia(n);for(let t of n.Pa)e.X_(t.mutations)}async function JN(n,e,t){let r=n.Pa.shift(),i=nm.from(r,e,t);await Ow(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Kd(n)}async function XN(n,e){e&&ia(n).Z_&&await(async function(r,i){if((function(o){return dN(o)&&o!==Ae.ABORTED})(i.code)){let s=r.Pa.shift();ia(r).N_(),await Ow(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kd(r)}})(n,e),Fw(n)&&Mw(n)}async function my(n,e){let t=wt(n);t.asyncQueue.verifyOperationInProgress(),Ve(Za,"RemoteStore received new credentials");let r=tc(t);t.Ia.add(3),await Sl(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Gd(t)}async function QN(n,e){let t=wt(n);e?(t.Ia.delete(2),await Gd(t)):e||(t.Ia.add(2),await Sl(t),t.Aa.set("Unknown"))}function iu(n){return n.Va||(n.Va=(function(t,r,i){let s=wt(t);return s.ia(),new jm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:qN.bind(null,n),e_:zN.bind(null,n),n_:$N.bind(null,n),J_:WN.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),R1(n)?k1(n):n.Aa.set("Unknown")):(await n.Va.stop(),Dw(n))})),n.Va}function ia(n){return n.ma||(n.ma=(function(t,r,i){let s=wt(t);return s.ia(),new qm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:KN.bind(null,n),n_:XN.bind(null,n),ea:YN.bind(null,n),ta:JN.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Kd(n)):(await n.ma.stop(),n.Pa.length>0&&(Ve(Za,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var Gm=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function C1(n,e){if(so("AsyncQueue",`${e}: ${n}`),ru(n))return new Me(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}var xd=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ot.comparator(t.key,r.key):(t,r)=>ot.comparator(t.key,r.key),this.keyedMap=ul(),this.sortedSet=new kn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Pd=class{constructor(){this.fa=new kn(ot.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ut(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Xc=class n{constructor(e,t,r,i,s,o,a,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,xd.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Km=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Ym=class{constructor(){this.queries=_y(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=wt(t),s=i.queries;i.queries=_y(),s.forEach((o,a)=>{for(let c of a.wa)c.onError(r)})})(this,new Me(Ae.ABORTED,"Firestore shutting down"))}};function _y(){return new co(n=>uw(n),$d)}async function ZN(n,e){let t=wt(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new Km,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await t.onListen(i,!0);break;case 1:s.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){let a=C1(o,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&L1(t)}async function ex(n,e){let t=wt(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function tx(n,e){let t=wt(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&L1(t)}function nx(n,e,t){let r=wt(n),i=r.queries.get(e);if(i)for(let s of i.wa)s.onError(t);r.queries.delete(e)}function L1(n){n.Da.forEach(e=>{e.next()})}var Jm,vy;(vy=Jm||(Jm={})).Fa="default",vy.Cache="cache";var Xm=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Jm.Cache}};var kd=class{constructor(e){this.key=e}},Rd=class{constructor(e){this.key=e}},Qm=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Dt(),this.mutatedKeys=Dt(),this.Xa=lw(e),this.eu=new xd(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Pd,i=t?t.eu:this.eu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,v)=>{let y=i.get(f),g=Wd(this.query,v)?v:null,C=!!y&&this.mutatedKeys.has(y.key),L=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),R=!1;y&&g?y.data.isEqual(g.data)?C!==L&&(r.track({type:3,doc:g}),R=!0):this.iu(y,g)||(r.track({type:2,doc:g}),R=!0,(c&&this.Xa(g,c)>0||h&&this.Xa(g,h)<0)&&(a=!0)):!y&&g?(r.track({type:0,doc:g}),R=!0):y&&!g&&(r.track({type:1,doc:y}),R=!0,(c||h)&&(a=!0)),R&&(g?(o=o.add(g),s=L?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let o=e.ru.pa();o.sort((f,v)=>(function(g,C){let L=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{At:R})}};return L(g)-L(C)})(f.type,v.type)||this.Xa(f.doc,v.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,h=c!==this.Ya;return this.Ya=c,o.length!==0||h?{snapshot:new Xc(this.query,e.eu,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Pd,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Dt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Rd(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new kd(r))}),t}uu(e){this.Ha=e.qs,this.Za=Dt();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Xc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},D1="SyncEngine",Zm=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},e1=class{constructor(e){this.key=e,this.lu=!1}},t1=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new co(a=>uw(a),$d),this.Tu=new Map,this.Iu=new Set,this.du=new kn(ot.comparator),this.Eu=new Map,this.Au=new Al,this.Ru={},this.Vu=new Map,this.mu=Il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function rx(n,e,t=!0){let r=zw(n),i,s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await Vw(r,e,t,!0),i}async function ix(n,e){let t=zw(n);await Vw(t,e,!0,!1)}async function Vw(n,e,t,r){let i=await UN(n.localStore,bs(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=await sx(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Cw(n.remoteStore,i),a}async function sx(n,e,t,r,i){n.gu=(v,y,g)=>(async function(L,R,P,q){let j=R.view.nu(P);j.Ds&&(j=await fy(L.localStore,R.query,!1).then(({documents:U})=>R.view.nu(U,j)));let z=q&&q.targetChanges.get(R.targetId),ee=q&&q.targetMismatches.get(R.targetId)!=null,oe=R.view.applyChanges(j,L.isPrimaryClient,z,ee);return wy(L,R.targetId,oe._u),oe.snapshot})(n,v,y,g);let s=await fy(n.localStore,e,!0),o=new Qm(e,s.qs),a=o.nu(s.documents),c=wl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=o.applyChanges(a,n.isPrimaryClient,c);wy(n,t,h._u);let f=new Zm(e,t,o);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),h.snapshot}async function ox(n,e,t){let r=wt(n),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!$d(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&x1(r.remoteStore,i.targetId),n1(r,i.targetId)}).catch(nu)):(n1(r,i.targetId),await Dm(r.localStore,i.targetId,!0))}async function ax(n,e){let t=wt(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),x1(t.remoteStore,r.targetId))}async function cx(n,e,t){let r=gx(n);try{let i=await(function(o,a){let c=wt(o),h=Hn.now(),f=a.reduce((g,C)=>g.add(C.key),Dt()),v,y;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let C=uo(),L=Dt();return c.Os.getEntries(g,f).next(R=>{C=R,C.forEach((P,q)=>{q.isValidDocument()||(L=L.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,C)).next(R=>{v=R;let P=[];for(let q of a){let j=hN(q,v.get(q.key).overlayedDocument);j!=null&&P.push(new Ts(q.key,j,nw(j.value.mapValue),Is.exists(!0)))}return c.mutationQueue.addMutationBatch(g,h,P,a)}).next(R=>{y=R;let P=R.applyToLocalDocumentSet(v,L);return c.documentOverlayCache.saveOverlays(g,R.batchId,P)})}).then(()=>({batchId:y.batchId,changes:dw(v)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let h=o.Ru[o.currentUser.toKey()];h||(h=new kn(Rt)),h=h.insert(a,c),o.Ru[o.currentUser.toKey()]=h})(r,i.batchId,t),await Nl(r,i.changes),await Kd(r.remoteStore)}catch(i){let s=C1(i,"Failed to persist write");t.reject(s)}}async function Uw(n,e){let t=wt(n);try{let r=await FN(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Eu.get(s);o&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Gt(o.lu,14607):i.removedDocuments.size>0&&(Gt(o.lu,42227),o.lu=!1))}),await Nl(t,r,e)}catch(r){await nu(r)}}function yy(n,e,t){let r=wt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=wt(o);c.onlineState=a;let h=!1;c.queries.forEach((f,v)=>{for(let y of v.wa)y.va(a)&&(h=!0)}),h&&L1(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ux(n,e,t){let r=wt(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),s=i&&i.key;if(s){let o=new kn(ot.comparator);o=o.insert(s,Ki.newNoDocument(s,Et.min()));let a=Dt().add(s),c=new gd(Et.min(),new Map,new kn(Rt),o,a);await Uw(r,c),r.du=r.du.remove(s),r.Eu.delete(e),O1(r)}else await Dm(r.localStore,e,!1).then(()=>n1(r,e,t)).catch(nu)}async function lx(n,e){let t=wt(n),r=e.batch.batchId;try{let i=await ON(t.localStore,e);jw(t,r,null),Bw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Nl(t,i)}catch(i){await nu(i)}}async function hx(n,e,t){let r=wt(n);try{let i=await(function(o,a){let c=wt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,a).next(v=>(Gt(v!==null,37113),f=v.keys(),c.mutationQueue.removeMutationBatch(h,v))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})})(r.localStore,e);jw(r,e,t),Bw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Nl(r,i)}catch(i){await nu(i)}}function Bw(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function jw(n,e,t){let r=wt(n),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function n1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||qw(n,r)})}function qw(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(x1(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),O1(n))}function wy(n,e,t){for(let r of t)r instanceof kd?(n.Au.addReference(r.key,e),dx(n,r)):r instanceof Rd?(Ve(D1,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||qw(n,r.key)):ut(19791,{yu:r})}function dx(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Ve(D1,"New document in limbo: "+t),n.Iu.add(r),O1(n))}function O1(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ot(yn.fromString(e)),r=n.mu.next();n.Eu.set(r,new e1(t)),n.du=n.du.insert(t,r),Cw(n.remoteStore,new bl(bs(E1(t.path)),r,"TargetPurposeLimboResolution",m1.ue))}}async function Nl(n,e,t){let r=wt(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{o.push(r.gu(c,e,t).then(h=>{var f;if((h||t)&&r.isPrimaryClient){let v=h?!h.fromCache:(f=t?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,v?"current":"not-current")}if(h){i.push(h);let v=km.Es(c.targetId,h);s.push(v)}}))}),await Promise.all(o),r.hu.J_(i),await(async function(c,h){let f=wt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>xe.forEach(h,y=>xe.forEach(y.Is,g=>f.persistence.referenceDelegate.addReference(v,y.targetId,g)).next(()=>xe.forEach(y.ds,g=>f.persistence.referenceDelegate.removeReference(v,y.targetId,g)))))}catch(v){if(!ru(v))throw v;Ve(N1,"Failed to update sequence numbers: "+v)}for(let v of h){let y=v.targetId;if(!v.fromCache){let g=f.Fs.get(y),C=g.snapshotVersion,L=g.withLastLimboFreeSnapshotVersion(C);f.Fs=f.Fs.insert(y,L)}}})(r.localStore,s))}async function fx(n,e){let t=wt(n);if(!t.currentUser.isEqual(e)){Ve(D1,"User change. New user:",e.toKey());let r=await kw(t.localStore,e);t.currentUser=e,(function(s,o){s.Vu.forEach(a=>{a.forEach(c=>{c.reject(new Me(Ae.CANCELLED,o))})}),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nl(t,r.Bs)}}function px(n,e){let t=wt(n),r=t.Eu.get(e);if(r&&r.lu)return Dt().add(r.key);{let i=Dt(),s=t.Tu.get(e);if(!s)return i;for(let o of s){let a=t.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function zw(n){let e=wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=px.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ux.bind(null,e),e.hu.J_=tx.bind(null,e.eventManager),e.hu.pu=nx.bind(null,e.eventManager),e}function gx(n){let e=wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hx.bind(null,e),e}var $w=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return DN(this.persistence,new Cm,t.initialUser,this.serializer)}Du(t){return new bd(Pm.Vi,this.serializer)}bu(t){return new Om}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),r1=class extends $w{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Gt(this.persistence.referenceDelegate instanceof Id,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new mm(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new bd(r=>Id.Vi(r,t),this.serializer)}};var mx=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fx.bind(null,this.syncEngine),await QN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Ym})()}createDatastore(t){let r=Hd(t.databaseInfo.databaseId),i=(function(o){return new Bm(o)})(t.databaseInfo);return(function(o,a,c,h){return new $m(o,a,c,h)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,s,o,a,c){return new Hm(i,s,o,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>yy(this.syncEngine,r,0),(function(){return Ed.C()?new Ed:new Fm})())}createSyncEngine(t,r){return(function(s,o,a,c,h,f,v){let y=new t1(s,o,a,c,h,f);return v&&(y.fu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(s){let o=wt(s);Ve(Za,"RemoteStore shutting down."),o.Ia.add(5),await Sl(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var i1=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var sa="FirestoreClient",s1=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=pl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ve(sa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ve(sa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=C1(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Ng(n,e){n.asyncQueue.verifyOperationInProgress(),Ve(sa,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ta("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Ve("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ta("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function by(n,e){n.asyncQueue.verifyOperationInProgress();let t=await _x(n);Ve(sa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>my(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>my(e.remoteStore,i)),n._onlineComponents=e}async function _x(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve(sa,"Using user provided OfflineComponentProvider");try{await Ng(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ae.FAILED_PRECONDITION||i.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ta("Error using user provided cache. Falling back to memory cache: "+t),await Ng(n,new $w)}}else Ve(sa,"Using default OfflineComponentProvider"),await Ng(n,new r1(void 0));return n._offlineComponents}async function Ww(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve(sa,"Using user provided OnlineComponentProvider"),await by(n,n._uninitializedComponentsProvider._online)):(Ve(sa,"Using default OnlineComponentProvider"),await by(n,new mx))),n._onlineComponents}function vx(n){return Ww(n).then(e=>e.syncEngine)}async function Iy(n){let e=await Ww(n),t=e.eventManager;return t.onListen=rx.bind(null,e.syncEngine),t.onUnlisten=ox.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ix.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ax.bind(null,e.syncEngine),t}function Hw(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Ay=new Map;var Gw="firestore.googleapis.com",Ey=!0,Cd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gw,this.ssl=Ey}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ey;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RN)throw new Me(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Me(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Me(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Me(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xg;switch(r.type){case"firstParty":return new Cg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=Ay.get(t);r&&(Ve("ComponentProvider","Removing Datastore"),Ay.delete(t),r.terminate())})(this),Promise.resolve()}};function Kw(n,e,t,r={}){var i;n=ys(n,Qc);let s=hs(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(xc(`https://${c}`),Pc("Firestore",!0)),o.host!==Gw&&o.host!==c&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let h=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!ds(h,a)&&(n._setSettings(h),r.mockUserToken)){let f,v;if(typeof r.mockUserToken=="string")f=r.mockUserToken,v=nr.MOCK_USER;else{f=e_(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Me(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nr(y)}n._authCredentials=new Pg(new ad(f,v))}}var ec=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},ir=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Tl(t,n._jsonSchema))return new n(e,r||null,new ot(yn.fromString(t.referencePath)))}};ir._jsonSchemaVersion="firestore/documentReference/1.0",ir._jsonSchema={type:Wn("string",ir._jsonSchemaVersion),referencePath:Wn("string")};var Xo=class n extends ec{constructor(e,t,r){super(e,t,E1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new ot(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Yw(n,e,...t){if(n=cn(n),Cy("collection","path",e),n instanceof Qc){let r=yn.fromString(e,...t);return jv(r),new Xo(n,null,r)}{if(!(n instanceof ir||n instanceof Xo))throw new Me(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(yn.fromString(e,...t));return jv(r),new Xo(n.firestore,null,r)}}function F1(n,e,...t){if(n=cn(n),arguments.length===1&&(e=pl.newId()),Cy("doc","path",e),n instanceof Qc){let r=yn.fromString(e,...t);return Bv(r),new ir(n,null,new ot(r))}{if(!(n instanceof ir||n instanceof Xo))throw new Me(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(yn.fromString(e,...t));return Bv(r),new ir(n.firestore,n instanceof Xo?n.converter:null,new ot(r))}}var Ty="AsyncQueue",Ld=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Td(this,"async_queue_retry"),this.oc=()=>{let r=Sg();r&&Ve(Ty,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Sg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new io;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ru(e))throw e;Ve(Ty,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,so("INTERNAL UNHANDLED ERROR: ",Sy(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Gm.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&ut(47125,{hc:Sy(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Sy(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Ny(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}var lo=class extends Qc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ld,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ld(e),this._firestoreClient=void 0,await e}}};function Jw(n,e){let t=typeof n=="object"?n:Ys(),r=typeof n=="string"?n:e||dd,i=zo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Nh("firestore");s&&Kw(i,...s)}return i}function Xw(n){if(n._terminated)throw new Me(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yx(n),n._firestoreClient}function yx(n){var e,t,r;let i=n._freezeSettings(),s=(function(a,c,h,f){return new Mg(a,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Hw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new s1(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var Qo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(br.fromBase64String(e))}catch(t){throw new Me(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Qo._jsonSchemaVersion="firestore/bytes/1.0",Qo._jsonSchema={type:Wn("string",Qo._jsonSchemaVersion),bytes:Wn("string")};var Zc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Me(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var eu=class{constructor(e){this._methodName=e}};var Zo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Tl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Zo._jsonSchemaVersion="firestore/geoPoint/1.0",Zo._jsonSchema={type:Wn("string",Zo._jsonSchemaVersion),latitude:Wn("number"),longitude:Wn("number")};var ea=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Me(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ea._jsonSchemaVersion="firestore/vectorValue/1.0",ea._jsonSchema={type:Wn("string",ea._jsonSchemaVersion),vectorValues:Wn("object")};var wx=/^__.*__$/,o1=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qa(e,this.data,t,this.fieldTransforms)}},Dd=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Qw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut(40011,{Ec:n})}}var a1=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Fd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Qw(this.Ec)&&wx.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},c1=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hd(e)}Dc(e,t,r,i=!1){return new a1({Ec:e,methodName:t,bc:r,path:pi.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Yd(n){let e=n._freezeSettings(),t=Hd(n._databaseId);return new c1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Zw(n,e,t,r,i,s={}){let o=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);M1("Data must be an object, but it was:",o,r);let a=e5(r,o),c,h;if(s.merge)c=new Ri(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let v of s.mergeFields){let y=l1(e,v,t);if(!o.contains(y))throw new Me(Ae.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);n5(f,y)||f.push(y)}c=new Ri(f),h=o.fieldTransforms.filter(v=>c.covers(v.field))}else c=null,h=o.fieldTransforms;return new o1(new fi(a),c,h)}var Od=class n extends eu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var u1=class n extends eu{_toFieldTransform(e){return new Qg(e.path,new Ya)}isEqual(e){return e instanceof n}};function bx(n,e,t,r){let i=n.Dc(1,e,t);M1("Data must be an object, but it was:",i,r);let s=[],o=fi.empty();oa(r,(c,h)=>{let f=V1(e,c,t);h=cn(h);let v=i.gc(f);if(h instanceof Od)s.push(f);else{let y=xl(h,v);y!=null&&(s.push(f),o.set(f,y))}});let a=new Ri(s);return new Dd(o,a,i.fieldTransforms)}function Ix(n,e,t,r,i,s){let o=n.Dc(1,e,t),a=[l1(e,r,t)],c=[i];if(s.length%2!=0)throw new Me(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(l1(e,s[y])),c.push(s[y+1]);let h=[],f=fi.empty();for(let y=a.length-1;y>=0;--y)if(!n5(h,a[y])){let g=a[y],C=c[y];C=cn(C);let L=o.gc(g);if(C instanceof Od)h.push(g);else{let R=xl(C,L);R!=null&&(h.push(g),f.set(g,R))}}let v=new Ri(h);return new Dd(f,v,o.fieldTransforms)}function Ax(n,e,t,r=!1){return xl(t,n.Dc(r?4:3,e))}function xl(n,e){if(t5(n=cn(n)))return M1("Unsupported field value:",e,n),e5(n,e);if(n instanceof eu)return(function(r,i){if(!Qw(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=xl(a,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Hn.fromDate(r);return{timestampValue:yd(i.serializer,s)}}if(r instanceof Hn){let s=new Hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(i.serializer,s)}}if(r instanceof Zo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qo)return{bytesValue:Iw(i.serializer,r._byteString)};if(r instanceof ir){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ea)return(function(o,a){return{mapValue:{fields:{[y1]:{stringValue:w1},[$c]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw a.wc("VectorValues must only contain numeric values.");return T1(a.serializer,h)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${jd(r)}`)})(n,e)}function e5(n,e){let t={};return Ky(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(n,(r,i)=>{let s=xl(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function t5(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Hn||n instanceof Zo||n instanceof Qo||n instanceof ir||n instanceof eu||n instanceof ea)}function M1(n,e,t){if(!t5(t)||!Ly(t)){let r=jd(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function l1(n,e,t){if((e=cn(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return V1(n,e);throw Fd("Field path arguments must be of type string or ",n,!1,void 0,t)}var Ex=new RegExp("[~\\*/\\[\\]]");function V1(n,e,t){if(e.search(Ex)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zc(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fd(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Me(Ae.INVALID_ARGUMENT,a+n+c)}function n5(n,e){return n.some(t=>t.isEqual(e))}var Md=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new h1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Jd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},h1=class extends Md{data(){return super.data()}};function Jd(n,e){return typeof e=="string"?V1(n,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}function Tx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Me(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var El=class{},Vd=class extends El{};function r5(n,e,...t){let r=[];e instanceof El&&r.push(e),r=r.concat(t),(function(s){let o=s.filter(c=>c instanceof d1).length,a=s.filter(c=>c instanceof Ud).length;if(o>1||o>0&&a>0)throw new Me(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Ud=class n extends Vd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return o5(e._query,t),new ec(e.firestore,e.converter,Jg(e._query,t))}_parse(e){let t=Yd(e.firestore);return(function(s,o,a,c,h,f,v){let y;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Me(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Py(v,f);let C=[];for(let L of v)C.push(xy(c,s,L));y={arrayValue:{values:C}}}else y=xy(c,s,v)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Py(v,f),y=Ax(a,o,v,f==="in"||f==="not-in");return $n.create(h,f,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function i5(n,e,t){let r=e,i=Jd("where",n);return Ud._create(i,r,t)}var d1=class n extends El{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Yi.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)o5(o,c),o=Jg(o,c)})(e._query,t),new ec(e.firestore,e.converter,Jg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var f1=class n extends Vd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,s,o){if(i.startAt!==null)throw new Me(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Me(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ka(s,o)})(e._query,this._field,this._direction);return new ec(e.firestore,e.converter,(function(i,s){let o=i.explicitOrderBy.concat([s]);return new ra(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function s5(n,e="asc"){let t=e,r=Jd("orderBy",n);return f1._create(r,t)}function xy(n,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new Me(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cw(e)&&t.indexOf("/")!==-1)throw new Me(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(yn.fromString(t));if(!ot.isDocumentKey(r))throw new Me(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kv(n,new ot(r))}if(t instanceof ir)return Kv(n,t._key);throw new Me(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(t)}.`)}function Py(n,e){if(!Array.isArray(n)||n.length===0)throw new Me(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o5(n,e){let t=(function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Me(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var p1=class{convertValue(e,t="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ut(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return oa(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[$c].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>vn(o.doubleValue));return new ea(s)}convertGeoPoint(e){return new Zo(vn(e.latitude),vn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=zd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){let t=oo(e);return new Hn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=yn.fromString(e);Gt(xw(r),9688,{name:e});let i=new fd(r.get(1),r.get(3)),s=new ot(r.popFirst(5));return i.isEqual(t)||so(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function a5(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var $a=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wa=class n extends Md{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Wn("string",Wa._jsonSchemaVersion),bundleSource:Wn("string","DocumentSnapshot"),bundleName:Wn("string"),bundle:Wn("string")};var jc=class extends Wa{data(e={}){return super.data(e)}},qc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jc(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),h=-1,f=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:Sx(a.type),doc:c,oldIndex:h,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Sx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:n})}}qc._jsonSchemaVersion="firestore/querySnapshot/1.0",qc._jsonSchema={type:Wn("string",qc._jsonSchemaVersion),bundleSource:Wn("string","QuerySnapshot"),bundleName:Wn("string"),bundle:Wn("string")};var Bd=class extends p1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}};function c5(n,e,t){n=ys(n,ir);let r=ys(n.firestore,lo),i=a5(n.converter,e,t);return Xd(r,[Zw(Yd(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Is.none())])}function u5(n,e,t,...r){n=ys(n,ir);let i=ys(n.firestore,lo),s=Yd(i),o;return o=typeof(e=cn(e))=="string"||e instanceof Zc?Ix(s,"updateDoc",n._key,e,t,r):bx(s,"updateDoc",n._key,e),Xd(i,[o.toMutation(n._key,Is.exists(!0))])}function l5(n){return Xd(ys(n.firestore,lo),[new yl(n._key,Is.none())])}function h5(n,e){let t=ys(n.firestore,lo),r=F1(n),i=a5(n.converter,e);return Xd(t,[Zw(Yd(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Is.exists(!1))]).then(()=>r)}function U1(n,...e){var t,r,i;n=cn(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Ny(e[o])||(s=e[o++]);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ny(e[o])){let v=e[o];e[o]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[o+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[o+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let c,h,f;if(n instanceof ir)h=ys(n.firestore,lo),f=E1(n._key.path),c={next:v=>{e[o]&&e[o](Nx(h,n,v))},error:e[o+1],complete:e[o+2]};else{let v=ys(n,ec);h=ys(v.firestore,lo),f=v._query;let y=new Bd(h);c={next:g=>{e[o]&&e[o](new qc(h,y,v,g))},error:e[o+1],complete:e[o+2]},Tx(n._query)}return(function(y,g,C,L){let R=new i1(L),P=new Xm(g,R,C);return y.asyncQueue.enqueueAndForget(async()=>ZN(await Iy(y),P)),()=>{R.Ou(),y.asyncQueue.enqueueAndForget(async()=>ex(await Iy(y),P))}})(Xw(h),f,a,c)}function Xd(n,e){return(function(r,i){let s=new io;return r.asyncQueue.enqueueAndForget(async()=>cx(await vx(r),i,s)),s.promise})(Xw(n),e)}function Nx(n,e,t){let r=t.docs.get(e._key),i=new Bd(n);return new Wa(n,i,e._key,r,new $a(t.hasPendingWrites,t.fromCache),e.converter)}function d5(){return new u1("serverTimestamp")}(function(e,t=!0){(function(i){tu=i})($o),di(new fr("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new lo(new kg(r.getProvider("auth-internal")),new Lg(o,r.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(h.options.projectId,f)})(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),un(Fv,Mv,e),un(Fv,Mv,"esm2017")})();var Qd=function(){return Qd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qd.apply(this,arguments)};var kx={includeMetadataChanges:!1};function B1(n,e){return e===void 0&&(e=kx),new $i(function(t){var r=U1(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function f5(n){return B1(n,{includeMetadataChanges:!0})}function p5(n,e){return e===void 0&&(e={}),f5(n).pipe(Pa(function(t){return j1(t,e)}))}function j1(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Qd(Qd({},r),(t={},t[e.idField]=n.id,t))}function g5(n){return B1(n,{includeMetadataChanges:!0}).pipe(Pa(function(e){return e.docs}))}function m5(n,e){return e===void 0&&(e={}),g5(n).pipe(Pa(function(t){return t.map(function(r){return j1(r,e)})}))}var nc=class{constructor(e){return e}},_5="firestore",q1=class{constructor(){return Wo(_5)}};var z1=new Uo("angularfire2.firestore-instances");function Rx(n,e){let t=Oa(_5,n,e);return t&&new nc(t)}function Cx(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new nc(r)}}var Lx={provide:q1,deps:[[new dr,z1]]},Dx={provide:nc,useFactory:Rx,deps:[[new dr,z1],Hi]};function tO(n,...e){return un("angularfire",gs.full,"fst"),Bo([Dx,Lx,{provide:z1,useFactory:Cx(n),multi:!0,deps:[Pi,jo,ms,Js,[new dr,ja],[new dr,Go],...e]}])}var v5=rn(m5,!0);var y5=rn(p5,!0);var w5=rn(h5,!0,2);var $1=rn(Yw,!0,2);var b5=rn(l5,!0,2);var Zd=rn(F1,!0,2);var nO=rn(Jw,!0);var I5=rn(s5,!0,2),A5=rn(r5,!0,2);var rO=rn(c5,!0,2);var E5=rn(u5,!0,2);var T5=rn(i5,!0,2);var Ji=Uint8Array,gi=Uint16Array,Y1=Int32Array,J1=new Ji([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),X1=new Ji([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),S5=new Ji([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k5=function(n,e){for(var t=new gi(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Y1(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},R5=k5(J1,2),Fx=R5.b,H1=R5.r;Fx[28]=258,H1[258]=28;var C5=k5(X1,0),sO=C5.b,N5=C5.r,G1=new gi(32768);for(zt=0;zt<32768;++zt)ho=(zt&43690)>>1|(zt&21845)<<1,ho=(ho&52428)>>2|(ho&13107)<<2,ho=(ho&61680)>>4|(ho&3855)<<4,G1[zt]=((ho&65280)>>8|(ho&255)<<8)>>1;var ho,zt,Rl=function(n,e,t){for(var r=n.length,i=0,s=new gi(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new gi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new gi(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],f=e-n[i],v=o[n[i]-1]++<<f,y=v|(1<<f)-1;v<=y;++v)a[G1[v]>>c]=h}else for(a=new gi(r),i=0;i<r;++i)n[i]&&(a[i]=G1[o[n[i]-1]++]>>15-n[i]);return a},rc=new Ji(288);for(zt=0;zt<144;++zt)rc[zt]=8;var zt;for(zt=144;zt<256;++zt)rc[zt]=9;var zt;for(zt=256;zt<280;++zt)rc[zt]=7;var zt;for(zt=280;zt<288;++zt)rc[zt]=8;var zt,ef=new Ji(32);for(zt=0;zt<32;++zt)ef[zt]=5;var zt,Mx=Rl(rc,9,0);var Vx=Rl(ef,5,0);var L5=function(n){return(n+7)/8|0},Ux=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new Ji(n.subarray(e,t))};var fo=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Pl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},W1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:O5,l:0};if(i==1){var o=new Ji(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(ee,oe){return ee.f-oe.f}),t.push({s:-1,f:25001});var a=t[0],c=t[1],h=0,f=1,v=2;for(t[0]={s:-1,f:a.f+c.f,l:a,r:c};f!=i-1;)a=t[t[h].f<t[v].f?h++:v++],c=t[h!=f&&t[h].f<t[v].f?h++:v++],t[f++]={s:-1,f:a.f+c.f,l:a,r:c};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var g=new gi(y+1),C=K1(t[f-1],g,0);if(C>e){var r=0,L=0,R=C-e,P=1<<R;for(s.sort(function(oe,U){return g[U.s]-g[oe.s]||oe.f-U.f});r<i;++r){var q=s[r].s;if(g[q]>e)L+=P-(1<<C-g[q]),g[q]=e;else break}for(L>>=R;L>0;){var j=s[r].s;g[j]<e?L-=1<<e-g[j]++-1:++r}for(;r>=0&&L;--r){var z=s[r].s;g[z]==e&&(--g[z],++L)}C=e}return{t:new Ji(g),l:C}},K1=function(n,e,t){return n.s==-1?Math.max(K1(n.l,e,t+1),K1(n.r,e,t+1)):e[n.s]=t},x5=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new gi(++e),r=0,i=n[0],s=1,o=function(c){t[r++]=c},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},kl=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},D5=function(n,e,t){var r=t.length,i=L5(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},P5=function(n,e,t,r,i,s,o,a,c,h,f){fo(e,f++,t),++i[256];for(var v=W1(i,15),y=v.t,g=v.l,C=W1(s,15),L=C.t,R=C.l,P=x5(y),q=P.c,j=P.n,z=x5(L),ee=z.c,oe=z.n,U=new gi(19),T=0;T<q.length;++T)++U[q[T]&31];for(var T=0;T<ee.length;++T)++U[ee[T]&31];for(var A=W1(U,7),F=A.t,b=A.l,E=19;E>4&&!F[S5[E-1]];--E);var S=h+5<<3,J=kl(i,rc)+kl(s,ef)+o,he=kl(i,y)+kl(s,L)+o+14+3*E+kl(U,F)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&S<=J&&S<=he)return D5(e,f,n.subarray(c,c+h));var me,ge,ce,_e;if(fo(e,f,1+(he<J)),f+=2,he<J){me=Rl(y,g,0),ge=y,ce=Rl(L,R,0),_e=L;var Re=Rl(F,b,0);fo(e,f,j-257),fo(e,f+5,oe-1),fo(e,f+10,E-4),f+=14;for(var T=0;T<E;++T)fo(e,f+3*T,F[S5[T]]);f+=3*E;for(var Te=[q,ee],D=0;D<2;++D)for(var K=Te[D],T=0;T<K.length;++T){var Y=K[T]&31;fo(e,f,Re[Y]),f+=F[Y],Y>15&&(fo(e,f,K[T]>>5&127),f+=K[T]>>12)}}else me=Mx,ge=rc,ce=Vx,_e=ef;for(var T=0;T<a;++T){var Q=r[T];if(Q>255){var Y=Q>>18&31;Pl(e,f,me[Y+257]),f+=ge[Y+257],Y>7&&(fo(e,f,Q>>23&31),f+=J1[Y]);var re=Q&31;Pl(e,f,ce[re]),f+=_e[re],re>3&&(Pl(e,f,Q>>5&8191),f+=X1[re])}else Pl(e,f,me[Q]),f+=ge[Q]}return Pl(e,f,me[256]),f+ge[256]},Bx=new Y1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),O5=new Ji(0),jx=function(n,e,t,r,i,s){var o=s.z||n.length,a=new Ji(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),h=s.l,f=(s.r||0)&7;if(e){f&&(c[0]=s.r>>3);for(var v=Bx[e-1],y=v>>13,g=v&8191,C=(1<<t)-1,L=s.p||new gi(32768),R=s.h||new gi(C+1),P=Math.ceil(t/3),q=2*P,j=function(Ke){return(n[Ke]^n[Ke+1]<<P^n[Ke+2]<<q)&C},z=new Y1(25e3),ee=new gi(288),oe=new gi(32),U=0,T=0,A=s.i||0,F=0,b=s.w||0,E=0;A+2<o;++A){var S=j(A),J=A&32767,he=R[S];if(L[J]=he,R[S]=J,b<=A){var me=o-A;if((U>7e3||F>24576)&&(me>423||!h)){f=P5(n,c,0,z,ee,oe,T,F,E,A-E,f),F=U=T=0,E=A;for(var ge=0;ge<286;++ge)ee[ge]=0;for(var ge=0;ge<30;++ge)oe[ge]=0}var ce=2,_e=0,Re=g,Te=J-he&32767;if(me>2&&S==j(A-Te))for(var D=Math.min(y,me)-1,K=Math.min(32767,A),Y=Math.min(258,me);Te<=K&&--Re&&J!=he;){if(n[A+ce]==n[A+ce-Te]){for(var Q=0;Q<Y&&n[A+Q]==n[A+Q-Te];++Q);if(Q>ce){if(ce=Q,_e=Te,Q>D)break;for(var re=Math.min(Te,Q-2),ae=0,ge=0;ge<re;++ge){var fe=A-Te+ge&32767,pe=L[fe],be=fe-pe&32767;be>ae&&(ae=be,he=fe)}}}J=he,he=L[J],Te+=J-he&32767}if(_e){z[F++]=268435456|H1[ce]<<18|N5[_e];var Pe=H1[ce]&31,Fe=N5[_e]&31;T+=J1[Pe]+X1[Fe],++ee[257+Pe],++oe[Fe],b=A+ce,++U}else z[F++]=n[A],++ee[n[A]]}}for(A=Math.max(A,b);A<o;++A)z[F++]=n[A],++ee[n[A]];f=P5(n,c,h,z,ee,oe,T,F,E,A-E,f),h||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=R,s.p=L,s.i=A,s.w=b)}else{for(var A=s.w||0;A<o+h;A+=65535){var Oe=A+65535;Oe>=o&&(c[f/8|0]=h,Oe=o),f=D5(c,f+1,n.subarray(A,Oe))}s.i=o}return Ux(a,0,r+L5(f)+i)};var F5=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},qx=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Ji(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return jx(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var M5=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var zx=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=F5();i.p(e.dictionary),M5(n,2,i.d())}};function tf(n,e){e||(e={});var t=F5();t.p(n);var r=qx(n,e,e.dictionary?6:2,4);return zx(r,e),M5(r,r.length-4,t.d()),r}var $x=typeof TextDecoder<"u"&&new TextDecoder,Wx=0;try{$x.decode(O5,{stream:!0}),Wx=1}catch{}function V5(n){if(Array.isArray(n))return n}function U5(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],c=!0,h=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){h=!0,i=f}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}function Q1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function B5(n,e){if(n){if(typeof n=="string")return Q1(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q1(n,e):void 0}}function j5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1(n,e){return V5(n)||U5(n,e)||B5(n,e)||j5()}function e0(n,e="utf8"){return new TextDecoder(e).decode(n)}var Hx=new TextEncoder;function q5(n){return Hx.encode(n)}var Gx=1024*8,Kx=(()=>{let n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),t0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},Cl=class n{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Gx,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);let i=t.offset?t.offset>>>0:0,s=e.byteLength-i,o=i;(ArrayBuffer.isView(e)||e instanceof n)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){let r=t0[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Kx&&t!=="uint8"&&t!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let c=new t0[t](a.buffer);return this.offset+=r,c.reverse(),c}let o=new t0[t](s);return this.offset+=r,o}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return e0(this.readBytes(e))}decodeText(e=1,t="utf8"){return e0(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(q5(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function lu(n){let e=n.length;for(;--e>=0;)n[e]=0}var Yx=0,Nb=1,Jx=2,Xx=3,Qx=258,T0=29,Gl=256,Ul=Gl+1+T0,au=30,S0=19,xb=2*Ul+1,ic=15,n0=16,Zx=7,N0=256,Pb=16,kb=17,Rb=18,m0=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),cf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eP=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Cb=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tP=512,go=new Array((Ul+2)*2);lu(go);var Fl=new Array(au*2);lu(Fl);var Bl=new Array(tP);lu(Bl);var jl=new Array(Qx-Xx+1);lu(jl);var x0=new Array(T0);lu(x0);var uf=new Array(au);lu(uf);function r0(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}var Lb,Db,Ob;function i0(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}var Fb=n=>n<256?Bl[n]:Bl[256+(n>>>7)],ql=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},Gr=(n,e,t)=>{n.bi_valid>n0-t?(n.bi_buf|=e<<n.bi_valid&65535,ql(n,n.bi_buf),n.bi_buf=e>>n0-n.bi_valid,n.bi_valid+=t-n0):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Ns=(n,e,t)=>{Gr(n,t[e*2],t[e*2+1])},Mb=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},nP=n=>{n.bi_valid===16?(ql(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},rP=(n,e)=>{let t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length,h,f,v,y,g,C,L=0;for(y=0;y<=ic;y++)n.bl_count[y]=0;for(t[n.heap[n.heap_max]*2+1]=0,h=n.heap_max+1;h<xb;h++)f=n.heap[h],y=t[t[f*2+1]*2+1]+1,y>c&&(y=c,L++),t[f*2+1]=y,!(f>r)&&(n.bl_count[y]++,g=0,f>=a&&(g=o[f-a]),C=t[f*2],n.opt_len+=C*(y+g),s&&(n.static_len+=C*(i[f*2+1]+g)));if(L!==0){do{for(y=c-1;n.bl_count[y]===0;)y--;n.bl_count[y]--,n.bl_count[y+1]+=2,n.bl_count[c]--,L-=2}while(L>0);for(y=c;y!==0;y--)for(f=n.bl_count[y];f!==0;)v=n.heap[--h],!(v>r)&&(t[v*2+1]!==y&&(n.opt_len+=(y-t[v*2+1])*t[v*2],t[v*2+1]=y),f--)}},Vb=(n,e,t)=>{let r=new Array(ic+1),i=0,s,o;for(s=1;s<=ic;s++)i=i+t[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=n[o*2+1];a!==0&&(n[o*2]=Mb(r[a]++,a))}},iP=()=>{let n,e,t,r,i,s=new Array(ic+1);for(t=0,r=0;r<T0-1;r++)for(x0[r]=t,n=0;n<1<<m0[r];n++)jl[t++]=r;for(jl[t-1]=r,i=0,r=0;r<16;r++)for(uf[r]=i,n=0;n<1<<cf[r];n++)Bl[i++]=r;for(i>>=7;r<au;r++)for(uf[r]=i<<7,n=0;n<1<<cf[r]-7;n++)Bl[256+i++]=r;for(e=0;e<=ic;e++)s[e]=0;for(n=0;n<=143;)go[n*2+1]=8,n++,s[8]++;for(;n<=255;)go[n*2+1]=9,n++,s[9]++;for(;n<=279;)go[n*2+1]=7,n++,s[7]++;for(;n<=287;)go[n*2+1]=8,n++,s[8]++;for(Vb(go,Ul+1,s),n=0;n<au;n++)Fl[n*2+1]=5,Fl[n*2]=Mb(n,5);Lb=new r0(go,m0,Gl+1,Ul,ic),Db=new r0(Fl,cf,0,au,ic),Ob=new r0(new Array(0),eP,0,S0,Zx)},Ub=n=>{let e;for(e=0;e<Ul;e++)n.dyn_ltree[e*2]=0;for(e=0;e<au;e++)n.dyn_dtree[e*2]=0;for(e=0;e<S0;e++)n.bl_tree[e*2]=0;n.dyn_ltree[N0*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},Bb=n=>{n.bi_valid>8?ql(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},z5=(n,e,t,r)=>{let i=e*2,s=t*2;return n[i]<n[s]||n[i]===n[s]&&r[e]<=r[t]},s0=(n,e,t)=>{let r=n.heap[t],i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&z5(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!z5(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},$5=(n,e,t)=>{let r,i,s=0,o,a;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+s++]&255,r+=(n.pending_buf[n.sym_buf+s++]&255)<<8,i=n.pending_buf[n.sym_buf+s++],r===0?Ns(n,i,e):(o=jl[i],Ns(n,o+Gl+1,e),a=m0[o],a!==0&&(i-=x0[o],Gr(n,i,a)),r--,o=Fb(r),Ns(n,o,t),a=cf[o],a!==0&&(r-=uf[o],Gr(n,r,a)));while(s<n.sym_next);Ns(n,N0,e)},_0=(n,e)=>{let t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems,o,a,c=-1,h;for(n.heap_len=0,n.heap_max=xb,o=0;o<s;o++)t[o*2]!==0?(n.heap[++n.heap_len]=c=o,n.depth[o]=0):t[o*2+1]=0;for(;n.heap_len<2;)h=n.heap[++n.heap_len]=c<2?++c:0,t[h*2]=1,n.depth[h]=0,n.opt_len--,i&&(n.static_len-=r[h*2+1]);for(e.max_code=c,o=n.heap_len>>1;o>=1;o--)s0(n,t,o);h=s;do o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],s0(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=a,t[h*2]=t[o*2]+t[a*2],n.depth[h]=(n.depth[o]>=n.depth[a]?n.depth[o]:n.depth[a])+1,t[o*2+1]=t[a*2+1]=h,n.heap[1]=h++,s0(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],rP(n,e),Vb(t,c,n.bl_count)},W5=(n,e,t)=>{let r,i=-1,s,o=e[1],a=0,c=7,h=4;for(o===0&&(c=138,h=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)s=o,o=e[(r+1)*2+1],!(++a<c&&s===o)&&(a<h?n.bl_tree[s*2]+=a:s!==0?(s!==i&&n.bl_tree[s*2]++,n.bl_tree[Pb*2]++):a<=10?n.bl_tree[kb*2]++:n.bl_tree[Rb*2]++,a=0,i=s,o===0?(c=138,h=3):s===o?(c=6,h=3):(c=7,h=4))},H5=(n,e,t)=>{let r,i=-1,s,o=e[1],a=0,c=7,h=4;for(o===0&&(c=138,h=3),r=0;r<=t;r++)if(s=o,o=e[(r+1)*2+1],!(++a<c&&s===o)){if(a<h)do Ns(n,s,n.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ns(n,s,n.bl_tree),a--),Ns(n,Pb,n.bl_tree),Gr(n,a-3,2)):a<=10?(Ns(n,kb,n.bl_tree),Gr(n,a-3,3)):(Ns(n,Rb,n.bl_tree),Gr(n,a-11,7));a=0,i=s,o===0?(c=138,h=3):s===o?(c=6,h=3):(c=7,h=4)}},sP=n=>{let e;for(W5(n,n.dyn_ltree,n.l_desc.max_code),W5(n,n.dyn_dtree,n.d_desc.max_code),_0(n,n.bl_desc),e=S0-1;e>=3&&n.bl_tree[Cb[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},oP=(n,e,t,r)=>{let i;for(Gr(n,e-257,5),Gr(n,t-1,5),Gr(n,r-4,4),i=0;i<r;i++)Gr(n,n.bl_tree[Cb[i]*2+1],3);H5(n,n.dyn_ltree,e-1),H5(n,n.dyn_dtree,t-1)},aP=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return 0;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return 1;for(t=32;t<Gl;t++)if(n.dyn_ltree[t*2]!==0)return 1;return 0},G5=!1,cP=n=>{G5||(iP(),G5=!0),n.l_desc=new i0(n.dyn_ltree,Lb),n.d_desc=new i0(n.dyn_dtree,Db),n.bl_desc=new i0(n.bl_tree,Ob),n.bi_buf=0,n.bi_valid=0,Ub(n)},jb=(n,e,t,r)=>{Gr(n,(Yx<<1)+(r?1:0),3),Bb(n),ql(n,t),ql(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},uP=n=>{Gr(n,Nb<<1,3),Ns(n,N0,go),nP(n)},lP=(n,e,t,r)=>{let i,s,o=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=aP(n)),_0(n,n.l_desc),_0(n,n.d_desc),o=sP(n),i=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=i&&(i=s)):i=s=t+5,t+4<=i&&e!==-1?jb(n,e,t,r):n.strategy===4||s===i?(Gr(n,(Nb<<1)+(r?1:0),3),$5(n,go,Fl)):(Gr(n,(Jx<<1)+(r?1:0),3),oP(n,n.l_desc.max_code+1,n.d_desc.max_code+1,o+1),$5(n,n.dyn_ltree,n.dyn_dtree)),Ub(n),r&&Bb(n)},hP=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(jl[t]+Gl+1)*2]++,n.dyn_dtree[Fb(e)*2]++),n.sym_next===n.sym_end),dP=cP,fP=jb,pP=lP,gP=hP,mP=uP,_P={_tr_init:dP,_tr_stored_block:fP,_tr_flush_block:pP,_tr_tally:gP,_tr_align:mP},vP=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0},zl=vP,yP=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},wP=new Uint32Array(yP()),bP=(n,e,t,r)=>{let i=wP,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1},sr=bP,ac={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:IP,_tr_stored_block:v0,_tr_flush_block:AP,_tr_tally:ua,_tr_align:EP}=_P,{Z_NO_FLUSH:la,Z_PARTIAL_FLUSH:TP,Z_FULL_FLUSH:SP,Z_FINISH:Ci,Z_BLOCK:K5,Z_OK:pr,Z_STREAM_END:Y5,Z_STREAM_ERROR:xs,Z_DATA_ERROR:NP,Z_BUF_ERROR:o0,Z_DEFAULT_COMPRESSION:xP,Z_FILTERED:PP,Z_HUFFMAN_ONLY:nf,Z_RLE:kP,Z_FIXED:RP,Z_DEFAULT_STRATEGY:CP,Z_UNKNOWN:LP,Z_DEFLATED:df}=hu,DP=9,OP=15,FP=8,MP=29,VP=256,y0=VP+1+MP,UP=30,BP=19,jP=2*y0+1,qP=15,Ft=3,ca=258,Ps=ca+Ft+1,zP=32,cu=42,P0=57,w0=69,b0=73,I0=91,A0=103,sc=113,Dl=666,Mr=1,du=2,cc=3,fu=4,$P=3,oc=(n,e)=>(n.msg=ac[e],e),J5=n=>n*2-(n>4?9:0),aa=n=>{let e=n.length;for(;--e>=0;)n[e]=0},WP=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=i?t-i:0;while(--e);e=i,r=e;do t=n.prev[--r],n.prev[r]=t>=i?t-i:0;while(--e)},HP=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,ha=HP,mi=n=>{let e=n.state,t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},_i=(n,e)=>{AP(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,mi(n.strm)},$t=(n,e)=>{n.pending_buf[n.pending++]=e},Ll=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},E0=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),i===0?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),n.state.wrap===1?n.adler=zl(n.adler,e,i,t):n.state.wrap===2&&(n.adler=sr(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},qb=(n,e)=>{let t=n.max_chain_length,r=n.strstart,i,s,o=n.prev_length,a=n.nice_match,c=n.strstart>n.w_size-Ps?n.strstart-(n.w_size-Ps):0,h=n.window,f=n.w_mask,v=n.prev,y=n.strstart+ca,g=h[r+o-1],C=h[r+o];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(i=e,!(h[i+o]!==C||h[i+o-1]!==g||h[i]!==h[r]||h[++i]!==h[r+1])){r+=2,i++;do;while(h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&r<y);if(s=ca-(y-r),r=y-ca,s>o){if(n.match_start=e,o=s,s>=a)break;g=h[r+o-1],C=h[r+o]}}while((e=v[e&f])>c&&--t!==0);return o<=n.lookahead?o:n.lookahead},uu=n=>{let e=n.w_size,t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-Ps)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),WP(n),r+=e),n.strm.avail_in===0)break;if(t=E0(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=Ft)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=ha(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=ha(n,n.ins_h,n.window[i+Ft-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<Ft)););}while(n.lookahead<Ps&&n.strm.avail_in!==0)},zb=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,i,s,o=0,a=n.strm.avail_in;do{if(r=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>s&&(r=s),r<t&&(r===0&&e!==Ci||e===la||r!==i+n.strm.avail_in)))break;o=e===Ci&&r===i+n.strm.avail_in?1:0,v0(n,0,0,o),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,mi(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(E0(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(o===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),o?fu:e!==la&&e!==Ci&&n.strm.avail_in===0&&n.strstart===n.block_start?du:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(E0(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,t=s>n.w_size?n.w_size:s,i=n.strstart-n.block_start,(i>=t||(i||e===Ci)&&e!==la&&n.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===Ci&&n.strm.avail_in===0&&r===i?1:0,v0(n,n.block_start,r,o),n.block_start+=r,mi(n.strm)),o?cc:Mr)},a0=(n,e)=>{let t,r;for(;;){if(n.lookahead<Ps){if(uu(n),n.lookahead<Ps&&e===la)return Mr;if(n.lookahead===0)break}if(t=0,n.lookahead>=Ft&&(n.ins_h=ha(n,n.ins_h,n.window[n.strstart+Ft-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-Ps&&(n.match_length=qb(n,t)),n.match_length>=Ft)if(r=ua(n,n.strstart-n.match_start,n.match_length-Ft),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=Ft){n.match_length--;do n.strstart++,n.ins_h=ha(n,n.ins_h,n.window[n.strstart+Ft-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=ha(n,n.ins_h,n.window[n.strstart+1]);else r=ua(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(_i(n,!1),n.strm.avail_out===0))return Mr}return n.insert=n.strstart<Ft-1?n.strstart:Ft-1,e===Ci?(_i(n,!0),n.strm.avail_out===0?cc:fu):n.sym_next&&(_i(n,!1),n.strm.avail_out===0)?Mr:du},su=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<Ps){if(uu(n),n.lookahead<Ps&&e===la)return Mr;if(n.lookahead===0)break}if(t=0,n.lookahead>=Ft&&(n.ins_h=ha(n,n.ins_h,n.window[n.strstart+Ft-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=Ft-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-Ps&&(n.match_length=qb(n,t),n.match_length<=5&&(n.strategy===PP||n.match_length===Ft&&n.strstart-n.match_start>4096)&&(n.match_length=Ft-1)),n.prev_length>=Ft&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-Ft,r=ua(n,n.strstart-1-n.prev_match,n.prev_length-Ft),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=i&&(n.ins_h=ha(n,n.ins_h,n.window[n.strstart+Ft-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=Ft-1,n.strstart++,r&&(_i(n,!1),n.strm.avail_out===0))return Mr}else if(n.match_available){if(r=ua(n,0,n.window[n.strstart-1]),r&&_i(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return Mr}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=ua(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<Ft-1?n.strstart:Ft-1,e===Ci?(_i(n,!0),n.strm.avail_out===0?cc:fu):n.sym_next&&(_i(n,!1),n.strm.avail_out===0)?Mr:du},GP=(n,e)=>{let t,r,i,s,o=n.window;for(;;){if(n.lookahead<=ca){if(uu(n),n.lookahead<=ca&&e===la)return Mr;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=Ft&&n.strstart>0&&(i=n.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=n.strstart+ca;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);n.match_length=ca-(s-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=Ft?(t=ua(n,1,n.match_length-Ft),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=ua(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(_i(n,!1),n.strm.avail_out===0))return Mr}return n.insert=0,e===Ci?(_i(n,!0),n.strm.avail_out===0?cc:fu):n.sym_next&&(_i(n,!1),n.strm.avail_out===0)?Mr:du},KP=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(uu(n),n.lookahead===0)){if(e===la)return Mr;break}if(n.match_length=0,t=ua(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(_i(n,!1),n.strm.avail_out===0))return Mr}return n.insert=0,e===Ci?(_i(n,!0),n.strm.avail_out===0?cc:fu):n.sym_next&&(_i(n,!1),n.strm.avail_out===0)?Mr:du};function Ss(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}var Ol=[new Ss(0,0,0,0,zb),new Ss(4,4,8,4,a0),new Ss(4,5,16,8,a0),new Ss(4,6,32,32,a0),new Ss(4,4,16,16,su),new Ss(8,16,32,32,su),new Ss(8,16,128,128,su),new Ss(8,32,128,256,su),new Ss(32,128,258,1024,su),new Ss(32,258,258,4096,su)],YP=n=>{n.window_size=2*n.w_size,aa(n.head),n.max_lazy_match=Ol[n.level].max_lazy,n.good_match=Ol[n.level].good_length,n.nice_match=Ol[n.level].nice_length,n.max_chain_length=Ol[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=Ft-1,n.match_available=0,n.ins_h=0};function JP(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=df,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(jP*2),this.dyn_dtree=new Uint16Array((2*UP+1)*2),this.bl_tree=new Uint16Array((2*BP+1)*2),aa(this.dyn_ltree),aa(this.dyn_dtree),aa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(qP+1),this.heap=new Uint16Array(2*y0+1),aa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*y0+1),aa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Kl=n=>{if(!n)return 1;let e=n.state;return!e||e.strm!==n||e.status!==cu&&e.status!==P0&&e.status!==w0&&e.status!==b0&&e.status!==I0&&e.status!==A0&&e.status!==sc&&e.status!==Dl?1:0},$b=n=>{if(Kl(n))return oc(n,xs);n.total_in=n.total_out=0,n.data_type=LP;let e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?P0:e.wrap?cu:sc,n.adler=e.wrap===2?0:1,e.last_flush=-2,IP(e),pr},Wb=n=>{let e=$b(n);return e===pr&&YP(n.state),e},XP=(n,e)=>Kl(n)||n.state.wrap!==2?xs:(n.state.gzhead=e,pr),Hb=(n,e,t,r,i,s)=>{if(!n)return xs;let o=1;if(e===xP&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>DP||t!==df||r<8||r>15||e<0||e>9||s<0||s>RP||r===8&&o!==1)return oc(n,xs);r===8&&(r=9);let a=new JP;return n.state=a,a.strm=n,a.status=cu,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ft-1)/Ft),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,Wb(n)},QP=(n,e)=>Hb(n,e,df,OP,FP,CP),ZP=(n,e)=>{if(Kl(n)||e>K5||e<0)return n?oc(n,xs):xs;let t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===Dl&&e!==Ci)return oc(n,n.avail_out===0?o0:xs);let r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(mi(n),n.avail_out===0)return t.last_flush=-1,pr}else if(n.avail_in===0&&J5(e)<=J5(r)&&e!==Ci)return oc(n,o0);if(t.status===Dl&&n.avail_in!==0)return oc(n,o0);if(t.status===cu&&t.wrap===0&&(t.status=sc),t.status===cu){let i=df+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=nf||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,i|=s<<6,t.strstart!==0&&(i|=zP),i+=31-i%31,Ll(t,i),t.strstart!==0&&(Ll(t,n.adler>>>16),Ll(t,n.adler&65535)),n.adler=1,t.status=sc,mi(n),t.pending!==0)return t.last_flush=-1,pr}if(t.status===P0){if(n.adler=0,$t(t,31),$t(t,139),$t(t,8),t.gzhead)$t(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),$t(t,t.gzhead.time&255),$t(t,t.gzhead.time>>8&255),$t(t,t.gzhead.time>>16&255),$t(t,t.gzhead.time>>24&255),$t(t,t.level===9?2:t.strategy>=nf||t.level<2?4:0),$t(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&($t(t,t.gzhead.extra.length&255),$t(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=sr(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=w0;else if($t(t,0),$t(t,0),$t(t,0),$t(t,0),$t(t,0),$t(t,t.level===9?2:t.strategy>=nf||t.level<2?4:0),$t(t,$P),t.status=sc,mi(n),t.pending!==0)return t.last_flush=-1,pr}if(t.status===w0){if(t.gzhead.extra){let i=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=sr(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,mi(n),t.pending!==0)return t.last_flush=-1,pr;i=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>i&&(n.adler=sr(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=b0}if(t.status===b0){if(t.gzhead.name){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=sr(n.adler,t.pending_buf,t.pending-i,i)),mi(n),t.pending!==0)return t.last_flush=-1,pr;i=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,$t(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=sr(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=I0}if(t.status===I0){if(t.gzhead.comment){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=sr(n.adler,t.pending_buf,t.pending-i,i)),mi(n),t.pending!==0)return t.last_flush=-1,pr;i=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,$t(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=sr(n.adler,t.pending_buf,t.pending-i,i))}t.status=A0}if(t.status===A0){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(mi(n),t.pending!==0))return t.last_flush=-1,pr;$t(t,n.adler&255),$t(t,n.adler>>8&255),n.adler=0}if(t.status=sc,mi(n),t.pending!==0)return t.last_flush=-1,pr}if(n.avail_in!==0||t.lookahead!==0||e!==la&&t.status!==Dl){let i=t.level===0?zb(t,e):t.strategy===nf?KP(t,e):t.strategy===kP?GP(t,e):Ol[t.level].func(t,e);if((i===cc||i===fu)&&(t.status=Dl),i===Mr||i===cc)return n.avail_out===0&&(t.last_flush=-1),pr;if(i===du&&(e===TP?EP(t):e!==K5&&(v0(t,0,0,!1),e===SP&&(aa(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),mi(n),n.avail_out===0))return t.last_flush=-1,pr}return e!==Ci?pr:t.wrap<=0?Y5:(t.wrap===2?($t(t,n.adler&255),$t(t,n.adler>>8&255),$t(t,n.adler>>16&255),$t(t,n.adler>>24&255),$t(t,n.total_in&255),$t(t,n.total_in>>8&255),$t(t,n.total_in>>16&255),$t(t,n.total_in>>24&255)):(Ll(t,n.adler>>>16),Ll(t,n.adler&65535)),mi(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?pr:Y5)},ek=n=>{if(Kl(n))return xs;let e=n.state.status;return n.state=null,e===sc?oc(n,NP):pr},tk=(n,e)=>{let t=e.length;if(Kl(n))return xs;let r=n.state,i=r.wrap;if(i===2||i===1&&r.status!==cu||r.lookahead)return xs;if(i===1&&(n.adler=zl(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){i===0&&(aa(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(t-r.w_size,t),0),e=c,t=r.w_size}let s=n.avail_in,o=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,uu(r);r.lookahead>=Ft;){let c=r.strstart,h=r.lookahead-(Ft-1);do r.ins_h=ha(r,r.ins_h,r.window[c+Ft-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--h);r.strstart=c,r.lookahead=Ft-1,uu(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ft-1,r.match_available=0,n.next_in=o,n.input=a,n.avail_in=s,r.wrap=i,pr},nk=QP,rk=Hb,ik=Wb,sk=$b,ok=XP,ak=ZP,ck=ek,uk=tk,lk="pako deflate (from Nodeca project)",Ml={deflateInit:nk,deflateInit2:rk,deflateReset:ik,deflateResetKeep:sk,deflateSetHeader:ok,deflate:ak,deflateEnd:ck,deflateSetDictionary:uk,deflateInfo:lk},hk=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),dk=function(n){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let r in t)hk(t,r)&&(n[r]=t[r])}}return n},fk=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;let t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},ff={assign:dk,flattenChunks:fk},Gb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Gb=!1}var $l=new Uint8Array(256);for(let n=0;n<256;n++)$l[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;$l[254]=$l[254]=1;var pk=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,a=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e},gk=(n,e)=>{if(e<65534&&n.subarray&&Gb)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t},mk=(n,e)=>{let t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i,s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let a=$l[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<t;)o=o<<6|n[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return gk(s,i)},_k=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+$l[n[t]]>e?t:e},Wl={string2buf:pk,buf2string:mk,utf8border:_k};function vk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kb=vk,Yb=Object.prototype.toString,{Z_NO_FLUSH:yk,Z_SYNC_FLUSH:wk,Z_FULL_FLUSH:bk,Z_FINISH:Ik,Z_OK:lf,Z_STREAM_END:Ak,Z_DEFAULT_COMPRESSION:Ek,Z_DEFAULT_STRATEGY:Tk,Z_DEFLATED:Sk}=hu;function Yl(n){this.options=ff.assign({level:Ek,method:Sk,chunkSize:16384,windowBits:15,memLevel:8,strategy:Tk},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kb,this.strm.avail_out=0;let t=Ml.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==lf)throw new Error(ac[t]);if(e.header&&Ml.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Wl.string2buf(e.dictionary):Yb.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=Ml.deflateSetDictionary(this.strm,r),t!==lf)throw new Error(ac[t]);this._dict_set=!0}}Yl.prototype.push=function(n,e){let t=this.strm,r=this.options.chunkSize,i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Ik:yk,typeof n=="string"?t.input=Wl.string2buf(n):Yb.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(s===wk||s===bk)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=Ml.deflate(t,s),i===Ak)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=Ml.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===lf;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Yl.prototype.onData=function(n){this.chunks.push(n)};Yl.prototype.onEnd=function(n){n===lf&&(this.result=ff.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function k0(n,e){let t=new Yl(e);if(t.push(n,!0),t.err)throw t.msg||ac[t.err];return t.result}function Nk(n,e){return e=e||{},e.raw=!0,k0(n,e)}function xk(n,e){return e=e||{},e.gzip=!0,k0(n,e)}var Pk=Yl,kk=k0,Rk=Nk,Ck=xk,Lk=hu,Dk={Deflate:Pk,deflate:kk,deflateRaw:Rk,gzip:Ck,constants:Lk},rf=16209,Ok=16191,Fk=function(e,t){let r,i,s,o,a,c,h,f,v,y,g,C,L,R,P,q,j,z,ee,oe,U,T,A,F,b=e.state;r=e.next_in,A=e.input,i=r+(e.avail_in-5),s=e.next_out,F=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=b.dmax,h=b.wsize,f=b.whave,v=b.wnext,y=b.window,g=b.hold,C=b.bits,L=b.lencode,R=b.distcode,P=(1<<b.lenbits)-1,q=(1<<b.distbits)-1;e:do{C<15&&(g+=A[r++]<<C,C+=8,g+=A[r++]<<C,C+=8),j=L[g&P];t:for(;;){if(z=j>>>24,g>>>=z,C-=z,z=j>>>16&255,z===0)F[s++]=j&65535;else if(z&16){ee=j&65535,z&=15,z&&(C<z&&(g+=A[r++]<<C,C+=8),ee+=g&(1<<z)-1,g>>>=z,C-=z),C<15&&(g+=A[r++]<<C,C+=8,g+=A[r++]<<C,C+=8),j=R[g&q];n:for(;;){if(z=j>>>24,g>>>=z,C-=z,z=j>>>16&255,z&16){if(oe=j&65535,z&=15,C<z&&(g+=A[r++]<<C,C+=8,C<z&&(g+=A[r++]<<C,C+=8)),oe+=g&(1<<z)-1,oe>c){e.msg="invalid distance too far back",b.mode=rf;break e}if(g>>>=z,C-=z,z=s-o,oe>z){if(z=oe-z,z>f&&b.sane){e.msg="invalid distance too far back",b.mode=rf;break e}if(U=0,T=y,v===0){if(U+=h-z,z<ee){ee-=z;do F[s++]=y[U++];while(--z);U=s-oe,T=F}}else if(v<z){if(U+=h+v-z,z-=v,z<ee){ee-=z;do F[s++]=y[U++];while(--z);if(U=0,v<ee){z=v,ee-=z;do F[s++]=y[U++];while(--z);U=s-oe,T=F}}}else if(U+=v-z,z<ee){ee-=z;do F[s++]=y[U++];while(--z);U=s-oe,T=F}for(;ee>2;)F[s++]=T[U++],F[s++]=T[U++],F[s++]=T[U++],ee-=3;ee&&(F[s++]=T[U++],ee>1&&(F[s++]=T[U++]))}else{U=s-oe;do F[s++]=F[U++],F[s++]=F[U++],F[s++]=F[U++],ee-=3;while(ee>2);ee&&(F[s++]=F[U++],ee>1&&(F[s++]=F[U++]))}}else if((z&64)===0){j=R[(j&65535)+(g&(1<<z)-1)];continue n}else{e.msg="invalid distance code",b.mode=rf;break e}break}}else if((z&64)===0){j=L[(j&65535)+(g&(1<<z)-1)];continue t}else if(z&32){b.mode=Ok;break e}else{e.msg="invalid literal/length code",b.mode=rf;break e}break}}while(r<i&&s<a);ee=C>>3,r-=ee,C-=ee<<3,g&=(1<<C)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),b.hold=g,b.bits=C},ou=15,X5=852,Q5=592,Z5=0,c0=1,eb=2,Mk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Vk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Uk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Bk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jk=(n,e,t,r,i,s,o,a)=>{let c=a.bits,h=0,f=0,v=0,y=0,g=0,C=0,L=0,R=0,P=0,q=0,j,z,ee,oe,U,T=null,A,F=new Uint16Array(ou+1),b=new Uint16Array(ou+1),E=null,S,J,he;for(h=0;h<=ou;h++)F[h]=0;for(f=0;f<r;f++)F[e[t+f]]++;for(g=c,y=ou;y>=1&&F[y]===0;y--);if(g>y&&(g=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(v=1;v<y&&F[v]===0;v++);for(g<v&&(g=v),R=1,h=1;h<=ou;h++)if(R<<=1,R-=F[h],R<0)return-1;if(R>0&&(n===Z5||y!==1))return-1;for(b[1]=0,h=1;h<ou;h++)b[h+1]=b[h]+F[h];for(f=0;f<r;f++)e[t+f]!==0&&(o[b[e[t+f]]++]=f);if(n===Z5?(T=E=o,A=20):n===c0?(T=Mk,E=Vk,A=257):(T=Uk,E=Bk,A=0),q=0,f=0,h=v,U=s,C=g,L=0,ee=-1,P=1<<g,oe=P-1,n===c0&&P>X5||n===eb&&P>Q5)return 1;for(;;){S=h-L,o[f]+1<A?(J=0,he=o[f]):o[f]>=A?(J=E[o[f]-A],he=T[o[f]-A]):(J=96,he=0),j=1<<h-L,z=1<<C,v=z;do z-=j,i[U+(q>>L)+z]=S<<24|J<<16|he|0;while(z!==0);for(j=1<<h-1;q&j;)j>>=1;if(j!==0?(q&=j-1,q+=j):q=0,f++,--F[h]===0){if(h===y)break;h=e[t+o[f]]}if(h>g&&(q&oe)!==ee){for(L===0&&(L=g),U+=v,C=h-L,R=1<<C;C+L<y&&(R-=F[C+L],!(R<=0));)C++,R<<=1;if(P+=1<<C,n===c0&&P>X5||n===eb&&P>Q5)return 1;ee=q&oe,i[ee]=g<<24|C<<16|U-s|0}}return q!==0&&(i[U+q]=h-L<<24|64<<16|0),a.bits=g,0},Vl=jk,qk=0,Jb=1,Xb=2,{Z_FINISH:tb,Z_BLOCK:zk,Z_TREES:sf,Z_OK:uc,Z_STREAM_END:$k,Z_NEED_DICT:Wk,Z_STREAM_ERROR:Li,Z_DATA_ERROR:Qb,Z_MEM_ERROR:Zb,Z_BUF_ERROR:Hk,Z_DEFLATED:nb}=hu,pf=16180,rb=16181,ib=16182,sb=16183,ob=16184,ab=16185,cb=16186,ub=16187,lb=16188,hb=16189,hf=16190,po=16191,u0=16192,db=16193,l0=16194,fb=16195,pb=16196,gb=16197,mb=16198,of=16199,af=16200,_b=16201,vb=16202,yb=16203,wb=16204,bb=16205,h0=16206,Ib=16207,Ab=16208,wn=16209,eI=16210,tI=16211,Gk=852,Kk=592,Yk=15,Jk=Yk,Eb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Xk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var lc=n=>{if(!n)return 1;let e=n.state;return!e||e.strm!==n||e.mode<pf||e.mode>tI?1:0},nI=n=>{if(lc(n))return Li;let e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=pf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Gk),e.distcode=e.distdyn=new Int32Array(Kk),e.sane=1,e.back=-1,uc},rI=n=>{if(lc(n))return Li;let e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,nI(n)},iI=(n,e)=>{let t;if(lc(n))return Li;let r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Li:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,rI(n))},sI=(n,e)=>{if(!n)return Li;let t=new Xk;n.state=t,t.strm=n,t.window=null,t.mode=pf;let r=iI(n,e);return r!==uc&&(n.state=null),r},Qk=n=>sI(n,Jk),Tb=!0,d0,f0,Zk=n=>{if(Tb){d0=new Int32Array(512),f0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Vl(Jb,n.lens,0,288,d0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Vl(Xb,n.lens,0,32,f0,0,n.work,{bits:5}),Tb=!1}n.lencode=d0,n.lenbits=9,n.distcode=f0,n.distbits=5},oI=(n,e,t,r)=>{let i,s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},e6=(n,e)=>{let t,r,i,s,o,a,c,h,f,v,y,g,C,L,R=0,P,q,j,z,ee,oe,U,T,A=new Uint8Array(4),F,b,E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lc(n)||!n.output||!n.input&&n.avail_in!==0)return Li;t=n.state,t.mode===po&&(t.mode=u0),o=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,h=t.hold,f=t.bits,v=a,y=c,T=uc;e:for(;;)switch(t.mode){case pf:if(t.wrap===0){t.mode=u0;break}for(;f<16;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,A[0]=h&255,A[1]=h>>>8&255,t.check=sr(t.check,A,2,0),h=0,f=0,t.mode=rb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",t.mode=wn;break}if((h&15)!==nb){n.msg="unknown compression method",t.mode=wn;break}if(h>>>=4,f-=4,U=(h&15)+8,t.wbits===0&&(t.wbits=U),U>15||U>t.wbits){n.msg="invalid window size",t.mode=wn;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=h&512?hb:po,h=0,f=0;break;case rb:for(;f<16;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if(t.flags=h,(t.flags&255)!==nb){n.msg="unknown compression method",t.mode=wn;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=wn;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(A[0]=h&255,A[1]=h>>>8&255,t.check=sr(t.check,A,2,0)),h=0,f=0,t.mode=ib;case ib:for(;f<32;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(A[0]=h&255,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,t.check=sr(t.check,A,4,0)),h=0,f=0,t.mode=sb;case sb:for(;f<16;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(A[0]=h&255,A[1]=h>>>8&255,t.check=sr(t.check,A,2,0)),h=0,f=0,t.mode=ob;case ob:if(t.flags&1024){for(;f<16;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(A[0]=h&255,A[1]=h>>>8&255,t.check=sr(t.check,A,2,0)),h=0,f=0}else t.head&&(t.head.extra=null);t.mode=ab;case ab:if(t.flags&1024&&(g=t.length,g>a&&(g=a),g&&(t.head&&(U=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+g),U)),t.flags&512&&t.wrap&4&&(t.check=sr(t.check,r,g,s)),a-=g,s+=g,t.length-=g),t.length))break e;t.length=0,t.mode=cb;case cb:if(t.flags&2048){if(a===0)break e;g=0;do U=r[s+g++],t.head&&U&&t.length<65536&&(t.head.name+=String.fromCharCode(U));while(U&&g<a);if(t.flags&512&&t.wrap&4&&(t.check=sr(t.check,r,g,s)),a-=g,s+=g,U)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ub;case ub:if(t.flags&4096){if(a===0)break e;g=0;do U=r[s+g++],t.head&&U&&t.length<65536&&(t.head.comment+=String.fromCharCode(U));while(U&&g<a);if(t.flags&512&&t.wrap&4&&(t.check=sr(t.check,r,g,s)),a-=g,s+=g,U)break e}else t.head&&(t.head.comment=null);t.mode=lb;case lb:if(t.flags&512){for(;f<16;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if(t.wrap&4&&h!==(t.check&65535)){n.msg="header crc mismatch",t.mode=wn;break}h=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=po;break;case hb:for(;f<32;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}n.adler=t.check=Eb(h),h=0,f=0,t.mode=hf;case hf:if(t.havedict===0)return n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=h,t.bits=f,Wk;n.adler=t.check=1,t.mode=po;case po:if(e===zk||e===sf)break e;case u0:if(t.last){h>>>=f&7,f-=f&7,t.mode=h0;break}for(;f<3;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}switch(t.last=h&1,h>>>=1,f-=1,h&3){case 0:t.mode=db;break;case 1:if(Zk(t),t.mode=of,e===sf){h>>>=2,f-=2;break e}break;case 2:t.mode=pb;break;case 3:n.msg="invalid block type",t.mode=wn}h>>>=2,f-=2;break;case db:for(h>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",t.mode=wn;break}if(t.length=h&65535,h=0,f=0,t.mode=l0,e===sf)break e;case l0:t.mode=fb;case fb:if(g=t.length,g){if(g>a&&(g=a),g>c&&(g=c),g===0)break e;i.set(r.subarray(s,s+g),o),a-=g,s+=g,c-=g,o+=g,t.length-=g;break}t.mode=po;break;case pb:for(;f<14;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if(t.nlen=(h&31)+257,h>>>=5,f-=5,t.ndist=(h&31)+1,h>>>=5,f-=5,t.ncode=(h&15)+4,h>>>=4,f-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=wn;break}t.have=0,t.mode=gb;case gb:for(;t.have<t.ncode;){for(;f<3;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}t.lens[E[t.have++]]=h&7,h>>>=3,f-=3}for(;t.have<19;)t.lens[E[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,F={bits:t.lenbits},T=Vl(qk,t.lens,0,19,t.lencode,0,t.work,F),t.lenbits=F.bits,T){n.msg="invalid code lengths set",t.mode=wn;break}t.have=0,t.mode=mb;case mb:for(;t.have<t.nlen+t.ndist;){for(;R=t.lencode[h&(1<<t.lenbits)-1],P=R>>>24,q=R>>>16&255,j=R&65535,!(P<=f);){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if(j<16)h>>>=P,f-=P,t.lens[t.have++]=j;else{if(j===16){for(b=P+2;f<b;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if(h>>>=P,f-=P,t.have===0){n.msg="invalid bit length repeat",t.mode=wn;break}U=t.lens[t.have-1],g=3+(h&3),h>>>=2,f-=2}else if(j===17){for(b=P+3;f<b;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}h>>>=P,f-=P,U=0,g=3+(h&7),h>>>=3,f-=3}else{for(b=P+7;f<b;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}h>>>=P,f-=P,U=0,g=11+(h&127),h>>>=7,f-=7}if(t.have+g>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=wn;break}for(;g--;)t.lens[t.have++]=U}}if(t.mode===wn)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=wn;break}if(t.lenbits=9,F={bits:t.lenbits},T=Vl(Jb,t.lens,0,t.nlen,t.lencode,0,t.work,F),t.lenbits=F.bits,T){n.msg="invalid literal/lengths set",t.mode=wn;break}if(t.distbits=6,t.distcode=t.distdyn,F={bits:t.distbits},T=Vl(Xb,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,F),t.distbits=F.bits,T){n.msg="invalid distances set",t.mode=wn;break}if(t.mode=of,e===sf)break e;case of:t.mode=af;case af:if(a>=6&&c>=258){n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=h,t.bits=f,Fk(n,y),o=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,h=t.hold,f=t.bits,t.mode===po&&(t.back=-1);break}for(t.back=0;R=t.lencode[h&(1<<t.lenbits)-1],P=R>>>24,q=R>>>16&255,j=R&65535,!(P<=f);){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if(q&&(q&240)===0){for(z=P,ee=q,oe=j;R=t.lencode[oe+((h&(1<<z+ee)-1)>>z)],P=R>>>24,q=R>>>16&255,j=R&65535,!(z+P<=f);){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}h>>>=z,f-=z,t.back+=z}if(h>>>=P,f-=P,t.back+=P,t.length=j,q===0){t.mode=bb;break}if(q&32){t.back=-1,t.mode=po;break}if(q&64){n.msg="invalid literal/length code",t.mode=wn;break}t.extra=q&15,t.mode=_b;case _b:if(t.extra){for(b=t.extra;f<b;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=vb;case vb:for(;R=t.distcode[h&(1<<t.distbits)-1],P=R>>>24,q=R>>>16&255,j=R&65535,!(P<=f);){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if((q&240)===0){for(z=P,ee=q,oe=j;R=t.distcode[oe+((h&(1<<z+ee)-1)>>z)],P=R>>>24,q=R>>>16&255,j=R&65535,!(z+P<=f);){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}h>>>=z,f-=z,t.back+=z}if(h>>>=P,f-=P,t.back+=P,q&64){n.msg="invalid distance code",t.mode=wn;break}t.offset=j,t.extra=q&15,t.mode=yb;case yb:if(t.extra){for(b=t.extra;f<b;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=wn;break}t.mode=wb;case wb:if(c===0)break e;if(g=y-c,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=wn;break}g>t.wnext?(g-=t.wnext,C=t.wsize-g):C=t.wnext-g,g>t.length&&(g=t.length),L=t.window}else L=i,C=o-t.offset,g=t.length;g>c&&(g=c),c-=g,t.length-=g;do i[o++]=L[C++];while(--g);t.length===0&&(t.mode=af);break;case bb:if(c===0)break e;i[o++]=t.length,c--,t.mode=af;break;case h0:if(t.wrap){for(;f<32;){if(a===0)break e;a--,h|=r[s++]<<f,f+=8}if(y-=c,n.total_out+=y,t.total+=y,t.wrap&4&&y&&(n.adler=t.check=t.flags?sr(t.check,i,y,o-y):zl(t.check,i,y,o-y)),y=c,t.wrap&4&&(t.flags?h:Eb(h))!==t.check){n.msg="incorrect data check",t.mode=wn;break}h=0,f=0}t.mode=Ib;case Ib:if(t.wrap&&t.flags){for(;f<32;){if(a===0)break e;a--,h+=r[s++]<<f,f+=8}if(t.wrap&4&&h!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=wn;break}h=0,f=0}t.mode=Ab;case Ab:T=$k;break e;case wn:T=Qb;break e;case eI:return Zb;case tI:default:return Li}return n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=h,t.bits=f,(t.wsize||y!==n.avail_out&&t.mode<wn&&(t.mode<h0||e!==tb))&&oI(n,n.output,n.next_out,y-n.avail_out),v-=n.avail_in,y-=n.avail_out,n.total_in+=v,n.total_out+=y,t.total+=y,t.wrap&4&&y&&(n.adler=t.check=t.flags?sr(t.check,i,y,n.next_out-y):zl(t.check,i,y,n.next_out-y)),n.data_type=t.bits+(t.last?64:0)+(t.mode===po?128:0)+(t.mode===of||t.mode===l0?256:0),(v===0&&y===0||e===tb)&&T===uc&&(T=Hk),T},t6=n=>{if(lc(n))return Li;let e=n.state;return e.window&&(e.window=null),n.state=null,uc},n6=(n,e)=>{if(lc(n))return Li;let t=n.state;return(t.wrap&2)===0?Li:(t.head=e,e.done=!1,uc)},r6=(n,e)=>{let t=e.length,r,i,s;return lc(n)||(r=n.state,r.wrap!==0&&r.mode!==hf)?Li:r.mode===hf&&(i=1,i=zl(i,e,t,0),i!==r.check)?Qb:(s=oI(n,e,t,t),s?(r.mode=eI,Zb):(r.havedict=1,uc))},i6=rI,s6=iI,o6=nI,a6=Qk,c6=sI,u6=e6,l6=t6,h6=n6,d6=r6,f6="pako inflate (from Nodeca project)",mo={inflateReset:i6,inflateReset2:s6,inflateResetKeep:o6,inflateInit:a6,inflateInit2:c6,inflate:u6,inflateEnd:l6,inflateGetHeader:h6,inflateSetDictionary:d6,inflateInfo:f6};function p6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var g6=p6,aI=Object.prototype.toString,{Z_NO_FLUSH:m6,Z_FINISH:_6,Z_OK:Hl,Z_STREAM_END:p0,Z_NEED_DICT:g0,Z_STREAM_ERROR:v6,Z_DATA_ERROR:Sb,Z_MEM_ERROR:y6}=hu;function Jl(n){this.options=ff.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kb,this.strm.avail_out=0;let t=mo.inflateInit2(this.strm,e.windowBits);if(t!==Hl)throw new Error(ac[t]);if(this.header=new g6,mo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Wl.string2buf(e.dictionary):aI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=mo.inflateSetDictionary(this.strm,e.dictionary),t!==Hl)))throw new Error(ac[t])}Jl.prototype.push=function(n,e){let t=this.strm,r=this.options.chunkSize,i=this.options.dictionary,s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?_6:m6,aI.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=mo.inflate(t,o),s===g0&&i&&(s=mo.inflateSetDictionary(t,i),s===Hl?s=mo.inflate(t,o):s===Sb&&(s=g0));t.avail_in>0&&s===p0&&t.state.wrap>0&&n[t.next_in]!==0;)mo.inflateReset(t),s=mo.inflate(t,o);switch(s){case v6:case Sb:case g0:case y6:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===p0))if(this.options.to==="string"){let c=Wl.utf8border(t.output,t.next_out),h=t.next_out-c,f=Wl.buf2string(t.output,c);t.next_out=h,t.avail_out=r-h,h&&t.output.set(t.output.subarray(c,c+h),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Hl&&a===0)){if(s===p0)return s=mo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Jl.prototype.onData=function(n){this.chunks.push(n)};Jl.prototype.onEnd=function(n){n===Hl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ff.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function R0(n,e){let t=new Jl(e);if(t.push(n),t.err)throw t.msg||ac[t.err];return t.result}function w6(n,e){return e=e||{},e.raw=!0,R0(n,e)}var b6=Jl,I6=R0,A6=w6,E6=R0,T6=hu,S6={Inflate:b6,inflate:I6,inflateRaw:A6,ungzip:E6,constants:T6},{Deflate:bO,deflate:IO,deflateRaw:AO,gzip:EO}=Dk,{Inflate:N6,inflate:x6,inflateRaw:TO,ungzip:SO}=S6;var C0=N6,cI=x6;var lI=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;lI[n]=e}var uI=4294967295;function P6(n,e,t){let r=n;for(let i=0;i<t;i++)r=lI[(r^e[i])&255]^r>>>8;return r}function k6(n,e){return(P6(uI,n,e)^uI)>>>0}function L0(n,e,t){let r=n.readUint32(),i=k6(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function gf(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function mf(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function _f(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function vf(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function yf(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+R6(e[s-i],t[s],t[s-i])&255}}function R6(n,e,t){let r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),o=Math.abs(r-t);return i<=s&&i<=o?n:s<=o?e:t}function hI(n,e,t,r,i,s){switch(n){case 0:gf(e,t,i);break;case 1:mf(e,t,i,s);break;case 2:_f(e,t,r,i);break;case 3:vf(e,t,r,i,s);break;case 4:yf(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}var C6=new Uint16Array([255]),L6=new Uint8Array(C6.buffer),D6=L6[0]===255;function dI(n){let{data:e,width:t,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,c=new Uint8Array(r*t*a),h=0;for(let f=0;f<7;f++){let v=o[f],y=Math.ceil((t-v.x)/v.xStep),g=Math.ceil((r-v.y)/v.yStep);if(y<=0||g<=0)continue;let C=y*a,L=new Uint8Array(C);for(let R=0;R<g;R++){let P=e[h++],q=e.subarray(h,h+C);h+=C;let j=new Uint8Array(C);hI(P,q,j,L,C,a),L.set(j);for(let z=0;z<y;z++){let ee=v.x+z*v.xStep,oe=v.y+R*v.yStep;if(!(ee>=t||oe>=r))for(let U=0;U<a;U++)c[(oe*t+ee)*a+U]=j[z*a+U]}}}if(s===16){let f=new Uint16Array(c.buffer);if(D6)for(let v=0;v<f.length;v++)f[v]=O6(f[v]);return f}else return c}function O6(n){return(n&255)<<8|n>>8&255}var F6=new Uint16Array([255]),M6=new Uint8Array(F6.buffer),V6=M6[0]===255,U6=new Uint8Array(0);function D0(n){let{data:e,width:t,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*t),c=new Uint8Array(r*a),h=U6,f=0,v,y;for(let g=0;g<r;g++){switch(v=e.subarray(f+1,f+1+a),y=c.subarray(g*a,(g+1)*a),e[f]){case 0:gf(v,y,a);break;case 1:mf(v,y,a,o);break;case 2:_f(v,y,h,a);break;case 3:vf(v,y,h,a,o);break;case 4:yf(v,y,h,a,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}h=y,f+=a+1}if(s===16){let g=new Uint16Array(c.buffer);if(V6)for(let C=0;C<g.length;C++)g[C]=B6(g[C]);return g}else return c}function B6(n){return(n&255)<<8|n>>8&255}var wf=Uint8Array.of(137,80,78,71,13,10,26,10);function O0(n){if(!fI(n.readBytes(wf.length)))throw new Error("wrong PNG signature")}function fI(n){if(n.length<wf.length)return!1;for(let e=0;e<wf.length;e++)if(n[e]!==wf[e])return!1;return!0}var pI="tEXt",q6=0,gI=new TextDecoder("latin1");function z6(n){if(W6(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}var $6=/^[\u0000-\u00FF]*$/;function W6(n){if(!$6.test(n))throw new Error("invalid latin1 text")}function mI(n,e,t){let r=F0(e);n[r]=H6(e,t-r.length-1)}function F0(n){for(n.mark();n.readByte()!==q6;);let e=n.offset;n.reset();let t=gI.decode(n.readBytes(e-n.offset-1));return n.skip(1),z6(t),t}function H6(n,e){return gI.decode(n.readBytes(e))}var Vr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Xl={UNKNOWN:-1,DEFLATE:0},bf={UNKNOWN:-1,ADAPTIVE:0},Ql={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zl={NONE:0,BACKGROUND:1,PREVIOUS:2},If={SOURCE:0,OVER:1};var Af=class extends Cl{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);let{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new C0,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Xl.UNKNOWN,this._filterMethod=bf.UNKNOWN,this._interlaceMethod=Ql.UNKNOWN,this._colorType=Vr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(O0(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(O0(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){let r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case pI:mI(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?L0(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){let r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?L0(this,e+4,t):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=G6(this.readUint8());let t=this.readUint8();this._colorType=t;let r;switch(t){case Vr.GREYSCALE:r=1;break;case Vr.TRUECOLOUR:r=3;break;case Vr.INDEXED_COLOUR:r=1;break;case Vr.GREYSCALE_ALPHA:r=2;break;case Vr.TRUECOLOUR_ALPHA:r=4;break;case Vr.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Xl.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let t=e/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Vr.GREYSCALE:case Vr.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Vr.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){let r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Vr.UNKNOWN:case Vr.GREYSCALE_ALPHA:case Vr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let t=F0(this),r=this.readUint8();if(r!==Xl.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:cI(i)}}decodepHYs(){let e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=D0({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{let i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Zl.NONE:break;case Zl.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){let o=(i*e.width+s)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[o+a]=0}break;case Zl.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){let r=1<<this._png.depth,i=(s,o)=>{let a=((s+t.yOffset)*this._png.width+t.xOffset+o)*this._png.channels,c=(s*t.width+o)*this._png.channels;return{index:a,frameIndex:c}};switch(t.blendOp){case If.SOURCE:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){let{index:a,frameIndex:c}=i(s,o);for(let h=0;h<this._png.channels;h++)e.data[a+h]=t.data[c+h]}break;case If.OVER:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){let{index:a,frameIndex:c}=i(s,o);for(let h=0;h<this._png.channels;h++){let f=t.data[c+this._png.channels-1]/r,v=h%(this._png.channels-1)===0?1:t.data[c+h],y=Math.floor(f*v+(1-f)*e.data[a+h]);e.data[a+h]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==bf.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ql.NO_INTERLACE)this._png.data=D0({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ql.ADAM7)this._png.data=dI({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zl.NONE,blendOp:If.SOURCE,data:e}),this._inflator=new C0,this._writingDataChunks=!1}};function G6(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}function _I(n,e){return new Af(n,e).decode()}var mt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function M0(){mt.console&&typeof mt.console.log=="function"&&mt.console.log.apply(mt.console,arguments)}var ln={log:M0,warn:function(n){mt.console&&(typeof mt.console.warn=="function"?mt.console.warn.apply(mt.console,arguments):M0.call(null,arguments))},error:function(n){mt.console&&(typeof mt.console.error=="function"?mt.console.error.apply(mt.console,arguments):M0(n))}};function V0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){hc(r.response,e,t)},r.onerror=function(){ln.error("could not download file")},r.send()}function vI(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ef(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var hc=mt.saveAs||((typeof window>"u"?"undefined":nn(window))!=="object"||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=mt.URL||mt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?vI(i.href)?V0(n,e,t):Ef(i,i.target="_blank"):Ef(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ef(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(vI(n))V0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Ef(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:nn(s)!=="object"&&(ln.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return V0(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(mt.HTMLElement)||mt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":nn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(n)}else{var c=mt.URL||mt.webkitURL,h=c.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});function BI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+a+c+h}}var Nf=mt.atob.bind(mt),yI=mt.btoa.bind(mt);function U0(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Ir(t,r,i,s,e[0],7,-680876936),s=Ir(s,t,r,i,e[1],12,-389564586),i=Ir(i,s,t,r,e[2],17,606105819),r=Ir(r,i,s,t,e[3],22,-1044525330),t=Ir(t,r,i,s,e[4],7,-176418897),s=Ir(s,t,r,i,e[5],12,1200080426),i=Ir(i,s,t,r,e[6],17,-1473231341),r=Ir(r,i,s,t,e[7],22,-45705983),t=Ir(t,r,i,s,e[8],7,1770035416),s=Ir(s,t,r,i,e[9],12,-1958414417),i=Ir(i,s,t,r,e[10],17,-42063),r=Ir(r,i,s,t,e[11],22,-1990404162),t=Ir(t,r,i,s,e[12],7,1804603682),s=Ir(s,t,r,i,e[13],12,-40341101),i=Ir(i,s,t,r,e[14],17,-1502002290),t=Ar(t,r=Ir(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ar(s,t,r,i,e[6],9,-1069501632),i=Ar(i,s,t,r,e[11],14,643717713),r=Ar(r,i,s,t,e[0],20,-373897302),t=Ar(t,r,i,s,e[5],5,-701558691),s=Ar(s,t,r,i,e[10],9,38016083),i=Ar(i,s,t,r,e[15],14,-660478335),r=Ar(r,i,s,t,e[4],20,-405537848),t=Ar(t,r,i,s,e[9],5,568446438),s=Ar(s,t,r,i,e[14],9,-1019803690),i=Ar(i,s,t,r,e[3],14,-187363961),r=Ar(r,i,s,t,e[8],20,1163531501),t=Ar(t,r,i,s,e[13],5,-1444681467),s=Ar(s,t,r,i,e[2],9,-51403784),i=Ar(i,s,t,r,e[7],14,1735328473),t=Er(t,r=Ar(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Er(s,t,r,i,e[8],11,-2022574463),i=Er(i,s,t,r,e[11],16,1839030562),r=Er(r,i,s,t,e[14],23,-35309556),t=Er(t,r,i,s,e[1],4,-1530992060),s=Er(s,t,r,i,e[4],11,1272893353),i=Er(i,s,t,r,e[7],16,-155497632),r=Er(r,i,s,t,e[10],23,-1094730640),t=Er(t,r,i,s,e[13],4,681279174),s=Er(s,t,r,i,e[0],11,-358537222),i=Er(i,s,t,r,e[3],16,-722521979),r=Er(r,i,s,t,e[6],23,76029189),t=Er(t,r,i,s,e[9],4,-640364487),s=Er(s,t,r,i,e[12],11,-421815835),i=Er(i,s,t,r,e[15],16,530742520),t=Tr(t,r=Er(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Tr(s,t,r,i,e[7],10,1126891415),i=Tr(i,s,t,r,e[14],15,-1416354905),r=Tr(r,i,s,t,e[5],21,-57434055),t=Tr(t,r,i,s,e[12],6,1700485571),s=Tr(s,t,r,i,e[3],10,-1894986606),i=Tr(i,s,t,r,e[10],15,-1051523),r=Tr(r,i,s,t,e[1],21,-2054922799),t=Tr(t,r,i,s,e[8],6,1873313359),s=Tr(s,t,r,i,e[15],10,-30611744),i=Tr(i,s,t,r,e[6],15,-1560198380),r=Tr(r,i,s,t,e[13],21,1309151649),t=Tr(t,r,i,s,e[4],6,-145523070),s=Tr(s,t,r,i,e[11],10,-1120210379),i=Tr(i,s,t,r,e[2],15,718787259),r=Tr(r,i,s,t,e[9],21,-343485551),n[0]=fa(t,n[0]),n[1]=fa(r,n[1]),n[2]=fa(i,n[2]),n[3]=fa(s,n[3])}function Df(n,e,t,r,i,s){return e=fa(fa(e,n),fa(r,s)),fa(e<<i|e>>>32-i,t)}function Ir(n,e,t,r,i,s,o){return Df(e&t|~e&r,n,e,i,s,o)}function Ar(n,e,t,r,i,s,o){return Df(e&r|t&~r,n,e,i,s,o)}function Er(n,e,t,r,i,s,o){return Df(e^t^r,n,e,i,s,o)}function Tr(n,e,t,r,i,s,o){return Df(t^(e|~r),n,e,i,s,o)}function jI(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)U0(r,K6(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(U0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,U0(r,i),r}function K6(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var wI="0123456789abcdef".split("");function Y6(n){for(var e="",t=0;t<4;t++)e+=wI[n>>8*t+4&15]+wI[n>>8*t&15];return e}function J6(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function W0(n){return jI(n).map(J6).join("")}var X6=(function(n){for(var e=0;e<n.length;e++)n[e]=Y6(n[e]);return n.join("")})(jI("hello"))!="5d41402abc4b2a76b9719d911017c592";function fa(n,e){if(X6){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function H0(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var h=0;for(c=0;c<256;c++){var f=a[c];h=(h+f+o.charCodeAt(c))%256,a[c]=a[h],a[h]=f}t=n,r=a}else a=r;var v=e.length,y=0,g=0,C="";for(c=0;c<v;c++)g=(g+(f=a[y=(y+1)%256]))%256,a[y]=a[g],a[g]=f,o=a[(a[y]+a[g])%256],C+=String.fromCharCode(e.charCodeAt(c)^o);return C}var bI={print:4,modify:8,copy:16,"annot-forms":32};function mu(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(bI.perm!==void 0)throw new Error("Invalid permission: "+a);i+=bI[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=W0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=H0(this.encryptionKey,this.padding)}function _u(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function II(n){if(nn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){mt.console&&ln.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Cf(n){if(!(this instanceof Cf))return new Cf(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function qI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function dc(n,e,t,r,i){if(!(this instanceof dc))return new dc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,qI.call(this,r,i)}function vu(n,e,t,r,i){if(!(this instanceof vu))return new vu(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,qI.call(this,r,i)}function Ye(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,c=16,h="S",f=null;nn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=II;var C="1.3",L=g.__private__.getPdfVersion=function(){return C};g.__private__.setPdfVersion=function(p){C=p};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return R};var P=g.__private__.getPageFormat=function(p){return R[p]};i=i||"a4";var q="compat",j="advanced",z=q;function ee(){this.saveGraphicsState(),$(new Qe(vt,0,0,-vt,0,Vi()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),h="n",z=j}function oe(){this.restoreGraphicsState(),h="S",z=q}var U=g.__private__.combineFontStyleAndFontWeight=function(p,N){if(p=="bold"&&N=="normal"||p=="bold"&&N==400||p=="normal"&&N=="italic"||p=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(p=N==400||N==="normal"?p==="italic"?"italic":"normal":N!=700&&N!=="bold"||p!=="normal"?(N==700?"bold":N)+""+p:"bold"),p};g.advancedAPI=function(p){var N=z===q;return N&&ee.call(this),typeof p!="function"||(p(this),N&&oe.call(this)),this},g.compatAPI=function(p){var N=z===j;return N&&oe.call(this),typeof p!="function"||(p(this),N&&ee.call(this)),this},g.isAdvancedAPI=function(){return z===j};var T,A=function(p){if(z!==j)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=g.roundToPrecision=g.__private__.roundToPrecision=function(p,N){var W=e||N;if(isNaN(p)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(W).replace(/0+$/,"")};T=g.hpf=g.__private__.hpf=typeof c=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return F(p,c)}:c==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return F(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return F(p,16)};var b=g.f2=g.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return F(p,2)},E=g.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return F(p,3)},S=g.scale=g.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return z===q?p*vt:z===j?p:void 0},J=function(p){return S((function(N){return z===q?Vi()-N:z===j?N:void 0})(p))};g.__private__.setPrecision=g.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(e=parseInt(p,10))};var he,me="00000000000000000000000000000000",ge=g.__private__.getFileId=function(){return me},ce=g.__private__.setFileId=function(p){return me=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Cn=new mu(f.userPermissions,f.userPassword,f.ownerPassword,me)),me};g.setFileId=function(p){return ce(p),this},g.getFileId=function(){return ge()};var _e=g.__private__.convertDateToPDFDate=function(p){var N=p.getTimezoneOffset(),W=N<0?"+":"-",X=Math.floor(Math.abs(N/60)),ie=Math.abs(N%60),ye=[W,Y(X),"'",Y(ie),"'"].join("");return["D:",p.getFullYear(),Y(p.getMonth()+1),Y(p.getDate()),Y(p.getHours()),Y(p.getMinutes()),Y(p.getSeconds()),ye].join("")},Re=g.__private__.convertPDFDateToDate=function(p){var N=parseInt(p.substr(2,4),10),W=parseInt(p.substr(6,2),10)-1,X=parseInt(p.substr(8,2),10),ie=parseInt(p.substr(10,2),10),ye=parseInt(p.substr(12,2),10),Ee=parseInt(p.substr(14,2),10);return new Date(N,W,X,ie,ye,Ee,0)},Te=g.__private__.setCreationDate=function(p){var N;if(p===void 0&&(p=new Date),p instanceof Date)N=_e(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=p}return he=N},D=g.__private__.getCreationDate=function(p){var N=he;return p==="jsDate"&&(N=Re(he)),N};g.setCreationDate=function(p){return Te(p),this},g.getCreationDate=function(p){return D(p)};var K,Y=g.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},Q=g.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},re=0,ae=[],fe=[],pe=0,be=[],Pe=[],Fe=!1,Oe=fe;g.__private__.setCustomOutputDestination=function(p){Fe=!0,Oe=p};var Ke=function(p){Fe||(Oe=p)};g.__private__.resetCustomOutputDestination=function(){Fe=!1,Oe=fe};var $=g.__private__.out=function(p){return p=p.toString(),pe+=p.length+1,Oe.push(p),Oe},De=g.__private__.write=function(p){return $(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},It=g.__private__.getArrayBuffer=function(p){for(var N=p.length,W=new ArrayBuffer(N),X=new Uint8Array(W);N--;)X[N]=p.charCodeAt(N);return W},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return rt};var Ne=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(p){return Ne=z===j?p/vt:p,this};var tt,Ue=g.__private__.getFontSize=g.getFontSize=function(){return z===q?Ne:Ne*vt},Ze=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(p){return Ze=p,this},g.__private__.getR2L=g.getR2L=function(){return Ze};var Xe,Mt=g.__private__.setZoomMode=function(p){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))tt=p;else if(isNaN(p)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');tt=p}else tt=parseInt(p,10)};g.__private__.getZoomMode=function(){return tt};var Pt,pt=g.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');Xe=p};g.__private__.getPageMode=function(){return Xe};var at=g.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');Pt=p};g.__private__.getLayoutMode=function(){return Pt},g.__private__.setDisplayMode=g.setDisplayMode=function(p,N,W){return Mt(p),at(N),pt(W),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(p){if(Object.keys(ct).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[p]},g.__private__.getDocumentProperties=function(){return ct},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(p){for(var N in ct)ct.hasOwnProperty(N)&&p[N]&&(ct[N]=p[N]);return this},g.__private__.setDocumentProperty=function(p,N){if(Object.keys(ct).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[p]=N};var qe,vt,Ge,In,kt,Tt={},St={},Xt=[],et={},Qt={},it={},_t={},sn=null,yt=0,nt=[],Vt=new II(g),Sr=n.hotfixes||[],Gn={},Ur={},Jr=[],Qe=function p(N,W,X,ie,ye,Ee){if(!(this instanceof p))return new p(N,W,X,ie,ye,Ee);isNaN(N)&&(N=1),isNaN(W)&&(W=0),isNaN(X)&&(X=0),isNaN(ie)&&(ie=1),isNaN(ye)&&(ye=0),isNaN(Ee)&&(Ee=0),this._matrix=[N,W,X,ie,ye,Ee]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(p)},Qe.prototype.multiply=function(p){var N=p.sx*this.sx+p.shy*this.shx,W=p.sx*this.shy+p.shy*this.sy,X=p.shx*this.sx+p.sy*this.shx,ie=p.shx*this.shy+p.sy*this.sy,ye=p.tx*this.sx+p.ty*this.shx+this.tx,Ee=p.tx*this.shy+p.ty*this.sy+this.ty;return new Qe(N,W,X,ie,ye,Ee)},Qe.prototype.decompose=function(){var p=this.sx,N=this.shy,W=this.shx,X=this.sy,ie=this.tx,ye=this.ty,Ee=Math.sqrt(p*p+N*N),Be=(p/=Ee)*W+(N/=Ee)*X;W-=p*Be,X-=N*Be;var $e=Math.sqrt(W*W+X*X);return Be/=$e,p*(X/=$e)<N*(W/=$e)&&(p=-p,N=-N,Be=-Be,Ee=-Ee),{scale:new Qe(Ee,0,0,$e,0,0),translate:new Qe(1,0,0,1,ie,ye),rotate:new Qe(p,N,-N,p,0,0),skew:new Qe(1,0,Be,1,0,0)}},Qe.prototype.toString=function(p){return this.join(" ")},Qe.prototype.inversed=function(){var p=this.sx,N=this.shy,W=this.shx,X=this.sy,ie=this.tx,ye=this.ty,Ee=1/(p*X-N*W),Be=X*Ee,$e=-N*Ee,lt=-W*Ee,gt=p*Ee;return new Qe(Be,$e,lt,gt,-Be*ie-lt*ye,-$e*ie-gt*ye)},Qe.prototype.applyToPoint=function(p){var N=p.x*this.sx+p.y*this.shx+this.tx,W=p.x*this.shy+p.y*this.sy+this.ty;return new Fi(N,W)},Qe.prototype.applyToRectangle=function(p){var N=this.applyToPoint(p),W=this.applyToPoint(new Fi(p.x+p.w,p.y+p.h));return new Io(N.x,N.y,W.x-N.x,W.y-N.y)},Qe.prototype.clone=function(){var p=this.sx,N=this.shy,W=this.shx,X=this.sy,ie=this.tx,ye=this.ty;return new Qe(p,N,W,X,ie,ye)},g.Matrix=Qe;var vi=g.matrixMult=function(p,N){return N.multiply(p)},pn=new Qe(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=pn;var Nr=function(p,N){if(!Qt[p]){var W=(N instanceof dc?"Sh":"P")+(Object.keys(et).length+1).toString(10);N.id=W,Qt[p]=W,et[W]=N,Vt.publish("addPattern",N)}};g.ShadingPattern=dc,g.TilingPattern=vu,g.addShadingPattern=function(p,N){return A("addShadingPattern()"),Nr(p,N),this},g.beginTilingPattern=function(p){A("beginTilingPattern()"),Ao(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},g.endTilingPattern=function(p,N){A("endTilingPattern()"),N.stream=Pe[K].join(`
`),Nr(p,N),Vt.publish("endTilingPattern",N),Jr.pop().restore()};var Zn,Zt=g.__private__.newObject=function(){var p=Bn();return Kn(p,!0),p},Bn=g.__private__.newObjectDeferred=function(){return re++,ae[re]=function(){return pe},re},Kn=function(p,N){return N=typeof N=="boolean"&&N,ae[p]=pe,N&&$(p+" 0 obj"),p},Br=g.__private__.newAdditionalObject=function(){var p={objId:Bn(),content:""};return be.push(p),p},es=Bn(),Xr=Bn(),xr=g.__private__.decodeColorString=function(p){var N=p.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length!==5||N[4]!=="k"&&N[4]!=="K"||(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var W=parseFloat(N[0]);N=[W,W,W,"r"]}for(var X="#",ie=0;ie<3;ie++)X+=("0"+Math.floor(255*parseFloat(N[ie])).toString(16)).slice(-2);return X},jr=g.__private__.encodeColorString=function(p){var N;typeof p=="string"&&(p={ch1:p});var W=p.ch1,X=p.ch2,ie=p.ch3,ye=p.ch4,Ee=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Be=new BI(W);if(Be.ok)W=Be.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var $e=parseInt(W.substr(1),16);W=$e>>16&255,X=$e>>8&255,ie=255&$e}if(X===void 0||ye===void 0&&W===X&&X===ie)N=typeof W=="string"?W+" "+Ee[0]:p.precision===2?b(W/255)+" "+Ee[0]:E(W/255)+" "+Ee[0];else if(ye===void 0||nn(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return["1.","1.","1.",Ee[1]].join(" ");N=typeof W=="string"?[W,X,ie,Ee[1]].join(" "):p.precision===2?[b(W/255),b(X/255),b(ie/255),Ee[1]].join(" "):[E(W/255),E(X/255),E(ie/255),Ee[1]].join(" ")}else N=typeof W=="string"?[W,X,ie,ye,Ee[2]].join(" "):p.precision===2?[b(W),b(X),b(ie),b(ye),Ee[2]].join(" "):[E(W),E(X),E(ie),E(ye),Ee[2]].join(" ");return N},Pr=g.__private__.getFilters=function(){return o},ar=g.__private__.putStream=function(p){var N=(p=p||{}).data||"",W=p.filters||Pr(),X=p.alreadyAppliedFilters||[],ie=p.addLength1||!1,ye=N.length,Ee=p.objectId,Be=function(Nn){return Nn};if(f!==null&&Ee===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Be=Cn.encryptor(Ee,0));var $e={};W===!0&&(W=["FlateEncode"]);var lt=p.additionalKeyValues||[],gt=($e=Ye.API.processDataByFilters!==void 0?Ye.API.processDataByFilters(N,W):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(X)?X.join(" "):X.toString());if($e.data.length!==0&&(lt.push({key:"Length",value:$e.data.length}),ie===!0&&lt.push({key:"Length1",value:ye})),gt.length!=0)if(gt.split("/").length-1==1)lt.push({key:"Filter",value:gt});else{lt.push({key:"Filter",value:"["+gt+"]"});for(var Lt=0;Lt<lt.length;Lt+=1)if(lt[Lt].key==="DecodeParms"){for(var hn=[],tn=0;tn<$e.reverseChain.split("/").length-1;tn+=1)hn.push("null");hn.push(lt[Lt].value),lt[Lt].value="["+hn.join(" ")+"]"}}$("<<");for(var Kt=0;Kt<lt.length;Kt++)$("/"+lt[Kt].key+" "+lt[Kt].value);$(">>"),$e.data.length!==0&&($("stream"),$(Be($e.data)),$("endstream"))},gr=g.__private__.putPage=function(p){var N=p.number,W=p.data,X=p.objId,ie=p.contentsObjId;Kn(X,!0),$("<</Type /Page"),$("/Parent "+p.rootDictionaryObjId+" 0 R"),$("/Resources "+p.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(T(p.mediaBox.bottomLeftX))+" "+parseFloat(T(p.mediaBox.bottomLeftY))+" "+T(p.mediaBox.topRightX)+" "+T(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&$("/CropBox ["+T(p.cropBox.bottomLeftX)+" "+T(p.cropBox.bottomLeftY)+" "+T(p.cropBox.topRightX)+" "+T(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&$("/BleedBox ["+T(p.bleedBox.bottomLeftX)+" "+T(p.bleedBox.bottomLeftY)+" "+T(p.bleedBox.topRightX)+" "+T(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&$("/TrimBox ["+T(p.trimBox.bottomLeftX)+" "+T(p.trimBox.bottomLeftY)+" "+T(p.trimBox.topRightX)+" "+T(p.trimBox.topRightY)+"]"),p.artBox!==null&&$("/ArtBox ["+T(p.artBox.bottomLeftX)+" "+T(p.artBox.bottomLeftY)+" "+T(p.artBox.topRightX)+" "+T(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&$("/UserUnit "+p.userUnit),Vt.publish("putPage",{objId:X,pageContext:nt[N],pageNumber:N,page:W}),$("/Contents "+ie+" 0 R"),$(">>"),$("endobj");var ye=W.join(`
`);return z===j&&(ye+=`
Q`),Kn(ie,!0),ar({data:ye,filters:Pr(),objectId:ie}),$("endobj"),X},Qr=g.__private__.putPages=function(){var p,N,W=[];for(p=1;p<=yt;p++)nt[p].objId=Bn(),nt[p].contentsObjId=Bn();for(p=1;p<=yt;p++)W.push(gr({number:p,data:Pe[p],objId:nt[p].objId,contentsObjId:nt[p].contentsObjId,mediaBox:nt[p].mediaBox,cropBox:nt[p].cropBox,bleedBox:nt[p].bleedBox,trimBox:nt[p].trimBox,artBox:nt[p].artBox,userUnit:nt[p].userUnit,rootDictionaryObjId:es,resourceDictionaryObjId:Xr}));Kn(es,!0),$("<</Type /Pages");var X="/Kids [";for(N=0;N<yt;N++)X+=W[N]+" 0 R ";$(X+"]"),$("/Count "+yt),$(">>"),$("endobj"),Vt.publish("postPutPages")},ts=function(p){Vt.publish("putFont",{font:p,out:$,newObject:Zt,putStream:ar}),p.isAlreadyPutted!==!0&&(p.objectNumber=Zt(),$("<<"),$("/Type /Font"),$("/BaseFont /"+_u(p.postScriptName)),$("/Subtype /Type1"),typeof p.encoding=="string"&&$("/Encoding /"+p.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},ns=function(p){p.objectNumber=Zt();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[T(p.x),T(p.y),T(p.x+p.width),T(p.y+p.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var W=p.pages[1].join(`
`);ar({data:W,additionalKeyValues:N,objectId:p.objectNumber}),$("endobj")},rs=function(p,N){N||(N=21);var W=Zt(),X=(function(Ee,Be){var $e,lt=[],gt=1/(Be-1);for($e=0;$e<1;$e+=gt)lt.push($e);if(lt.push(1),Ee[0].offset!=0){var Lt={offset:0,color:Ee[0].color};Ee.unshift(Lt)}if(Ee[Ee.length-1].offset!=1){var hn={offset:1,color:Ee[Ee.length-1].color};Ee.push(hn)}for(var tn="",Kt=0,Nn=0;Nn<lt.length;Nn++){for($e=lt[Nn];$e>Ee[Kt+1].offset;)Kt++;var En=Ee[Kt].offset,jn=($e-En)/(Ee[Kt+1].offset-En),$r=Ee[Kt].color,gn=Ee[Kt+1].color;tn+=Q(Math.round((1-jn)*$r[0]+jn*gn[0]).toString(16))+Q(Math.round((1-jn)*$r[1]+jn*gn[1]).toString(16))+Q(Math.round((1-jn)*$r[2]+jn*gn[2]).toString(16))}return tn.trim()})(p.colors,N),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+N+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ar({data:X,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),$("endobj"),p.objectNumber=Zt(),$("<< /ShadingType "+p.type),$("/ColorSpace /DeviceRGB");var ye="/Coords ["+T(parseFloat(p.coords[0]))+" "+T(parseFloat(p.coords[1]))+" ";p.type===2?ye+=T(parseFloat(p.coords[2]))+" "+T(parseFloat(p.coords[3])):ye+=T(parseFloat(p.coords[2]))+" "+T(parseFloat(p.coords[3]))+" "+T(parseFloat(p.coords[4]))+" "+T(parseFloat(p.coords[5])),$(ye+="]"),p.matrix&&$("/Matrix ["+p.matrix.toString()+"]"),$("/Function "+W+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},Ls=function(p,N){var W=Bn(),X=Zt();N.push({resourcesOid:W,objectOid:X}),p.objectNumber=X;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+p.boundingBox.map(T).join(" ")+"]"}),ie.push({key:"XStep",value:T(p.xStep)}),ie.push({key:"YStep",value:T(p.yStep)}),ie.push({key:"Resources",value:W+" 0 R"}),p.matrix&&ie.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),ar({data:p.stream,additionalKeyValues:ie,objectId:p.objectNumber}),$("endobj")},_c=function(p){for(var N in p.objectNumber=Zt(),$("<<"),p)switch(N){case"opacity":$("/ca "+b(p[N]));break;case"stroke-opacity":$("/CA "+b(p[N]))}$(">>"),$("endobj")},ga=function(p){Kn(p.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var N in $("/Font <<"),Tt)Tt.hasOwnProperty(N)&&(v===!1||v===!0&&y.hasOwnProperty(N))&&$("/"+N+" "+Tt[N].objectNumber+" 0 R");$(">>")})(),(function(){if(Object.keys(et).length>0){for(var N in $("/Shading <<"),et)et.hasOwnProperty(N)&&et[N]instanceof dc&&et[N].objectNumber>=0&&$("/"+N+" "+et[N].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),$(">>")}})(),(function(N){if(Object.keys(et).length>0){for(var W in $("/Pattern <<"),et)et.hasOwnProperty(W)&&et[W]instanceof g.TilingPattern&&et[W].objectNumber>=0&&et[W].objectNumber<N&&$("/"+W+" "+et[W].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),$(">>")}})(p.objectOid),(function(){if(Object.keys(it).length>0){var N;for(N in $("/ExtGState <<"),it)it.hasOwnProperty(N)&&it[N].objectNumber>=0&&$("/"+N+" "+it[N].objectNumber+" 0 R");Vt.publish("putGStateDict"),$(">>")}})(),(function(){for(var N in $("/XObject <<"),Gn)Gn.hasOwnProperty(N)&&Gn[N].objectNumber>=0&&$("/"+N+" "+Gn[N].objectNumber+" 0 R");Vt.publish("putXobjectDict"),$(">>")})(),$(">>"),$("endobj")},Ds=function(p){St[p.fontName]=St[p.fontName]||{},St[p.fontName][p.fontStyle]=p.id},ma=function(p,N,W,X,ie){var ye={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:p,fontName:N,fontStyle:W,encoding:X,isStandardFont:ie||!1,metadata:{}};return Vt.publish("addFont",{font:ye,instance:this}),Tt[ye.id]=ye,Ds(ye),ye.id},mr=g.__private__.pdfEscape=g.pdfEscape=function(p,N){return(function(W,X){var ie,ye,Ee,Be,$e,lt,gt,Lt,hn;if(Ee=(X=X||{}).sourceEncoding||"Unicode",$e=X.outputEncoding,(X.autoencode||$e)&&Tt[qe].metadata&&Tt[qe].metadata[Ee]&&Tt[qe].metadata[Ee].encoding&&(Be=Tt[qe].metadata[Ee].encoding,!$e&&Tt[qe].encoding&&($e=Tt[qe].encoding),!$e&&Be.codePages&&($e=Be.codePages[0]),typeof $e=="string"&&($e=Be[$e]),$e)){for(gt=!1,lt=[],ie=0,ye=W.length;ie<ye;ie++)(Lt=$e[W.charCodeAt(ie)])?lt.push(String.fromCharCode(Lt)):lt.push(W[ie]),lt[ie].charCodeAt(0)>>8&&(gt=!0);W=lt.join("")}for(ie=W.length;gt===void 0&&ie!==0;)W.charCodeAt(ie-1)>>8&&(gt=!0),ie--;if(!gt)return W;for(lt=X.noBOM?[]:[254,255],ie=0,ye=W.length;ie<ye;ie++){if((hn=(Lt=W.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lt.push(hn),lt.push(Lt-(hn<<8))}return String.fromCharCode.apply(void 0,lt)})(p,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Di=g.__private__.beginPage=function(p){Pe[++yt]=[],nt[yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},vc(yt),Ke(Pe[K])},yi=function(p,N){var W,X,ie;switch(t=N||t,typeof p=="string"&&(W=P(p.toLowerCase()),Array.isArray(W)&&(X=W[0],ie=W[1])),Array.isArray(p)&&(X=p[0]*vt,ie=p[1]*vt),isNaN(X)&&(X=i[0],ie=i[1]),(X>14400||ie>14400)&&(ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),X=Math.min(14400,X),ie=Math.min(14400,ie)),i=[X,ie],t.substr(0,1)){case"l":ie>X&&(i=[ie,X]);break;case"p":X>ie&&(i=[ie,X])}Di(i),dt(bo),$(Ii),Us!==0&&$(Us+" J"),en!==0&&$(en+" j"),Vt.publish("addPage",{pageNumber:yt})},Os=function(p){p>0&&p<=yt&&(Pe.splice(p,1),nt.splice(p,1),yt--,K>yt&&(K=yt),this.setPage(K))},vc=function(p){p>0&&p<=yt&&(K=p)},_a=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Pe.length-1},va=function(p,N,W){var X,ie=void 0;return W=W||{},p=p!==void 0?p:Tt[qe].fontName,N=N!==void 0?N:Tt[qe].fontStyle,X=p.toLowerCase(),St[X]!==void 0&&St[X][N]!==void 0?ie=St[X][N]:St[p]!==void 0&&St[p][N]!==void 0?ie=St[p][N]:W.disableWarning===!1&&ln.warn("Unable to look up font label for font '"+p+"', '"+N+"'. Refer to getFontList() for available fonts."),ie||W.noFallback||(ie=St.times[N])==null&&(ie=St.times.normal),ie},Zr=g.__private__.putInfo=function(){var p=Zt(),N=function(X){return X};for(var W in f!==null&&(N=Cn.encryptor(p,0)),$("<<"),$("/Producer ("+mr(N("jsPDF "+Ye.version))+")"),ct)ct.hasOwnProperty(W)&&ct[W]&&$("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+mr(N(ct[W]))+")");$("/CreationDate ("+mr(N(he))+")"),$(">>"),$("endobj")},is=g.__private__.putCatalog=function(p){var N=(p=p||{}).rootDictionaryObjId||es;switch(Zt(),$("<<"),$("/Type /Catalog"),$("/Pages "+N+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+tt;W.substr(W.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&$("/OpenAction [3 0 R /XYZ null null "+b(tt)+"]")}switch(Pt||(Pt="continuous"),Pt){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}Xe&&$("/PageMode /"+Xe),Vt.publish("putCatalog"),$(">>"),$("endobj")},ya=g.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(re+1)),$("/Root "+re+" 0 R"),$("/Info "+(re-1)+" 0 R"),f!==null&&$("/Encrypt "+Cn.oid+" 0 R"),$("/ID [ <"+me+"> <"+me+"> ]"),$(">>")},An=g.__private__.putHeader=function(){$("%PDF-"+C),$("%\xBA\xDF\xAC\xE0")},wa=g.__private__.putXRef=function(){var p="0000000000";$("xref"),$("0 "+(re+1)),$("0000000000 65535 f ");for(var N=1;N<=re;N++)typeof ae[N]=="function"?$((p+ae[N]()).slice(-10)+" 00000 n "):ae[N]!==void 0?$((p+ae[N]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},wi=g.__private__.buildDocument=function(){var p;re=0,pe=0,fe=[],ae=[],be=[],es=Bn(),Xr=Bn(),Ke(fe),Vt.publish("buildDocument"),An(),Qr(),(function(){Vt.publish("putAdditionalObjects");for(var W=0;W<be.length;W++){var X=be[W];Kn(X.objId,!0),$(X.content),$("endobj")}Vt.publish("postPutAdditionalObjects")})(),p=[],(function(){for(var W in Tt)Tt.hasOwnProperty(W)&&(v===!1||v===!0&&y.hasOwnProperty(W))&&ts(Tt[W])})(),(function(){var W;for(W in it)it.hasOwnProperty(W)&&_c(it[W])})(),(function(){for(var W in Gn)Gn.hasOwnProperty(W)&&ns(Gn[W])})(),(function(W){var X;for(X in et)et.hasOwnProperty(X)&&(et[X]instanceof dc?rs(et[X]):et[X]instanceof vu&&Ls(et[X],W))})(p),Vt.publish("putResources"),p.forEach(ga),ga({resourcesOid:Xr,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources"),f!==null&&(Cn.oid=Zt(),$("<<"),$("/Filter /Standard"),$("/V "+Cn.v),$("/R "+Cn.r),$("/U <"+Cn.toHexString(Cn.U)+">"),$("/O <"+Cn.toHexString(Cn.O)+">"),$("/P "+Cn.P),$(">>"),$("endobj")),Zr(),is();var N=pe;return wa(),ya(),$("startxref"),$(""+N),$("%%EOF"),Ke(Pe[K]),fe.join(`
`)},vo=g.__private__.getBlob=function(p){return new Blob([It(p)],{type:"application/pdf"})},ba=g.output=g.__private__.output=(Zn=function(p,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",p){case void 0:return wi();case"save":g.save(N.filename);break;case"arraybuffer":return It(wi());case"blob":return vo(wi());case"bloburi":case"bloburl":if(mt.URL!==void 0&&typeof mt.URL.createObjectURL=="function")return mt.URL&&mt.URL.createObjectURL(vo(wi()))||void 0;ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",X=wi();try{W=yI(X)}catch{W=yI(unescape(encodeURIComponent(X)))}return"data:application/pdf;filename="+N.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(ie=N.pdfObjectUrl,ye="");var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",Be=mt.open();return Be!==null&&Be.document.write(Ee),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',lt=mt.open();if(lt!==null){lt.document.write($e);var gt=this;lt.document.documentElement.querySelector("#pdfViewer").onload=function(){lt.document.title=N.filename,lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',hn=mt.open();if(hn!==null&&(hn.document.write(Lt),hn.document.title=N.filename),hn||typeof safari>"u")return hn;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",N);default:return null}},Zn.foo=function(){try{return Zn.apply(this,arguments)}catch(W){var p=W.stack||"";~p.indexOf(" at ")&&(p=p.split(" at ")[1]);var N="Error in function "+p.split(`
`)[0].split("<")[0]+": "+W.message;if(!mt.console)throw new Error(N);mt.console.error(N,W),mt.alert&&alert(N)}},Zn.foo.bar=Zn,Zn.foo),kr=function(p){return Array.isArray(Sr)===!0&&Sr.indexOf(p)>-1};switch(r){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=kr("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);vt=r}var Cn=null;Te(),ce();var cr=g.__private__.getPageInfo=g.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[p].objId,pageNumber:p,pageContext:nt[p]}},qr=g.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in nt)if(nt[N].objId===p)break;return cr(N)},yo=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:nt[K].objId,pageNumber:K,pageContext:nt[K]}};g.addPage=function(){return yi.apply(this,arguments),this},g.setPage=function(){return vc.apply(this,arguments),Ke.call(this,Pe[K]),this},g.insertPage=function(p){return this.addPage(),this.movePage(K,p),this},g.movePage=function(p,N){var W,X;if(p>N){W=Pe[p],X=nt[p];for(var ie=p;ie>N;ie--)Pe[ie]=Pe[ie-1],nt[ie]=nt[ie-1];Pe[N]=W,nt[N]=X,this.setPage(N)}else if(p<N){W=Pe[p],X=nt[p];for(var ye=p;ye<N;ye++)Pe[ye]=Pe[ye+1],nt[ye]=nt[ye+1];Pe[N]=W,nt[N]=X,this.setPage(N)}return this},g.deletePage=function(){return Os.apply(this,arguments),this},g.__private__.text=g.text=function(p,N,W,X,ie){var ye,Ee,Be,$e,lt,gt,Lt,hn,tn,Kt=(X=X||{}).scope||this;if(typeof p=="number"&&typeof N=="number"&&(typeof W=="string"||Array.isArray(W))){var Nn=W;W=N,N=p,p=Nn}if(arguments[3]instanceof Qe==0?(Be=arguments[4],$e=arguments[5],nn(Lt=arguments[3])==="object"&&Lt!==null||(typeof Be=="string"&&($e=Be,Be=null),typeof Lt=="string"&&($e=Lt,Lt=null),typeof Lt=="number"&&(Be=Lt,Lt=null),X={flags:Lt,angle:Be,align:$e})):(A("The transform parameter of text() with a Matrix value"),tn=ie),isNaN(N)||isNaN(W)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return Kt;var En,jn="",$r=typeof X.lineHeightFactor=="number"?X.lineHeightFactor:_r,gn=Kt.internal.scaleFactor;function Ei(Ht){return Ht=Ht.split("	").join(Array(X.TabLen||9).join(" ")),mr(Ht,Lt)}function To(Ht){for(var on,Dn=Ht.concat(),Yn=[],$s=Dn.length;$s--;)typeof(on=Dn.shift())=="string"?Yn.push(on):Array.isArray(Ht)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?Yn.push(on[0]):Yn.push([on[0],on[1],on[2]]);return Yn}function ri(Ht,on){var Dn;if(typeof Ht=="string")Dn=on(Ht)[0];else if(Array.isArray(Ht)){for(var Yn,$s,Fu=Ht.concat(),Tc=[],th=Fu.length;th--;)typeof(Yn=Fu.shift())=="string"?Tc.push(on(Yn)[0]):Array.isArray(Yn)&&typeof Yn[0]=="string"&&($s=on(Yn[0],Yn[1],Yn[2]),Tc.push([$s[0],$s[1],$s[2]]));Dn=Tc}return Dn}var l=!1,_=!0;if(typeof p=="string")l=!0;else if(Array.isArray(p)){var I=p.concat();Ee=[];for(var M,ne=I.length;ne--;)(typeof(M=I.shift())!="string"||Array.isArray(M)&&typeof M[0]!="string")&&(_=!1);l=_}if(l===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var de=Ne/Kt.internal.scaleFactor,Ce=de*($r-1);switch(X.baseline){case"bottom":W-=Ce;break;case"top":W+=de-Ce;break;case"hanging":W+=de-2*Ce;break;case"middle":W+=de/2-Ce}if((gt=X.maxWidth||0)>0&&(typeof p=="string"?p=Kt.splitTextToSize(p,gt):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(Ht,on){return Ht.concat(Kt.splitTextToSize(on,gt))},[]))),ye={text:p,x:N,y:W,options:X,mutex:{pdfEscape:mr,activeFontKey:qe,fonts:Tt,activeFontSize:Ne}},Vt.publish("preProcessText",ye),p=ye.text,Be=(X=ye.options).angle,tn instanceof Qe==0&&Be&&typeof Be=="number"){Be*=Math.PI/180,X.rotationDirection===0&&(Be=-Be),z===j&&(Be=-Be);var jt=Math.cos(Be),Tn=Math.sin(Be);tn=new Qe(jt,Tn,-Tn,jt,0,0)}else Be&&Be instanceof Qe&&(tn=Be);z!==j||tn||(tn=pn),(lt=X.charSpace||Rr)!==void 0&&(jn+=T(S(lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hn=X.horizontalScale)!==void 0&&(jn+=T(100*hn)+` Tz
`),X.lang;var ft=-1,dn=X.renderingMode!==void 0?X.renderingMode:X.stroke,Sn=Kt.internal.getCurrentPageInfo().pageContext;switch(dn){case 0:case!1:case"fill":ft=0;break;case 1:case!0:case"stroke":ft=1;break;case 2:case"fillThenStroke":ft=2;break;case 3:case"invisible":ft=3;break;case 4:case"fillAndAddForClipping":ft=4;break;case 5:case"strokeAndAddPathForClipping":ft=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ft=6;break;case 7:case"addToPathForClipping":ft=7}var Ui=Sn.usedRenderingMode!==void 0?Sn.usedRenderingMode:-1;ft!==-1?jn+=ft+` Tr
`:Ui!==-1&&(jn+=`0 Tr
`),ft!==-1&&(Sn.usedRenderingMode=ft),$e=X.align||"left";var _n,Ti=Ne*$r,qs=Kt.internal.pageSize.getWidth(),ku=Tt[qe];lt=X.charSpace||Rr,gt=X.maxWidth||0,Lt=Object.assign({autoencode:!0,noBOM:!0},X.flags);var So=[],Ta=function(Ht){return Kt.getStringUnitWidth(Ht,{font:ku,charSpace:lt,fontSize:Ne,doKerning:!1})*Ne/gn};if(Object.prototype.toString.call(p)==="[object Array]"){var ii;Ee=To(p),$e!=="left"&&(_n=Ee.map(Ta));var si,No=0;if($e==="right"){N-=_n[0],p=[],ne=Ee.length;for(var zs=0;zs<ne;zs++)zs===0?(si=Oi(N),ii=er(W)):(si=S(No-_n[zs]),ii=-Ti),p.push([Ee[zs],si,ii]),No=_n[zs]}else if($e==="center"){N-=_n[0]/2,p=[],ne=Ee.length;for(var xo=0;xo<ne;xo++)xo===0?(si=Oi(N),ii=er(W)):(si=S((No-_n[xo])/2),ii=-Ti),p.push([Ee[xo],si,ii]),No=_n[xo]}else if($e==="left"){p=[],ne=Ee.length;for(var Ru=0;Ru<ne;Ru++)p.push(Ee[Ru])}else if($e==="justify"&&ku.encoding==="Identity-H"){p=[],ne=Ee.length,gt=gt!==0?gt:qs;for(var Ec=0,Ln=0;Ln<ne;Ln++)if(ii=Ln===0?er(W):-Ti,si=Ln===0?Oi(N):Ec,Ln<ne-1){var eh=S((gt-_n[Ln])/(Ee[Ln].split(" ").length-1)),cs=Ee[Ln].split(" ");p.push([cs[0]+" ",si,ii]),Ec=0;for(var us=1;us<cs.length;us++){var Cu=(Ta(cs[us-1]+" "+cs[us])-Ta(cs[us]))*gn+eh;us==cs.length-1?p.push([cs[us],Cu,0]):p.push([cs[us]+" ",Cu,0]),Ec-=Cu}}else p.push([Ee[Ln],si,ii]);p.push(["",Ec,0])}else{if($e!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],ne=Ee.length,gt=gt!==0?gt:qs,Ln=0;Ln<ne;Ln++){ii=Ln===0?er(W):-Ti,si=Ln===0?Oi(N):0;var Lu=Ee[Ln].split(" ").length-1,Du=Lu>0?(gt-_n[Ln])/Lu:0;Ln<ne-1?So.push(T(S(Du))):So.push(0),p.push([Ee[Ln],si,ii])}}}(typeof X.R2L=="boolean"?X.R2L:Ze)===!0&&(p=ri(p,function(Ht,on,Dn){return[Ht.split("").reverse().join(""),on,Dn]})),ye={text:p,x:N,y:W,options:X,mutex:{pdfEscape:mr,activeFontKey:qe,fonts:Tt,activeFontSize:Ne}},Vt.publish("postProcessText",ye),p=ye.text,En=ye.mutex.isHex||!1;var Ou=Tt[qe].encoding;Ou!=="WinAnsiEncoding"&&Ou!=="StandardEncoding"||(p=ri(p,function(Ht,on,Dn){return[Ei(Ht),on,Dn]})),Ee=To(p),p=[];for(var Po,ko,Ro,Sa=Array.isArray(Ee[0])?1:0,Co="",Na=function(Ht,on,Dn){var Yn="";return Dn instanceof Qe?(Dn=typeof X.angle=="number"?vi(Dn,new Qe(1,0,0,1,Ht,on)):vi(new Qe(1,0,0,1,Ht,on),Dn),z===j&&(Dn=vi(new Qe(1,0,0,-1,0,0),Dn)),Yn=Dn.join(" ")+` Tm
`):Yn=T(Ht)+" "+T(on)+` Td
`,Yn},Si=0;Si<Ee.length;Si++){switch(Co="",Sa){case 1:Ro=(En?"<":"(")+Ee[Si][0]+(En?">":")"),Po=parseFloat(Ee[Si][1]),ko=parseFloat(Ee[Si][2]);break;case 0:Ro=(En?"<":"(")+Ee[Si]+(En?">":")"),Po=Oi(N),ko=er(W)}So!==void 0&&So[Si]!==void 0&&(Co=So[Si]+` Tw
`),Si===0?p.push(Co+Na(Po,ko,tn)+Ro):Sa===0?p.push(Co+Ro):Sa===1&&p.push(Co+Na(Po,ko,tn)+Ro)}p=Sa===0?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var ls=`BT
/`;return ls+=qe+" "+Ne+` Tf
`,ls+=T(Ne*$r)+` TL
`,ls+=as+`
`,ls+=jn,ls+=p,$(ls+="ET"),y[qe]=!0,Kt};var wo=g.__private__.clip=g.clip=function(p){return $(p==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return wo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return $("n"),this};var ei=g.__private__.isValidStyle=function(p){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(N=!0),N};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(p){return ei(p)&&(h=p),this};var Wt=g.__private__.getStyle=g.getStyle=function(p){var N=h;switch(p){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=p}return N},Fs=g.close=function(){return $("h"),this};g.stroke=function(){return $("S"),this},g.fill=function(p){return bi("f",p),this},g.fillEvenOdd=function(p){return bi("f*",p),this},g.fillStroke=function(p){return bi("B",p),this},g.fillStrokeEvenOdd=function(p){return bi("B*",p),this};var bi=function(p,N){nn(N)==="object"?yc(N,p):$(p)},ti=function(p){p===null||z===j&&p===void 0||(p=Wt(p),$(p))};function Eu(p,N,W,X,ie){var ye=new vu(N||this.boundingBox,W||this.xStep,X||this.yStep,this.gState,ie||this.matrix);ye.stream=this.stream;var Ee=p+"$$"+this.cloneIndex+++"$$";return Nr(Ee,ye),ye}var yc=function(p,N){var W=Qt[p.key],X=et[W];if(X instanceof dc)$("q"),$(Tu(N)),X.gState&&g.setGState(X.gState),$(p.matrix.toString()+" cm"),$("/"+W+" sh"),$("Q");else if(X instanceof vu){var ie=new Qe(1,0,0,-1,0,Vi());p.matrix&&(ie=ie.multiply(p.matrix||pn),W=Eu.call(X,p.key,p.boundingBox,p.xStep,p.yStep,ie).id),$("q"),$("/Pattern cs"),$("/"+W+" scn"),X.gState&&g.setGState(X.gState),$(N),$("Q")}},Tu=function(p){switch(p){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ia=g.moveTo=function(p,N){return $(T(S(p))+" "+T(J(N))+" m"),this},wc=g.lineTo=function(p,N){return $(T(S(p))+" "+T(J(N))+" l"),this},ni=g.curveTo=function(p,N,W,X,ie,ye){return $([T(S(p)),T(J(N)),T(S(W)),T(J(X)),T(S(ie)),T(J(ye)),"c"].join(" ")),this};g.__private__.line=g.line=function(p,N,W,X,ie){if(isNaN(p)||isNaN(N)||isNaN(W)||isNaN(X)||!ei(ie))throw new Error("Invalid arguments passed to jsPDF.line");return z===q?this.lines([[W-p,X-N]],p,N,[1,1],ie||"S"):this.lines([[W-p,X-N]],p,N,[1,1]).stroke()},g.__private__.lines=g.lines=function(p,N,W,X,ie,ye){var Ee,Be,$e,lt,gt,Lt,hn,tn,Kt,Nn,En,jn;if(typeof p=="number"&&(jn=W,W=N,N=p,p=jn),X=X||[1,1],ye=ye||!1,isNaN(N)||isNaN(W)||!Array.isArray(p)||!Array.isArray(X)||!ei(ie)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ia(N,W),Ee=X[0],Be=X[1],lt=p.length,Nn=N,En=W,$e=0;$e<lt;$e++)(gt=p[$e]).length===2?(Nn=gt[0]*Ee+Nn,En=gt[1]*Be+En,wc(Nn,En)):(Lt=gt[0]*Ee+Nn,hn=gt[1]*Be+En,tn=gt[2]*Ee+Nn,Kt=gt[3]*Be+En,Nn=gt[4]*Ee+Nn,En=gt[5]*Be+En,ni(Lt,hn,tn,Kt,Nn,En));return ye&&Fs(),ti(ie),this},g.path=function(p){for(var N=0;N<p.length;N++){var W=p[N],X=W.c;switch(W.op){case"m":Ia(X[0],X[1]);break;case"l":wc(X[0],X[1]);break;case"c":ni.apply(this,X);break;case"h":Fs()}}return this},g.__private__.rect=g.rect=function(p,N,W,X,ie){if(isNaN(p)||isNaN(N)||isNaN(W)||isNaN(X)||!ei(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return z===q&&(X=-X),$([T(S(p)),T(J(N)),T(S(W)),T(S(X)),"re"].join(" ")),ti(ie),this},g.__private__.triangle=g.triangle=function(p,N,W,X,ie,ye,Ee){if(isNaN(p)||isNaN(N)||isNaN(W)||isNaN(X)||isNaN(ie)||isNaN(ye)||!ei(Ee))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-p,X-N],[ie-W,ye-X],[p-ie,N-ye]],p,N,[1,1],Ee,!0),this},g.__private__.roundedRect=g.roundedRect=function(p,N,W,X,ie,ye,Ee){if(isNaN(p)||isNaN(N)||isNaN(W)||isNaN(X)||isNaN(ie)||isNaN(ye)||!ei(Ee))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*W),ye=Math.min(ye,.5*X),this.lines([[W-2*ie,0],[ie*Be,0,ie,ye-ye*Be,ie,ye],[0,X-2*ye],[0,ye*Be,-ie*Be,ye,-ie,ye],[2*ie-W,0],[-ie*Be,0,-ie,-ye*Be,-ie,-ye],[0,2*ye-X],[0,-ye*Be,ie*Be,-ye,ie,-ye]],p+ie,N,[1,1],Ee,!0),this},g.__private__.ellipse=g.ellipse=function(p,N,W,X,ie){if(isNaN(p)||isNaN(N)||isNaN(W)||isNaN(X)||!ei(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*W,Ee=4/3*(Math.SQRT2-1)*X;return Ia(p+W,N),ni(p+W,N-Ee,p+ye,N-X,p,N-X),ni(p-ye,N-X,p-W,N-Ee,p-W,N),ni(p-W,N+Ee,p-ye,N+X,p,N+X),ni(p+ye,N+X,p+W,N+Ee,p+W,N),ti(ie),this},g.__private__.circle=g.circle=function(p,N,W,X){if(isNaN(p)||isNaN(N)||isNaN(W)||!ei(X))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,N,W,W,X)},g.setFont=function(p,N,W){return W&&(N=U(N,W)),qe=va(p,N,{disableWarning:!1}),this};var Ms=g.__private__.getFont=g.getFont=function(){return Tt[va.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var p,N,W={};for(p in St)if(St.hasOwnProperty(p))for(N in W[p]=[],St[p])St[p].hasOwnProperty(N)&&W[p].push(N);return W},g.addFont=function(p,N,W,X,ie){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(W=U(W,X)),ma.call(this,p,N,W,ie=ie||"Identity-H")};var _r,bo=n.lineWidth||.200025,bc=g.__private__.getLineWidth=g.getLineWidth=function(){return bo},dt=g.__private__.setLineWidth=g.setLineWidth=function(p){return bo=p,$(T(S(p))+" w"),this};g.__private__.setLineDash=Ye.API.setLineDash=Ye.API.setLineDashPattern=function(p,N){if(p=p||[],N=N||0,isNaN(N)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(W){return T(S(W))}).join(" "),N=T(S(N)),$("["+p+"] "+N+" d"),this};var ss=g.__private__.getLineHeight=g.getLineHeight=function(){return Ne*_r};g.__private__.getLineHeight=g.getLineHeight=function(){return Ne*_r};var Su=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(_r=p),this},Nu=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return _r};Su(n.lineHeight);var Oi=g.__private__.getHorizontalCoordinate=function(p){return S(p)},er=g.__private__.getVerticalCoordinate=function(p){return z===j?p:nt[K].mediaBox.topRightY-nt[K].mediaBox.bottomLeftY-S(p)},xu=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(p){return T(Oi(p))},Pu=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(p){return T(er(p))},Ii=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return xr(Ii)},g.__private__.setStrokeColor=g.setDrawColor=function(p,N,W,X){return Ii=jr({ch1:p,ch2:N,ch3:W,ch4:X,pdfColorType:"draw",precision:2}),$(Ii),this};var os=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return xr(os)},g.__private__.setFillColor=g.setFillColor=function(p,N,W,X){return os=jr({ch1:p,ch2:N,ch3:W,ch4:X,pdfColorType:"fill",precision:2}),$(os),this};var as=n.textColor||"0 g",Vs=g.__private__.getTextColor=g.getTextColor=function(){return xr(as)};g.__private__.setTextColor=g.setTextColor=function(p,N,W,X){return as=jr({ch1:p,ch2:N,ch3:W,ch4:X,pdfColorType:"text",precision:3}),this};var Rr=n.charSpace,Ic=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Rr||0)};g.__private__.setCharSpace=g.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rr=p,this};var Us=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(p){var N=g.CapJoinStyles[p];if(N===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Us=N,$(N+" J"),this};var en=0;g.__private__.setLineJoin=g.setLineJoin=function(p){var N=g.CapJoinStyles[p];if(N===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=N,$(N+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(T(S(p))+" M"),this},g.GState=Cf,g.setGState=function(p){(p=typeof p=="string"?it[_t[p]]:Ac(null,p)).equals(sn)||($("/"+p.id+" gs"),sn=p)};var Ac=function(p,N){if(!p||!_t[p]){var W=!1;for(var X in it)if(it.hasOwnProperty(X)&&it[X].equals(N)){W=!0;break}if(W)N=it[X];else{var ie="GS"+(Object.keys(it).length+1).toString(10);it[ie]=N,N.id=ie}return p&&(_t[p]=N.id),Vt.publish("addGState",N),N}};g.addGState=function(p,N){return Ac(p,N),this},g.saveGraphicsState=function(){return $("q"),Xt.push({key:qe,size:Ne,color:as}),this},g.restoreGraphicsState=function(){$("Q");var p=Xt.pop();return qe=p.key,Ne=p.size,as=p.color,sn=null,this},g.setCurrentTransformationMatrix=function(p){return $(p.toString()+" cm"),this},g.comment=function(p){return $("#"+p),this};var Fi=function(p,N){var W=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(ye){isNaN(ye)||(W=parseFloat(ye))}});var X=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return X},set:function(ye){isNaN(ye)||(X=parseFloat(ye))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(ye){ie=ye.toString()}}),this},Io=function(p,N,W,X){Fi.call(this,p,N),this.type="rect";var ie=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(Ee){isNaN(Ee)||(ie=parseFloat(Ee))}});var ye=X||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(Ee){isNaN(Ee)||(ye=parseFloat(Ee))}}),this},Bs=function(){this.page=yt,this.currentPage=K,this.pages=Pe.slice(0),this.pagesContext=nt.slice(0),this.x=Ge,this.y=In,this.matrix=kt,this.width=Eo(K),this.height=Aa(K),this.outputDestination=Oe,this.id="",this.objectNumber=-1};Bs.prototype.restore=function(){yt=this.page,K=this.currentPage,nt=this.pagesContext,Pe=this.pages,Ge=this.x,In=this.y,kt=this.matrix,zr(K,this.width),Mi(K,this.height),Oe=this.outputDestination};var Ao=function(p,N,W,X,ie){Jr.push(new Bs),yt=K=0,Pe=[],Ge=p,In=N,kt=ie,Di([W,X])};for(var Ai in g.beginFormObject=function(p,N,W,X,ie){return Ao(p,N,W,X,ie),this},g.endFormObject=function(p){return(function(N){if(Ur[N])Jr.pop().restore();else{var W=new Bs,X="Xo"+(Object.keys(Gn).length+1).toString(10);W.id=X,Ur[N]=X,Gn[X]=W,Vt.publish("addFormObject",W),Jr.pop().restore()}})(p),this},g.doFormObject=function(p,N){var W=Gn[Ur[p]];return $("q"),$(N.toString()+" cm"),$("/"+W.id+" Do"),$("Q"),this},g.getFormObject=function(p){var N=Gn[Ur[p]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},g.save=function(p,N){return p=p||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(hc(vo(wi()),p),typeof hc.unload=="function"&&mt.setTimeout&&setTimeout(hc.unload,911),this):new Promise(function(W,X){try{var ie=hc(vo(wi()),p);typeof hc.unload=="function"&&mt.setTimeout&&setTimeout(hc.unload,911),W(ie)}catch(ye){X(ye.message)}})},Ye.API)Ye.API.hasOwnProperty(Ai)&&(Ai==="events"&&Ye.API.events.length?(function(p,N){var W,X,ie;for(ie=N.length-1;ie!==-1;ie--)W=N[ie][0],X=N[ie][1],p.subscribe.apply(p,[W].concat(typeof X=="function"?[X]:X))})(Vt,Ye.API.events):g[Ai]=Ye.API[Ai]);function Eo(p){return nt[p].mediaBox.topRightX-nt[p].mediaBox.bottomLeftX}function zr(p,N){nt[p].mediaBox.topRightX=N+nt[p].mediaBox.bottomLeftX}function Aa(p){return nt[p].mediaBox.topRightY-nt[p].mediaBox.bottomLeftY}function Mi(p,N){nt[p].mediaBox.topRightY=N+nt[p].mediaBox.bottomLeftY}var Cr=g.getPageWidth=function(p){return Eo(p=p||K)/vt},Ea=g.setPageWidth=function(p,N){zr(p,N*vt)},Vi=g.getPageHeight=function(p){return Aa(p=p||K)/vt},js=g.setPageHeight=function(p,N){Mi(p,N*vt)};return g.internal={pdfEscape:mr,getStyle:Wt,getFont:Ms,getFontSize:Ue,getCharSpace:Ic,getTextColor:Vs,getLineHeight:ss,getLineHeightFactor:Nu,getLineWidth:bc,write:De,getHorizontalCoordinate:Oi,getVerticalCoordinate:er,getCoordinateString:xu,getVerticalCoordinateString:Pu,collections:{},newObject:Zt,newAdditionalObject:Br,newObjectDeferred:Bn,newObjectDeferredBegin:Kn,getFilters:Pr,putStream:ar,events:Vt,scaleFactor:vt,pageSize:{getWidth:function(){return Cr(K)},setWidth:function(p){Ea(K,p)},getHeight:function(){return Vi(K)},setHeight:function(p){js(K,p)}},encryptionOptions:f,encryption:Cn,getEncryptor:function(p){return f!==null?Cn.encryptor(p,0):function(N){return N}},output:ba,getNumberOfPages:_a,get pages(){return Pe},out:$,f2:b,f3:E,getPageInfo:cr,getPageInfoByObjId:qr,getCurrentPageInfo:yo,getPDFVersion:L,Point:Fi,Rectangle:Io,Matrix:Qe,hasHotfix:kr},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Cr(K)},set:function(p){Ea(K,p)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Vi(K)},set:function(p){js(K,p)},enumerable:!0,configurable:!0}),function(p){for(var N=0,W=rt.length;N<W;N++){var X=ma.call(this,p[N][0],p[N][1],p[N][2],rt[N][3],!0);v===!1&&(y[X]=!0);var ie=p[N][0].split("-");Ds({id:X,fontName:ie[0],fontStyle:ie[1]||""})}Vt.publish("addFonts",{fonts:Tt,dictionary:St})}.call(g,rt),qe="F1",yi(i,t),Vt.publish("initialized"),g}mu.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},mu.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mu.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},mu.prototype.processOwnerPassword=function(n,e){return H0(W0(e).substr(0,5),n)},mu.prototype.encryptor=function(n,e){var t=W0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return H0(t,r)}},Cf.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||nn(n)!==nn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ye.API={events:[]},Ye.version="4.2.0";var Rn=Ye.API,Y0=1,gc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pu=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pc=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},bt=function(n){return n.toFixed(2)},da=function(n){return n.toFixed(5)};Rn.__acroform__={};var Kr=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},AI=function(n){return n*Y0},ks=function(n){var e=new $I,t=ze.internal.getHeight(n)||0,r=ze.internal.getWidth(n)||0;return e.BBox=[0,0,Number(bt(r)),Number(bt(t))],e},Q6=Rn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Z6=Rn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},eR=Rn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Mn=Rn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eR(n,e-1)},Vn=Rn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Q6(n,e-1)},Un=Rn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Z6(n,e-1)},tR=Rn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+a)||0,c.upperRight_X=t(i+o)||0,c.upperRight_Y=r(s)||0,[Number(bt(c.lowerLeft_X)),Number(bt(c.lowerLeft_Y)),Number(bt(c.upperRight_X)),Number(bt(c.upperRight_Y))]},nR=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=G0(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+bt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ks(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},G0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(b){return b.split(`
`)}):i.map(function(b){return[b]});var s=t,o=ze.internal.getHeight(n)||0;o=o<0?-o:o;var a=ze.internal.getWidth(n)||0;a=a<0?-a:a;var c=function(b,E,S){if(b+1<i.length){var J=E+" "+i[b+1][0];return Tf(J,n,S).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var h,f,v=Tf("3",n,s).height,y=n.multiline?o-s:(o-v)/2,g=y+=2,C=0,L=0,R=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Tf(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var P="",q=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var z=!1;if(i[j].length!==1&&R!==i[j].length-1){if((v+2)*(q+2)+2>o)continue e;P+=i[j][R],z=!0,L=j,j--}else{P=(P+=i[j][R]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var ee=parseInt(j),oe=c(ee,P,s),U=j>=i.length-1;if(oe&&!U){P+=" ",R=0;continue}if(oe||U){if(U)L=ee;else if(n.multiline&&(v+2)*(q+2)+2>o)continue e}else{if(!n.multiline||(v+2)*(q+2)+2>o)continue e;L=ee}}for(var T="",A=C;A<=L;A++){var F=i[A];if(n.multiline){if(A===L){T+=F[R]+" ",R=(R+1)%F.length;continue}if(A===C){T+=F[F.length-1]+" ";continue}}T+=F[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,f=Tf(T,n,s).width,n.textAlign){case"right":h=a-f-2;break;case"center":h=(a-f)/2;break;default:h=2}e+=bt(h)+" "+bt(g)+` Td
`,e+="("+gc(T)+`) Tj
`,e+=-bt(h)+` 0 Td
`,g=-(s+2),f=0,C=z?L:L+1,q++,P=""}break}return r.text=e,r.fontSize=s,r},Tf=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},rR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iR=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},sR=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Qi.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(rR)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Y0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new WI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&iR(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],c=[],h=a.Rect;if(a.Rect&&(a.Rect=tR(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ze.createDefaultAppearanceStream(a),nn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=nR(a);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var v="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var g=a.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var C=g[o];typeof C=="function"&&(C=C.call(i,a)),v+="/"+o+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=g)=="function"&&(C=C.call(i,a)),v+="/"+o+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}s&&(function(L,R){for(var P in L)if(L.hasOwnProperty(P)){var q=P,j=L[P];R.internal.newObjectDeferredBegin(j.objId,!0),nn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete L[q]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},zI=Rn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),nn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)==="/"?i+="/"+pc(n[s].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+gc(r(n[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},B0=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+gc(r(n))+")"},Rs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rs.prototype.toString=function(){return this.objId+" 0 R"},Rs.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Rs.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:zI(i,this.objId,this.scope)}):i instanceof Rs?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var $I=function(){Rs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Kr($I,Rs);var WI=function(){Rs.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+gc(t(n))+")"}},set:function(t){n=t}})};Kr(WI,Rs);var Qi=function n(){Rs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');e=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mn(e,3)},set:function(P){P?this.F=Vn(e,3):this.F=Un(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');t=P}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(P){r=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(P){r[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(P){r[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(P){r[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(P){r[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Lf)return;s="FieldObject"+n.FieldNum++}var P=function(q){return q};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+gc(P(s))+")"},set:function(P){s=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(P){s=P}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(P){o=P}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(P){a=P}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(P){c=P}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Y0:h},set:function(P){h=P}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(P){f=P}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Lf||this instanceof fc))return B0(v,this.objId,this.scope)},set:function(P){P=P.toString(),v=P}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof or==0?B0(y,this.objId,this.scope):y},set:function(P){P=P.toString(),y=this instanceof or==0?P.substr(0,1)==="("?pu(P.substr(1,P.length-2)):pu(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof or==1?pu(y.substr(1,y.length-1)):y},set:function(P){P=P.toString(),y=this instanceof or==1?"/"+pc(P):P}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof or==0?B0(g,this.objId,this.scope):g},set:function(P){P=P.toString(),g=this instanceof or==0?P.substr(0,1)==="("?pu(P.substr(1,P.length-2)):pu(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof or==1?pu(g.substr(1,g.length-1)):g},set:function(P){P=P.toString(),g=this instanceof or==1?"/"+pc(P):P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(P){P=!!P,L=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(P){C=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,1)},set:function(P){P?this.Ff=Vn(this.Ff,1):this.Ff=Un(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,2)},set:function(P){P?this.Ff=Vn(this.Ff,2):this.Ff=Un(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,3)},set:function(P){P?this.Ff=Vn(this.Ff,3):this.Ff=Un(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');R=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(R){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:R=2;break;case"center":case 1:R=1;break;default:R=0}}})};Kr(Qi,Rs);var yu=function(){Qi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zI(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,o,a){a||(a=1);for(var c,h=[];c=o.exec(s);)h.push(c[a]);return h})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,18)},set:function(t){t?this.Ff=Vn(this.Ff,18):this.Ff=Un(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Vn(this.Ff,19):this.Ff=Un(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,20)},set:function(t){t?(this.Ff=Vn(this.Ff,20),e.sort()):this.Ff=Un(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,22)},set:function(t){t?this.Ff=Vn(this.Ff,22):this.Ff=Un(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,23)},set:function(t){t?this.Ff=Vn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,27)},set:function(t){t?this.Ff=Vn(this.Ff,27):this.Ff=Un(this.Ff,27)}}),this.hasAppearanceStream=!1};Kr(yu,Qi);var wu=function(){yu.call(this),this.fontName="helvetica",this.combo=!1};Kr(wu,yu);var bu=function(){wu.call(this),this.combo=!0};Kr(bu,wu);var xf=function(){bu.call(this),this.edit=!0};Kr(xf,bu);var or=function(){Qi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,15)},set:function(t){t?this.Ff=Vn(this.Ff,15):this.Ff=Un(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,16)},set:function(t){t?this.Ff=Vn(this.Ff,16):this.Ff=Un(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,17)},set:function(t){t?this.Ff=Vn(this.Ff,17):this.Ff=Un(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,26)},set:function(t){t?this.Ff=Vn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+gc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){nn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){var r=t==null?"":t.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),n="/"+pc(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+pc(t)}})};Kr(or,Qi);var Pf=function(){or.call(this),this.pushButton=!0};Kr(Pf,or);var Iu=function(){or.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Kr(Iu,or);var Lf=function(){var n,e;Qi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+gc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){nn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){var s=i==null?"":i.toString();s.substr(0,1)==="/"&&(s=s.substr(1)),t="/"+pc(s)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){var s=i==null?"":i.toString();s.substr(0,1)==="/"&&(s=s.substr(1)),t="/"+pc(s)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Kr(Lf,Qi),Iu.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Iu.prototype.createOption=function(n){var e=new Lf;return e.Parent=this,e.optionName=n,this.Kids.push(e),oR.call(this.scope,e),e};var kf=function(){or.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ze.CheckBox.createAppearanceStream()};Kr(kf,or);var fc=function(){Qi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,13)},set:function(e){e?this.Ff=Vn(this.Ff,13):this.Ff=Un(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,21)},set:function(e){e?this.Ff=Vn(this.Ff,21):this.Ff=Un(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,23)},set:function(e){e?this.Ff=Vn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,24)},set:function(e){e?this.Ff=Vn(this.Ff,24):this.Ff=Un(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,25)},set:function(e){e?this.Ff=Vn(this.Ff,25):this.Ff=Un(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,26)},set:function(e){e?this.Ff=Vn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Kr(fc,Qi);var Rf=function(){fc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mn(this.Ff,14)},set:function(n){n?this.Ff=Vn(this.Ff,14):this.Ff=Un(this.Ff,14)}}),this.password=!0};Kr(Rf,fc);var ze={CheckBox:{createAppearanceStream:function(){return{N:{On:ze.CheckBox.YesNormal},D:{On:ze.CheckBox.YesPushDown,Off:ze.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=ks(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=G0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+bt(ze.internal.getWidth(n))+" "+bt(ze.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+bt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=ks(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=ze.internal.getHeight(n),o=ze.internal.getWidth(n),a=G0(n,n.caption);return i.push("1 g"),i.push("0 0 "+bt(o)+" "+bt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+bt(o-1)+" "+bt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+bt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=ks(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bt(ze.internal.getWidth(n))+" "+bt(ze.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=ze.RadioButton.Circle.YesNormal,e.D[n]=ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=ks(n);e.scope=n.scope;var t=[],r=ze.internal.getWidth(n)<=ze.internal.getHeight(n)?ze.internal.getWidth(n)/4:ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=ze.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+da(ze.internal.getWidth(n)/2)+" "+da(ze.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ks(n);e.scope=n.scope;var t=[],r=ze.internal.getWidth(n)<=ze.internal.getHeight(n)?ze.internal.getWidth(n)/4:ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ze.internal.Bezier_C).toFixed(5)),o=Number((r*ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+da(ze.internal.getWidth(n)/2)+" "+da(ze.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+da(ze.internal.getWidth(n)/2)+" "+da(ze.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=ks(n);e.scope=n.scope;var t=[],r=ze.internal.getWidth(n)<=ze.internal.getHeight(n)?ze.internal.getWidth(n)/4:ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ze.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+da(ze.internal.getWidth(n)/2)+" "+da(ze.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=ze.RadioButton.Cross.YesNormal,e.D[n]=ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=ks(n);e.scope=n.scope;var t=[],r=ze.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+bt(ze.internal.getWidth(n)-2)+" "+bt(ze.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(bt(r.x1.x)+" "+bt(r.x1.y)+" m"),t.push(bt(r.x2.x)+" "+bt(r.x2.y)+" l"),t.push(bt(r.x4.x)+" "+bt(r.x4.y)+" m"),t.push(bt(r.x3.x)+" "+bt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ks(n);e.scope=n.scope;var t=ze.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(ze.internal.getWidth(n))+" "+bt(ze.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+bt(ze.internal.getWidth(n)-2)+" "+bt(ze.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(bt(t.x1.x)+" "+bt(t.x1.y)+" m"),r.push(bt(t.x2.x)+" "+bt(t.x2.y)+" l"),r.push(bt(t.x4.x)+" "+bt(t.x4.y)+" m"),r.push(bt(t.x3.x)+" "+bt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=ks(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bt(ze.internal.getWidth(n))+" "+bt(ze.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};ze.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=ze.internal.getWidth(n),t=ze.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},ze.internal.getWidth=function(n){var e=0;return nn(n)==="object"&&(e=AI(n.Rect[2])),e},ze.internal.getHeight=function(n){var e=0;return nn(n)==="object"&&(e=AI(n.Rect[3])),e};var oR=Rn.addField=function(n){if(sR(this,n),!(n instanceof Qi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Rn.AcroFormChoiceField=yu,Rn.AcroFormListBox=wu,Rn.AcroFormComboBox=bu,Rn.AcroFormEditBox=xf,Rn.AcroFormButton=or,Rn.AcroFormPushButton=Pf,Rn.AcroFormRadioButton=Iu,Rn.AcroFormCheckBox=kf,Rn.AcroFormTextField=fc,Rn.AcroFormPasswordField=Rf,Rn.AcroFormAppearance=ze,Rn.AcroForm={ChoiceField:yu,ListBox:wu,ComboBox:bu,EditBox:xf,Button:or,PushButton:Pf,RadioButton:Iu,CheckBox:kf,TextField:fc,PasswordField:Rf,Appearance:ze},Ye.AcroForm={ChoiceField:yu,ListBox:wu,ComboBox:bu,EditBox:xf,Button:or,PushButton:Pf,RadioButton:Iu,CheckBox:kf,TextField:fc,PasswordField:Rf,Appearance:ze};var w7=Ye.AcroForm;function HI(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(b,E){var S,J,he,me,ge,ce=t;if((E=E||t)==="RGBA"||b.data!==void 0&&b.data instanceof Uint8ClampedArray&&"height"in b&&"width"in b)return"RGBA";if(oe(b))for(ge in r)for(he=r[ge],S=0;S<he.length;S+=1){for(me=!0,J=0;J<he[S].length;J+=1)if(he[S][J]!==void 0&&he[S][J]!==b[J]){me=!1;break}if(me===!0){ce=ge;break}}else for(ge in r)for(he=r[ge],S=0;S<he.length;S+=1){for(me=!0,J=0;J<he[S].length;J+=1)if(he[S][J]!==void 0&&he[S][J]!==b.charCodeAt(J)){me=!1;break}if(me===!0){ce=ge;break}}return ce===t&&E!==t&&(ce=E),ce},s=function b(E){for(var S=this.internal.write,J=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var me=[];if(me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Image"}),me.push({key:"Width",value:E.width}),me.push({key:"Height",value:E.height}),E.colorSpace===P.INDEXED?me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(me.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===P.DEVICE_CMYK&&me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),me.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&me.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var ge="",ce=0,_e=E.transparency.length;ce<_e;ce++)ge+=E.transparency[ce]+" "+E.transparency[ce]+" ";me.push({key:"Mask",value:"["+ge+"]"})}E.sMask!==void 0&&me.push({key:"SMask",value:E.objectId+1+" 0 R"});var Re=E.filter!==void 0?["/"+E.filter]:void 0;if(J({data:E.data,additionalKeyValues:me,alreadyAppliedFilters:Re,objectId:E.objectId}),S("endobj"),"sMask"in E&&E.sMask!==void 0){var Te,D=(Te=E.sMaskBitsPerComponent)!==null&&Te!==void 0?Te:E.bitsPerComponent,K={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:E.sMask};"filter"in E&&(K.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(E.width),K.filter=E.filter),b.call(this,K)}if(E.colorSpace===P.INDEXED){var Y=this.internal.newObject();J({data:T(new Uint8Array(E.palette)),objectId:Y}),S("endobj")}},o=function(){var b=this.internal.collections[e+"images"];for(var E in b)s.call(this,b[E])},a=function(){var b,E=this.internal.collections[e+"images"],S=this.internal.write;for(var J in E)S("/I"+(b=E[J]).index,b.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},h=function(){var b=this.internal.collections[e+"images"];return c.call(this),b},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(b){return typeof n["process"+b.toUpperCase()]=="function"},y=function(b){return nn(b)==="object"&&b.nodeType===1},g=function(b,E){if(b.nodeName==="IMG"&&b.hasAttribute("src")){var S=""+b.getAttribute("src");if(S.indexOf("data:image/")===0)return Nf(unescape(S).split("base64,").pop());var J=n.loadFile(S,!0);if(J!==void 0)return J}if(b.nodeName==="CANVAS"){if(b.width===0||b.height===0)throw new Error("Given canvas must have data. Canvas width: "+b.width+", height: "+b.height);var he;switch(E){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return Nf(b.toDataURL(he,1).split("base64,").pop())}},C=function(b){var E=this.internal.collections[e+"images"];if(E){for(var S in E)if(b===E[S].alias)return E[S]}},L=function(b,E,S){return b||E||(b=-96,E=-96),b<0&&(b=-1*S.width*72/b/this.internal.scaleFactor),E<0&&(E=-1*S.height*72/E/this.internal.scaleFactor),b===0&&(b=E*S.width/S.height),E===0&&(E=b*S.height/S.width),[b,E]},R=function(b,E,S,J,he,me){var ge=L.call(this,S,J,he),ce=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Re=h.call(this);if(S=ge[0],J=ge[1],Re[he.index]=he,me){me*=Math.PI/180;var Te=Math.cos(me),D=Math.sin(me),K=function(Q){return Q.toFixed(4)},Y=[K(Te),K(D),K(-1*D),K(Te),0,0,"cm"]}this.internal.write("q"),me?(this.internal.write([1,"0","0",1,ce(b),_e(E+J),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([ce(S),"0","0",ce(J),"0","0","cm"].join(" "))):this.internal.write([ce(S),"0","0",ce(J),ce(b),_e(E+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},P=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var q=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=n.__addimage__.sHashCode=function(b){var E,S,J=0;if(typeof b=="string")for(S=b.length,E=0;E<S;E++)J=(J<<5)-J+b.charCodeAt(E),J|=0;else if(oe(b))for(S=b.byteLength/2,E=0;E<S;E++)J=(J<<5)-J+b[E],J|=0;return J},z=n.__addimage__.validateStringAsBase64=function(b){(b=b||"").toString().trim();var E=!0;return b.length===0&&(E=!1),b.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(b.substr(0,b.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(b.substr(-2))===!1&&(E=!1),E},ee=n.__addimage__.extractImageFromDataUrl=function(b){if(b==null||!(b=b.trim()).startsWith("data:"))return null;var E=b.indexOf(",");return E<0?null:b.substring(0,E).trim().endsWith("base64")?b.substring(E+1):null};n.__addimage__.isArrayBuffer=function(b){return b instanceof ArrayBuffer};var oe=n.__addimage__.isArrayBufferView=function(b){return b instanceof Int8Array||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Uint16Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array},U=n.__addimage__.binaryStringToUint8Array=function(b){for(var E=b.length,S=new Uint8Array(E),J=0;J<E;J++)S[J]=b.charCodeAt(J);return S},T=n.__addimage__.arrayBufferToBinaryString=function(b){for(var E="",S=oe(b)?b:new Uint8Array(b),J=0;J<S.length;J+=8192)E+=String.fromCharCode.apply(null,S.subarray(J,J+8192));return E};n.addImage=function(){var b,E,S,J,he,me,ge,ce,_e;if(typeof arguments[1]=="number"?(E=t,S=arguments[1],J=arguments[2],he=arguments[3],me=arguments[4],ge=arguments[5],ce=arguments[6],_e=arguments[7]):(E=arguments[1],S=arguments[2],J=arguments[3],he=arguments[4],me=arguments[5],ge=arguments[6],ce=arguments[7],_e=arguments[8]),nn(b=arguments[0])==="object"&&!y(b)&&"imageData"in b){var Re=b;b=Re.imageData,E=Re.format||E||t,S=Re.x||S||0,J=Re.y||J||0,he=Re.w||Re.width||he,me=Re.h||Re.height||me,ge=Re.alias||ge,ce=Re.compression||ce,_e=Re.rotation||Re.angle||_e}var Te=this.internal.getFilters();if(ce===void 0&&Te.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(S)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=A.call(this,b,E,ge,ce);return R.call(this,S,J,he,me,D,_e),this};var A=function(b,E,S,J){var he,me,ge;if(typeof b=="string"&&i(b)===t){b=unescape(b);var ce=F(b,!1);(ce!==""||(ce=n.loadFile(b,!0))!==void 0)&&(b=ce)}if(y(b)&&(b=g(b,E)),E=i(b,E),!v(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((ge=S)==null||ge.length===0)&&(S=(function(_e){return typeof _e=="string"||oe(_e)?j(_e):oe(_e.data)?j(_e.data):null})(b)),(he=C.call(this,S))||(b instanceof Uint8Array||E==="RGBA"||(me=b,b=U(b)),he=this["process"+E.toUpperCase()](b,f.call(this),S,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in n.image_compression?_e:q.NONE})(J),me)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},F=n.__addimage__.convertBase64ToBinaryString=function(b,E){E=typeof E!="boolean"||E;var S,J="";if(typeof b=="string"){var he;S=(he=ee(b))!==null&&he!==void 0?he:b;try{J=Nf(S)}catch(me){if(E)throw z(S)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};n.getImageProperties=function(b){var E,S,J="";if(y(b)&&(b=g(b)),typeof b=="string"&&i(b)===t&&((J=F(b,!1))===""&&(J=n.loadFile(b)||""),b=J),S=i(b),!v(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(b instanceof Uint8Array||(b=U(b)),!(E=this["process"+S.toUpperCase()](b)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=S,E}})(Ye.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ye.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,f=!1,v=0;v<h.length&&!f;v++)switch((r=h[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){r=h[y];var g=this.internal.pdfEscape,C=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(L.objId),q=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(P(r.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+g(P(q))+") >>",L.content=s;var j=L.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(L.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(C(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ee=this.annotations._nameMap[r.options.name];r.options.pageNumber=ee.page,r.options.top=ee.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var oe=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+oe+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(t),y:h(r),w:c(t+i),h:h(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(t,a).length;o=Math.ceil(h*f)}else a=c,o=h;return this.text(t,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,a,o,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Ye.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},a=n.__arabicParser__.isArabicEndLetter=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(L){return o(L)&&i.indexOf(L.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(L){return o(L)&&s(L)&&e[L.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(L){var R=0,P=t,q="",j=0;for(R=0;R<L.length;R+=1)P[L.charCodeAt(R)]!==void 0?(j++,typeof(P=P[L.charCodeAt(R)])=="number"&&(q+=String.fromCharCode(P),P=t,j=0),R===L.length-1&&(P=t,q+=L.charAt(R-(j-1)),R-=j-1,j=0)):(P=t,q+=L.charAt(R-j),R-=j,j=0);return q};n.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&r[L.charCodeAt(0)]!==void 0};var y=n.__arabicParser__.getCorrectForm=function(L,R,P){return o(L)?s(L)===!1?-1:!h(L)||!o(R)&&!o(P)||!o(P)&&a(R)||a(L)&&!o(R)||a(L)&&c(R)||a(L)&&a(R)?0:f(L)&&o(R)&&!a(R)&&o(P)&&h(P)?3:a(L)||!o(P)?1:2:-1},g=function(L){var R=0,P=0,q=0,j="",z="",ee="",oe=(L=L||"").split("\\s+"),U=[];for(R=0;R<oe.length;R+=1){for(U.push(""),P=0;P<oe[R].length;P+=1)j=oe[R][P],z=oe[R][P-1],ee=oe[R][P+1],o(j)?(q=y(j,z,ee),U[R]+=q!==-1?String.fromCharCode(e[j.charCodeAt(0)][q]):j):U[R]+=j;U[R]=v(U[R])}return U.join(" ")},C=n.__arabicParser__.processArabic=n.processArabic=function(){var L,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(R)){var q=0;for(P=[],q=0;q<R.length;q+=1)Array.isArray(R[q])?P.push([g(R[q][0]),R[q][1],R[q][2]]):P.push([g(R[q])]);L=P}else L=g(R);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};n.events.push(["preProcessText",C])})(Ye.API),Ye.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ye.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(L){c=L}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(L){h=L}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(L){v=L}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(L){g=L}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(L){C=L}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){r.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),v=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,g=0,C=0,L=0,R=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var P=h.maxWidth;P>0?typeof c=="string"?c=this.splitTextToSize(c,P):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,z){return j.concat(R.splitTextToSize(z,P))},[])):c=Array.isArray(c)?c:[c];for(var q=0;q<c.length;q++)g<(L=this.getStringUnitWidth(c[q],{font:v})*f)&&(g=L);return g!==0&&(C=c.length),{w:g/=y,h:Math.max((C*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,g&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,f,v,y){if(r.call(this),!f)throw new Error("No data for PDF table.");var g,C,L,R,P=[],q=[],j=[],z={},ee={},oe=[],U=[],T=(y=y||{}).autoSize||!1,A=y.printHeaders!==!1,F=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,b=y.margins||Object.assign({width:this.getPageWidth()},e),E=typeof y.padding=="number"?y.padding:3,S=y.headerBackgroundColor||"#c8c8c8",J=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=b,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=S,this.internal.__cell__.headerTextColor=J,this.setFontSize(F),v==null)q=P=Object.keys(f[0]),j=P.map(function(){return"left"});else if(Array.isArray(v)&&nn(v[0])==="object")for(P=v.map(function(Re){return Re.name}),q=v.map(function(Re){return Re.prompt||Re.name||""}),j=v.map(function(Re){return Re.align||"left"}),g=0;g<v.length;g+=1)ee[v[g].name]=.7499990551181103*v[g].width;else Array.isArray(v)&&typeof v[0]=="string"&&(q=P=v,j=P.map(function(){return"left"}));if(T||Array.isArray(v)&&typeof v[0]=="string")for(g=0;g<P.length;g+=1){for(z[R=P[g]]=f.map(function(Re){return Re[R]}),this.setFont(void 0,"bold"),oe.push(this.getTextDimensions(q[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=z[R],this.setFont(void 0,"normal"),L=0;L<C.length;L+=1)oe.push(this.getTextDimensions(C[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[R]=Math.max.apply(null,oe)+E+E,oe=[]}if(A){var he={};for(g=0;g<P.length;g+=1)he[P[g]]={},he[P[g]].text=q[g],he[P[g]].align=j[g];var me=a.call(this,he,ee);U=P.map(function(Re){return new s(c,h,ee[Re],me,he[Re].text,void 0,he[Re].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var ge=v.reduce(function(Re,Te){return Re[Te.name]=Te.align,Re},{});for(g=0;g<f.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:f[g]},this);var ce=a.call(this,f[g],ee);for(L=0;L<P.length;L+=1){var _e=f[g][P[L]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:L,data:_e},this),o.call(this,new s(c,h,ee[P[L]],ce,_e,g+2,ge[P[L]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var a=function(c,h){var f=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(g){var C=c[g];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,h[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*v/y+f+f},this).reduce(function(g,C){return Math.max(g,C)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=c;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(C)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}})(Ye.API);var GI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K0=HI(KI),YI=[100,200,300,400,500,600,700,800,900],aR=HI(YI);function j0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return GI[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof K0[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function EI(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var cR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},TI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function SI(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function NI(n){return n.trimLeft()}function uR(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function lR(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var gu,Sf,xI,PI,kI,q0=["times"];function RI(n,e,t,r,i){var s=4,o=LI;switch(i){case Ye.API.image_compression.FAST:s=1,o=CI;break;case Ye.API.image_compression.MEDIUM:s=6,o=DI;break;case Ye.API.image_compression.SLOW:s=9,o=OI}n=(function(c,h,f,v){for(var y,g=c.length/h,C=new Uint8Array(c.length+g),L=[hR,CI,LI,DI,OI],R=0;R<g;R+=1){var P=R*h,q=c.subarray(P,P+h);if(v)C.set(v(q,f,y),P+R);else{for(var j=L.length,z=[],ee=0;ee<j;ee+=1)z[ee]=L[ee](q,f,y);var oe=fR(z.concat());C.set(z[oe],P+R)}y=q}return C})(n,e,Math.ceil(t*r/8),o);var a=tf(n,{level:s});return Ye.API.__addimage__.arrayBufferToBinaryString(a)}function hR(n){var e=Array.apply([],n);return e.unshift(0),e}function CI(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function LI(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=t&&t[s]||0;i[s+1]=n[s]-o+256&255}return i}function DI(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-e]||0,a=t&&t[s]||0;i[s+1]=n[s]+256-(o+a>>>1)&255}return i}function OI(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=dR(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-o+256&255}return i}function dR(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function fR(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function z0(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),o=(1<<t)-1;return JI(n,i)>>s&o}function FI(n,e,t,r){var i=t*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,c=(e&a)<<o;(function(h,f,v){if(f+1<h.byteLength)h.setUint16(f,v,!1);else{var y=v>>8&255;h.setUint8(f,y)}})(n,s,JI(n,s)&~(a<<o)&65535|c)}function JI(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function pR(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<1+(7&i);n[e++],n[e++];var a=null,c=null;s&&(a=e,c=o,e+=3*o);var h=!0,f=[],v=0,y=null,g=0,C=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,C=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((b=n[e++])>=0))throw Error("Invalid block size");if(b===0)break;e+=b}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=n[e++];v=n[e++]|n[e++]<<8,y=n[e++],1&L||(y=null),g=L>>2&7,e++;break;case 254:for(;;){if(!((b=n[e++])>=0))throw Error("Invalid block size");if(b===0)break;e+=b}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var R=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,q=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,z=n[e++],ee=z>>6&1,oe=1<<1+(7&z),U=a,T=c,A=!1;z>>7&&(A=!0,U=e,T=oe,e+=3*oe);var F=e;for(e++;;){var b;if(!((b=n[e++])>=0))throw Error("Invalid block size");if(b===0)break;e+=b}f.push({x:R,y:P,width:q,height:j,has_local_palette:A,palette_offset:U,palette_size:T,data_offset:F,data_length:e-F,transparent_index:y,interlaced:!!ee,delay:v,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return C},this.frameInfo=function(E){if(E<0||E>=f.length)throw new Error("Frame index out of range.");return f[E]},this.decodeAndBlitFrameBGRA=function(E,S){var J=this.frameInfo(E),he=J.width*J.height;if(he>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var me=new Uint8Array(he);MI(n,J.data_offset,me,he);var ge=J.palette_offset,ce=J.transparent_index;ce===null&&(ce=256);var _e=J.width,Re=t-_e,Te=_e,D=4*(J.y*t+J.x),K=4*((J.y+J.height)*t+J.x),Y=D,Q=4*Re;J.interlaced===!0&&(Q+=4*t*7);for(var re=8,ae=0,fe=me.length;ae<fe;++ae){var pe=me[ae];if(Te===0&&(Te=_e,(Y+=Q)>=K&&(Q=4*Re+4*t*(re-1),Y=D+(_e+Re)*(re<<1),re>>=1)),pe===ce)Y+=4;else{var be=n[ge+3*pe],Pe=n[ge+3*pe+1],Fe=n[ge+3*pe+2];S[Y++]=Fe,S[Y++]=Pe,S[Y++]=be,S[Y++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(E,S){var J=this.frameInfo(E),he=J.width*J.height;if(he>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var me=new Uint8Array(he);MI(n,J.data_offset,me,he);var ge=J.palette_offset,ce=J.transparent_index;ce===null&&(ce=256);var _e=J.width,Re=t-_e,Te=_e,D=4*(J.y*t+J.x),K=4*((J.y+J.height)*t+J.x),Y=D,Q=4*Re;J.interlaced===!0&&(Q+=4*t*7);for(var re=8,ae=0,fe=me.length;ae<fe;++ae){var pe=me[ae];if(Te===0&&(Te=_e,(Y+=Q)>=K&&(Q=4*Re+4*t*(re-1),Y=D+(_e+Re)*(re<<1),re>>=1)),pe===ce)Y+=4;else{var be=n[ge+3*pe],Pe=n[ge+3*pe+1],Fe=n[ge+3*pe+2];S[Y++]=be,S[Y++]=Pe,S[Y++]=Fe,S[Y++]=255}--Te}}}function MI(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,c=i+1,h=(1<<c)-1,f=0,v=0,y=0,g=n[e++],C=new Int32Array(4096),L=null;;){for(;f<16&&g!==0;)v|=n[e++]<<f,f+=8,g===1?g=n[e++]:--g;if(f<c)break;var R=v&h;if(v>>=c,f-=c,R!==s){if(R===o)break;for(var P=R<a?R:L,q=0,j=P;j>s;)j=C[j]>>8,++q;var z=j;if(y+q+(P!==R?1:0)>r)return void ln.log("Warning, gif stream longer than expected.");t[y++]=z;var ee=y+=q;for(P!==R&&(t[y++]=z),j=P;q--;)j=C[j],t[--ee]=255&j,j>>=8;L!==null&&a<4096&&(C[a++]=L<<8|z,a>=h+1&&c<12&&(++c,h=h<<1|1)),L=R}else a=o+1,h=(1<<(c=i+1))-1,L=null}return y!==r&&ln.log("Warning, gif stream shorter than expected."),t}function $0(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),c=new Array(64),h=new Array(64),f=new Array(64),v=new Array(65535),y=new Array(65535),g=new Array(64),C=new Array(64),L=[],R=0,P=7,q=new Array(64),j=new Array(64),z=new Array(64),ee=new Array(256),oe=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],b=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function me(D,K){for(var Y=0,Q=0,re=new Array,ae=1;ae<=16;ae++){for(var fe=1;fe<=D[ae];fe++)re[K[Q]]=[],re[K[Q]][0]=Y,re[K[Q]][1]=ae,Q++,Y++;Y*=2}return re}function ge(D){for(var K=D[0],Y=D[1]-1;Y>=0;)K&1<<Y&&(R|=1<<P),Y--,--P<0&&(R==255?(ce(255),ce(0)):ce(R),P=7,R=0)}function ce(D){L.push(D)}function _e(D){ce(D>>8&255),ce(255&D)}function Re(D,K,Y,Q,re){for(var ae,fe=re[0],pe=re[240],be=(function(Ne,tt){var Ue,Ze,Xe,Mt,Pt,pt,at,ct,qe,vt,Ge=0;for(qe=0;qe<8;++qe){Ue=Ne[Ge],Ze=Ne[Ge+1],Xe=Ne[Ge+2],Mt=Ne[Ge+3],Pt=Ne[Ge+4],pt=Ne[Ge+5],at=Ne[Ge+6];var In=Ue+(ct=Ne[Ge+7]),kt=Ue-ct,Tt=Ze+at,St=Ze-at,Xt=Xe+pt,et=Xe-pt,Qt=Mt+Pt,it=Mt-Pt,_t=In+Qt,sn=In-Qt,yt=Tt+Xt,nt=Tt-Xt;Ne[Ge]=_t+yt,Ne[Ge+4]=_t-yt;var Vt=.707106781*(nt+sn);Ne[Ge+2]=sn+Vt,Ne[Ge+6]=sn-Vt;var Sr=.382683433*((_t=it+et)-(nt=St+kt)),Gn=.5411961*_t+Sr,Ur=1.306562965*nt+Sr,Jr=.707106781*(yt=et+St),Qe=kt+Jr,vi=kt-Jr;Ne[Ge+5]=vi+Gn,Ne[Ge+3]=vi-Gn,Ne[Ge+1]=Qe+Ur,Ne[Ge+7]=Qe-Ur,Ge+=8}for(Ge=0,qe=0;qe<8;++qe){Ue=Ne[Ge],Ze=Ne[Ge+8],Xe=Ne[Ge+16],Mt=Ne[Ge+24],Pt=Ne[Ge+32],pt=Ne[Ge+40],at=Ne[Ge+48];var pn=Ue+(ct=Ne[Ge+56]),Nr=Ue-ct,Zn=Ze+at,Zt=Ze-at,Bn=Xe+pt,Kn=Xe-pt,Br=Mt+Pt,es=Mt-Pt,Xr=pn+Br,xr=pn-Br,jr=Zn+Bn,Pr=Zn-Bn;Ne[Ge]=Xr+jr,Ne[Ge+32]=Xr-jr;var ar=.707106781*(Pr+xr);Ne[Ge+16]=xr+ar,Ne[Ge+48]=xr-ar;var gr=.382683433*((Xr=es+Kn)-(Pr=Zt+Nr)),Qr=.5411961*Xr+gr,ts=1.306562965*Pr+gr,ns=.707106781*(jr=Kn+Zt),rs=Nr+ns,Ls=Nr-ns;Ne[Ge+40]=Ls+Qr,Ne[Ge+24]=Ls-Qr,Ne[Ge+8]=rs+ts,Ne[Ge+56]=rs-ts,Ge++}for(qe=0;qe<64;++qe)vt=Ne[qe]*tt[qe],g[qe]=vt>0?vt+.5|0:vt-.5|0;return g})(D,K),Pe=0;Pe<64;++Pe)C[U[Pe]]=be[Pe];var Fe=C[0]-Y;Y=C[0],Fe==0?ge(Q[0]):(ge(Q[y[ae=32767+Fe]]),ge(v[ae]));for(var Oe=63;Oe>0&&C[Oe]==0;)Oe--;if(Oe==0)return ge(fe),Y;for(var Ke,$=1;$<=Oe;){for(var De=$;C[$]==0&&$<=Oe;)++$;var It=$-De;if(It>=16){Ke=It>>4;for(var rt=1;rt<=Ke;++rt)ge(pe);It&=15}ae=32767+C[$],ge(re[(It<<4)+y[ae]]),ge(v[ae]),$++}return Oe!=63&&ge(fe),Y}function Te(D){D=Math.min(Math.max(D,1),100),s!=D&&((function(K){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var re=o((Y[Q]*K+50)/100);re=Math.min(Math.max(re,1),255),a[U[Q]]=re}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var pe=o((ae[fe]*K+50)/100);pe=Math.min(Math.max(pe,1),255),c[U[fe]]=pe}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Fe=0;Fe<8;Fe++)for(var Oe=0;Oe<8;Oe++)h[Pe]=1/(a[U[Pe]]*be[Fe]*be[Oe]*8),f[Pe]=1/(c[U[Pe]]*be[Fe]*be[Oe]*8),Pe++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,K){K&&Te(K),L=new Array,R=0,P=7,_e(65496),_e(65504),_e(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),_e(1),_e(1),ce(0),ce(0),(function(){_e(65499),_e(132),ce(0);for(var Ze=0;Ze<64;Ze++)ce(a[Ze]);ce(1);for(var Xe=0;Xe<64;Xe++)ce(c[Xe])})(),(function(Ze,Xe){_e(65472),_e(17),ce(8),_e(Xe),_e(Ze),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(D.width,D.height),(function(){_e(65476),_e(418),ce(0);for(var Ze=0;Ze<16;Ze++)ce(T[Ze+1]);for(var Xe=0;Xe<=11;Xe++)ce(A[Xe]);ce(16);for(var Mt=0;Mt<16;Mt++)ce(F[Mt+1]);for(var Pt=0;Pt<=161;Pt++)ce(b[Pt]);ce(1);for(var pt=0;pt<16;pt++)ce(E[pt+1]);for(var at=0;at<=11;at++)ce(S[at]);ce(17);for(var ct=0;ct<16;ct++)ce(J[ct+1]);for(var qe=0;qe<=161;qe++)ce(he[qe])})(),_e(65498),_e(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var Y=0,Q=0,re=0;R=0,P=7,this.encode.displayName="_encode_";for(var ae,fe,pe,be,Pe,Fe,Oe,Ke,$,De=D.data,It=D.width,rt=D.height,Ne=4*It,tt=0;tt<rt;){for(ae=0;ae<Ne;){for(Pe=Ne*tt+ae,Oe=-1,Ke=0,$=0;$<64;$++)Fe=Pe+(Ke=$>>3)*Ne+(Oe=4*(7&$)),tt+Ke>=rt&&(Fe-=Ne*(tt+1+Ke-rt)),ae+Oe>=Ne&&(Fe-=ae+Oe-Ne+4),fe=De[Fe++],pe=De[Fe++],be=De[Fe++],q[$]=(oe[fe]+oe[pe+256|0]+oe[be+512|0]>>16)-128,j[$]=(oe[fe+768|0]+oe[pe+1024|0]+oe[be+1280|0]>>16)-128,z[$]=(oe[fe+1280|0]+oe[pe+1536|0]+oe[be+1792|0]>>16)-128;Y=Re(q,h,Y,e,r),Q=Re(j,f,Q,t,i),re=Re(z,f,re,t,i),ae+=32}tt+=8}if(P>=0){var Ue=[];Ue[1]=P+1,Ue[0]=(1<<P+1)-1,ge(Ue)}return _e(65497),new Uint8Array(L)},n=n||50,(function(){for(var D=String.fromCharCode,K=0;K<256;K++)ee[K]=D(K)})(),e=me(T,A),t=me(E,S),r=me(F,b),i=me(J,he),(function(){for(var D=1,K=2,Y=1;Y<=15;Y++){for(var Q=D;Q<K;Q++)y[32767+Q]=Y,v[32767+Q]=[],v[32767+Q][1]=Y,v[32767+Q][0]=Q;for(var re=-(K-1);re<=-D;re++)y[32767+re]=Y,v[32767+re]=[],v[32767+re][1]=Y,v[32767+re][0]=K-1+re;D<<=1,K<<=1}})(),(function(){for(var D=0;D<256;D++)oe[D]=19595*D,oe[D+256|0]=38470*D,oe[D+512|0]=7471*D+32768,oe[D+768|0]=-11059*D,oe[D+1024|0]=-21709*D,oe[D+1280|0]=32768*D+8421375,oe[D+1536|0]=-27439*D,oe[D+1792|0]=-5329*D})(),Te(n)}function Xi(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function VI(n){function e(A){if(!A)throw Error("assert :P")}function t(A,F,b){for(var E=0;4>E;E++)if(A[F+E]!=b.charCodeAt(E))return!0;return!1}function r(A,F,b,E,S){for(var J=0;J<S;J++)A[F+J]=b[E+J]}function i(A,F,b,E){for(var S=0;S<E;S++)A[F+S]=b}function s(A){return new Int32Array(A)}function o(A,F){for(var b=[],E=0;E<A;E++)b.push(new F);return b}function a(A,F){var b=[];return(function E(S,J,he){for(var me=he[J],ge=0;ge<me&&(S.push(he.length>J+1?[]:new F),!(he.length<J+1));ge++)E(S[ge],J+1,he)})(b,0,A),b}var c=function(){var A=this;function F(u,d){for(var m=1<<d-1>>>0;u&m;)m>>>=1;return m?(u&m-1)+m:u}function b(u,d,m,w,x){e(!(w%m));do u[d+(w-=m)]=x;while(0<w)}function E(u,d,m,w,x){if(e(2328>=x),512>=x)var k=s(512);else if((k=s(x))==null)return 0;return(function(O,V,B,H,Z,le){var G,te,se=V,ve=1<<B,ue=s(16),we=s(16);for(e(Z!=0),e(H!=null),e(O!=null),e(0<B),te=0;te<Z;++te){if(15<H[te])return 0;++ue[H[te]]}if(ue[0]==Z)return 0;for(we[1]=0,G=1;15>G;++G){if(ue[G]>1<<G)return 0;we[G+1]=we[G]+ue[G]}for(te=0;te<Z;++te)G=H[te],0<H[te]&&(le[we[G]++]=te);if(we[15]==1)return(H=new S).g=0,H.value=le[0],b(O,se,1,ve,H),ve;var Ie,ke=-1,Se=ve-1,Je=0,je=1,Nt=1,We=1<<B;for(te=0,G=1,Z=2;G<=B;++G,Z<<=1){if(je+=Nt<<=1,0>(Nt-=ue[G]))return 0;for(;0<ue[G];--ue[G])(H=new S).g=G,H.value=le[te++],b(O,se+Je,Z,We,H),Je=F(Je,G)}for(G=B+1,Z=2;15>=G;++G,Z<<=1){if(je+=Nt<<=1,0>(Nt-=ue[G]))return 0;for(;0<ue[G];--ue[G]){if(H=new S,(Je&Se)!=ke){for(se+=We,Ie=1<<(ke=G)-B;15>ke&&!(0>=(Ie-=ue[ke]));)++ke,Ie<<=1;ve+=We=1<<(Ie=ke-B),O[V+(ke=Je&Se)].g=Ie+B,O[V+ke].value=se-V-ke}H.g=G-B,H.value=le[te++],b(O,se+(Je>>B),Z,We,H),Je=F(Je,G)}}return je!=2*we[15]-1?0:ve})(u,d,m,w,x,k)}function S(){this.value=this.g=0}function J(){this.value=this.g=0}function he(){this.G=o(5,S),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ta,J)}function me(u,d,m,w){e(u!=null),e(d!=null),e(2147483648>w),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=m,u.Jd=d,u.Yc=m+w,u.Zc=4<=w?m+w-4+1:m,fe(u)}function ge(u,d){for(var m=0;0<d--;)m|=be(u,128)<<d;return m}function ce(u,d){var m=ge(u,d);return pe(u)?-m:m}function _e(u,d,m,w){var x,k=0;for(e(u!=null),e(d!=null),e(4294967288>w),u.Sb=w,u.Ra=0,u.u=0,u.h=0,4<w&&(w=4),x=0;x<w;++x)k+=d[m+x]<<8*x;u.Ra=k,u.bb=w,u.oa=d,u.pa=m}function Re(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<No-8>>>0,++u.bb,u.u-=8;Q(u)&&(u.h=1,u.u=0)}function Te(u,d){if(e(0<=d),!u.h&&d<=si){var m=Y(u)&ii[d];return u.u+=d,Re(u),m}return u.h=1,u.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(u){return u.Ra>>>(u.u&No-1)>>>0}function Q(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>No}function re(u,d){u.u=d,u.h=Q(u)}function ae(u){u.u>=zs&&(e(u.u>=zs),Re(u))}function fe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function pe(u){return ge(u,1)}function be(u,d){var m=u.Ca;0>u.b&&fe(u);var w=u.b,x=m*d>>>8,k=(u.I>>>w>x)+0;for(k?(m-=x,u.I-=x+1<<w>>>0):m=x+1,w=m,x=0;256<=w;)x+=8,w>>=8;return w=7^x+xo[w],u.b-=w,u.Ca=(m<<w)-1,k}function Pe(u,d,m){u[d+0]=m>>24&255,u[d+1]=m>>16&255,u[d+2]=m>>8&255,u[d+3]=255&m}function Fe(u,d){return u[d+0]|u[d+1]<<8}function Oe(u,d){return Fe(u,d)|u[d+2]<<16}function Ke(u,d){return Fe(u,d)|Fe(u,d+2)<<16}function $(u,d){var m=1<<d;return e(u!=null),e(0<d),u.X=s(m),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function De(u,d){e(u!=null),e(d!=null),e(u.Xa==d.Xa),r(d.X,0,u.X,0,1<<d.Xa)}function It(){this.X=[],this.Xa=this.Mb=0}function rt(u,d,m,w){e(m!=null),e(w!=null);var x=m[0],k=w[0];return x==0&&(x=(u*k+d/2)/d),k==0&&(k=(d*x+u/2)/u),0>=x||0>=k?0:(m[0]=x,w[0]=k,1)}function Ne(u,d){return u+(1<<d)-1>>>d}function tt(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function Ue(u,d){A[d]=function(m,w,x,k,O,V,B){var H;for(H=0;H<O;++H){var Z=A[u](V[B+H-1],x,k+H);V[B+H]=tt(m[w+H],Z)}}}function Ze(){this.ud=this.hd=this.jd=0}function Xe(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function Mt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Pt(u,d){return Mt(u+(u-d+.5>>1))}function pt(u,d,m){return Math.abs(d-m)-Math.abs(u-m)}function at(u,d,m,w,x,k,O){for(w=k[O-1],m=0;m<x;++m)k[O+m]=w=tt(u[d+m],w)}function ct(u,d,m,w,x){var k;for(k=0;k<m;++k){var O=u[d+k],V=O>>8&255,B=16711935&(B=(B=16711935&O)+((V<<16)+V));w[x+k]=(4278255360&O)+B>>>0}}function qe(u,d){d.jd=255&u,d.hd=u>>8&255,d.ud=u>>16&255}function vt(u,d,m,w,x,k){var O;for(O=0;O<w;++O){var V=d[m+O],B=V>>>8,H=V,Z=255&(Z=(Z=V>>>16)+((u.jd<<24>>24)*(B<<24>>24)>>>5));H=255&(H=(H+=(u.hd<<24>>24)*(B<<24>>24)>>>5)+((u.ud<<24>>24)*(Z<<24>>24)>>>5)),x[k+O]=(4278255360&V)+(Z<<16)+H}}function Ge(u,d,m,w,x){A[d]=function(k,O,V,B,H,Z,le,G,te){for(B=le;B<G;++B)for(le=0;le<te;++le)H[Z++]=x(V[w(k[O++])])},A[u]=function(k,O,V,B,H,Z,le){var G=8>>k.b,te=k.Ea,se=k.K[0],ve=k.w;if(8>G)for(k=(1<<k.b)-1,ve=(1<<G)-1;O<V;++O){var ue,we=0;for(ue=0;ue<te;++ue)ue&k||(we=w(B[H++])),Z[le++]=x(se[we&ve]),we>>=G}else A["VP8LMapColor"+m](B,H,se,ve,Z,le,O,V,te)}}function In(u,d,m,w,x){for(m=d+m;d<m;){var k=u[d++];w[x++]=k>>16&255,w[x++]=k>>8&255,w[x++]=255&k}}function kt(u,d,m,w,x){for(m=d+m;d<m;){var k=u[d++];w[x++]=k>>16&255,w[x++]=k>>8&255,w[x++]=255&k,w[x++]=k>>24&255}}function Tt(u,d,m,w,x){for(m=d+m;d<m;){var k=(O=u[d++])>>16&240|O>>12&15,O=240&O|O>>28&15;w[x++]=k,w[x++]=O}}function St(u,d,m,w,x){for(m=d+m;d<m;){var k=(O=u[d++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;w[x++]=k,w[x++]=O}}function Xt(u,d,m,w,x){for(m=d+m;d<m;){var k=u[d++];w[x++]=255&k,w[x++]=k>>8&255,w[x++]=k>>16&255}}function et(u,d,m,w,x,k){if(k==0)for(m=d+m;d<m;)Pe(w,((k=u[d++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),x+=32;else r(w,x,u,d,m)}function Qt(u,d){A[d][0]=A[u+"0"],A[d][1]=A[u+"1"],A[d][2]=A[u+"2"],A[d][3]=A[u+"3"],A[d][4]=A[u+"4"],A[d][5]=A[u+"5"],A[d][6]=A[u+"6"],A[d][7]=A[u+"7"],A[d][8]=A[u+"8"],A[d][9]=A[u+"9"],A[d][10]=A[u+"10"],A[d][11]=A[u+"11"],A[d][12]=A[u+"12"],A[d][13]=A[u+"13"],A[d][14]=A[u+"0"],A[d][15]=A[u+"0"]}function it(u){return u==Uf||u==Bf||u==ah||u==jf}function _t(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _t,this.f.kb=new sn,this.sd=null}function nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Sr(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Gn(u,d){var m=u.T,w=d.ba.f.RGBA,x=w.eb,k=w.fb+u.ka*w.A,O=xi[d.ba.S],V=u.y,B=u.O,H=u.f,Z=u.N,le=u.ea,G=u.W,te=d.cc,se=d.dc,ve=d.Mc,ue=d.Nc,we=u.ka,Ie=u.ka+u.T,ke=u.U,Se=ke+1>>1;for(we==0?O(V,B,null,null,H,Z,le,G,H,Z,le,G,x,k,null,null,ke):(O(d.ec,d.fc,V,B,te,se,ve,ue,H,Z,le,G,x,k-w.A,x,k,ke),++m);we+2<Ie;we+=2)te=H,se=Z,ve=le,ue=G,Z+=u.Rc,G+=u.Rc,k+=2*w.A,O(V,(B+=2*u.fa)-u.fa,V,B,te,se,ve,ue,H,Z,le,G,x,k-w.A,x,k,ke);return B+=u.fa,u.j+Ie<u.o?(r(d.ec,d.fc,V,B,ke),r(d.cc,d.dc,H,Z,Se),r(d.Mc,d.Nc,le,G,Se),m--):1&Ie||O(V,B,null,null,H,Z,le,G,H,Z,le,G,x,k+w.A,null,null,ke),m}function Ur(u,d,m){var w=u.F,x=[u.J];if(w!=null){var k=u.U,O=d.ba.S,V=O==oh||O==ah;d=d.ba.f.RGBA;var B=[0],H=u.ka;B[0]=u.T,u.Kb&&(H==0?--B[0]:(--H,x[0]-=u.width),u.j+u.ka+u.T==u.o&&(B[0]=u.o-u.j-H));var Z=d.eb;H=d.fb+H*d.A,u=l2(w,x[0],u.width,k,B,Z,H+(V?0:3),d.A),e(m==B),u&&it(O)&&Mu(Z,H,V,k,B,d.A)}return 0}function Jr(u){var d=u.ma,m=d.ba.S,w=11>m,x=m==ih||m==sh||m==oh||m==Vf||m==12||it(m);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!qs(d.Oa,u,x?11:12))return 0;if(x&&it(m)&&To(),u.da)alert("todo:use_scaling");else{if(w){if(d.Ib=Sr,u.Kb){if(m=u.U+1>>1,d.memory=s(u.U+2*m),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+m,d.Ib=Gn,To()}}else alert("todo:EmitYUV");x&&(d.Jb=Ur,w&&gn())}if(w&&!N2){for(u=0;256>u;++u)xA[u]=89858*(u-128)+uh>>ch,RA[u]=-22014*(u-128)+uh,kA[u]=-45773*(u-128),PA[u]=113618*(u-128)+uh>>ch;for(u=Uu;u<$f;++u)d=76283*(u-16)+uh>>ch,CA[u-Uu]=Zr(d,255),LA[u-Uu]=Zr(d+8>>4,15);N2=1}return 1}function Qe(u){var d=u.ma,m=u.U,w=u.T;return e(!(1&u.ka)),0>=m||0>=w?0:(m=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,m),d.Dc+=m,1)}function vi(u){u.ma.memory=null}function pn(u,d,m,w){return Te(u,8)!=47?0:(d[0]=Te(u,14)+1,m[0]=Te(u,14)+1,w[0]=Te(u,1),Te(u,3)!=0?0:!u.h)}function Nr(u,d){if(4>u)return u+1;var m=u-2>>1;return(2+(1&u)<<m)+Te(d,m)+1}function Zn(u,d){return 120<d?d-120:1<=(m=((m=pA[d-1])>>4)*u+(8-(15&m)))?m:1;var m}function Zt(u,d,m){var w=Y(m),x=u[d+=255&w].g-8;return 0<x&&(re(m,m.u+8),w=Y(m),d+=u[d].value,d+=w&(1<<x)-1),re(m,m.u+u[d].g),u[d].value}function Bn(u,d,m){return m.g+=u.g,m.value+=u.value<<d>>>0,e(8>=m.g),u.g}function Kn(u,d,m){var w=u.xc;return e((d=w==0?0:u.vc[u.md*(m>>w)+(d>>w)])<u.Wb),u.Ya[d]}function Br(u,d,m,w){var x=u.ab,k=u.c*d,O=u.C;d=O+d;var V=m,B=w;for(w=u.Ta,m=u.Ua;0<x--;){var H=u.gc[x],Z=O,le=d,G=V,te=B,se=(B=w,V=m,H.Ea);switch(e(Z<le),e(le<=H.nc),H.hc){case 2:Ln(G,te,(le-Z)*se,B,V);break;case 0:var ve=Z,ue=le,we=B,Ie=V,ke=(We=H).Ea;ve==0&&(Ru(G,te,null,null,1,we,Ie),at(G,te+1,0,0,ke-1,we,Ie+1),te+=ke,Ie+=ke,++ve);for(var Se=1<<We.b,Je=Se-1,je=Ne(ke,We.b),Nt=We.K,We=We.w+(ve>>We.b)*je;ve<ue;){var Ot=Nt,Jn=We,xt=1;for(Ec(G,te,we,Ie-ke,1,we,Ie);xt<ke;){var He=(xt&~Je)+Se;He>ke&&(He=ke),(0,Lu[Ot[Jn++]>>8&15])(G,te+ +xt,we,Ie+xt-ke,He-xt,we,Ie+xt),xt=He}te+=ke,Ie+=ke,++ve&Je||(We+=je)}le!=H.nc&&r(B,V-se,B,V+(le-Z-1)*se,se);break;case 1:for(se=G,ue=te,ke=(G=H.Ea)-(Ie=G&~(we=(te=1<<H.b)-1)),ve=Ne(G,H.b),Se=H.K,H=H.w+(Z>>H.b)*ve;Z<le;){for(Je=Se,je=H,Nt=new Ze,We=ue+Ie,Ot=ue+G;ue<We;)qe(Je[je++],Nt),Du(Nt,se,ue,te,B,V),ue+=te,V+=te;ue<Ot&&(qe(Je[je++],Nt),Du(Nt,se,ue,ke,B,V),ue+=ke,V+=ke),++Z&we||(H+=ve)}break;case 3:if(G==B&&te==V&&0<H.b){for(ue=B,G=se=V+(le-Z)*se-(Ie=(le-Z)*Ne(H.Ea,H.b)),te=B,we=V,ve=[],Ie=(ke=Ie)-1;0<=Ie;--Ie)ve[Ie]=te[we+Ie];for(Ie=ke-1;0<=Ie;--Ie)ue[G+Ie]=ve[Ie];eh(H,Z,le,B,se,B,V)}else eh(H,Z,le,G,te,B,V)}V=w,B=m}B!=m&&r(w,m,V,B,k)}function es(u,d){var m=u.V,w=u.Ba+u.c*u.C,x=d-u.C;if(e(d<=u.l.o),e(16>=x),0<x){var k=u.l,O=u.Ta,V=u.Ua,B=k.width;if(Br(u,x,m,w),x=V=[V],e((m=u.C)<(w=d)),e(k.v<k.va),w>k.o&&(w=k.o),m<k.j){var H=k.j-m;m=k.j,x[0]+=H*B}if(m>=w?m=0:(x[0]+=4*k.v,k.ka=m-k.j,k.U=k.va-k.v,k.T=w-m,m=1),m){if(V=V[0],11>(m=u.ca).S){var Z=m.f.RGBA,le=(w=m.S,x=k.U,k=k.T,H=Z.eb,Z.A),G=k;for(Z=Z.fb+u.Ma*Z.A;0<G--;){var te=O,se=V,ve=x,ue=H,we=Z;switch(w){case rh:Ou(te,se,ve,ue,we);break;case ih:Po(te,se,ve,ue,we);break;case Uf:Po(te,se,ve,ue,we),Mu(ue,we,0,ve,1,0);break;case _2:Sa(te,se,ve,ue,we);break;case sh:et(te,se,ve,ue,we,1);break;case Bf:et(te,se,ve,ue,we,1),Mu(ue,we,0,ve,1,0);break;case oh:et(te,se,ve,ue,we,0);break;case ah:et(te,se,ve,ue,we,0),Mu(ue,we,1,ve,1,0);break;case Vf:ko(te,se,ve,ue,we);break;case jf:ko(te,se,ve,ue,we),u2(ue,we,ve,1,0);break;case v2:Ro(te,se,ve,ue,we);break;default:e(0)}V+=B,Z+=le}u.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=m.height)}}u.C=d,e(u.C<=u.i)}function Xr(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var m=u.Ya[d].G,w=u.Ya[d].H;if(0<m[1][w[1]+0].g||0<m[2][w[2]+0].g||0<m[3][w[3]+0].g)return 0}return 1}function xr(u,d,m,w,x,k){if(u.Z!=0){var O=u.qd,V=u.rd;for(e(Do[u.Z]!=null);d<m;++d)Do[u.Z](O,V,w,x,w,x,k),O=w,V=x,x+=k;u.qd=O,u.rd=V}}function jr(u,d){var m=u.l.ma,w=m.Z==0||m.Z==1?u.l.j:u.C;if(w=u.C<w?w:u.C,e(d<=u.l.o),d>w){var x=u.l.width,k=m.ca,O=m.tb+x*w,V=u.V,B=u.Ba+u.c*w,H=u.gc;e(u.ab==1),e(H[0].hc==3),us(H[0],w,d,V,B,k,O),xr(m,w,d,k,O,x)}u.C=u.Ma=d}function Pr(u,d,m,w,x,k,O){var V=u.$/w,B=u.$%w,H=u.m,Z=u.s,le=m+u.$,G=le;x=m+w*x;var te=m+w*k,se=280+Z.ua,ve=u.Pb?V:16777216,ue=0<Z.ua?Z.Wa:null,we=Z.wc,Ie=le<te?Kn(Z,B,V):null;e(u.C<k),e(te<=x);var ke=!1;e:for(;;){for(;ke||le<te;){var Se=0;if(V>=ve){var Je=le-m;e((ve=u).Pb),ve.wd=ve.m,ve.xd=Je,0<ve.s.ua&&De(ve.s.Wa,ve.s.vb),ve=V+mA}if(B&we||(Ie=Kn(Z,B,V)),e(Ie!=null),Ie.Qb&&(d[le]=Ie.qb,ke=!0),!ke)if(ae(H),Ie.jc){Se=H,Je=d;var je=le,Nt=Ie.pd[Y(Se)&Ta-1];e(Ie.jc),256>Nt.g?(re(Se,Se.u+Nt.g),Je[je]=Nt.value,Se=0):(re(Se,Se.u+Nt.g-256),e(256<=Nt.value),Se=Nt.value),Se==0&&(ke=!0)}else Se=Zt(Ie.G[0],Ie.H[0],H);if(H.h)break;if(ke||256>Se){if(!ke)if(Ie.nd)d[le]=(Ie.qb|Se<<8)>>>0;else{if(ae(H),ke=Zt(Ie.G[1],Ie.H[1],H),ae(H),Je=Zt(Ie.G[2],Ie.H[2],H),je=Zt(Ie.G[3],Ie.H[3],H),H.h)break;d[le]=(je<<24|ke<<16|Se<<8|Je)>>>0}if(ke=!1,++le,++B>=w&&(B=0,++V,O!=null&&V<=k&&!(V%16)&&O(u,V),ue!=null))for(;G<le;)Se=d[G++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se}else if(280>Se){if(Se=Nr(Se-256,H),Je=Zt(Ie.G[4],Ie.H[4],H),ae(H),Je=Zn(w,Je=Nr(Je,H)),H.h)break;if(le-m<Je||x-le<Se)break e;for(je=0;je<Se;++je)d[le+je]=d[le+je-Je];for(le+=Se,B+=Se;B>=w;)B-=w,++V,O!=null&&V<=k&&!(V%16)&&O(u,V);if(e(le<=x),B&we&&(Ie=Kn(Z,B,V)),ue!=null)for(;G<le;)Se=d[G++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se}else{if(!(Se<se))break e;for(ke=Se-280,e(ue!=null);G<le;)Se=d[G++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se;Se=le,e(!(ke>>>(Je=ue).Xa)),d[Se]=Je.X[ke],ke=!0}ke||e(H.h==Q(H))}if(u.Pb&&H.h&&le<x)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&De(u.s.vb,u.s.Wa);else{if(H.h)break e;O?.(u,V>k?k:V),u.a=0,u.$=le-m}return 1}return u.a=3,0}function ar(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,e(u!=null)}function gr(){var u=new lt;return u==null?null:(u.a=0,u.xb=b2,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),Ln=ct,Du=vt,Ou=In,Po=kt,ko=Tt,Ro=St,Sa=Xt,A.VP8LMapColor32b=cs,A.VP8LMapColor8b=Cu,u)}function Qr(u,d,m,w,x){var k=1,O=[u],V=[d],B=w.m,H=w.s,Z=null,le=0;e:for(;;){if(m)for(;k&&Te(B,1);){var G=O,te=V,se=w,ve=1,ue=se.m,we=se.gc[se.ab],Ie=Te(ue,2);if(se.Oc&1<<Ie)k=0;else{switch(se.Oc|=1<<Ie,we.hc=Ie,we.Ea=G[0],we.nc=te[0],we.K=[null],++se.ab,e(4>=se.ab),Ie){case 0:case 1:we.b=Te(ue,3)+2,ve=Qr(Ne(we.Ea,we.b),Ne(we.nc,we.b),0,se,we.K),we.K=we.K[0];break;case 3:var ke,Se=Te(ue,8)+1,Je=16<Se?0:4<Se?1:2<Se?2:3;if(G[0]=Ne(we.Ea,Je),we.b=Je,ke=ve=Qr(Se,1,0,se,we.K)){var je,Nt=Se,We=we,Ot=1<<(8>>We.b),Jn=s(Ot);if(Jn==null)ke=0;else{var xt=We.K[0],He=We.w;for(Jn[0]=We.K[0][0],je=1;je<1*Nt;++je)Jn[je]=tt(xt[He+je],Jn[je-1]);for(;je<4*Ot;++je)Jn[je]=0;We.K[0]=null,We.K[0]=Jn,ke=1}}ve=ke;break;case 2:break;default:e(0)}k=ve}}if(O=O[0],V=V[0],k&&Te(B,1)&&!(k=1<=(le=Te(B,4))&&11>=le)){w.a=3;break e}var Le;if(Le=k)t:{var On,At,Ut,mn=w,ur=O,Lr=V,xn=le,vr=m,Dr=mn.m,Xn=mn.s,qt=[null],Yt=1,Pn=0,Jt=gA[xn];n:for(;;){if(vr&&Te(Dr,1)){var lr=Te(Dr,3)+2,ji=Ne(ur,lr),Fn=Ne(Lr,lr),Wr=ji*Fn;if(!Qr(ji,Fn,0,mn,qt))break n;for(qt=qt[0],Xn.xc=lr,On=0;On<Wr;++On){var an=qt[On]>>8&65535;qt[On]=an,an>=Yt&&(Yt=an+1)}}if(Dr.h)break n;for(At=0;5>At;++At){var Qn=y2[At];!At&&0<xn&&(Qn+=1<<xn),Pn<Qn&&(Pn=Qn)}var ai=o(Yt*Jt,S),Or=Yt,ci=o(Or,he);if(ci==null)var ui=null;else e(65536>=Or),ui=ci;var Hr=s(Pn);if(ui==null||Hr==null||ai==null){mn.a=1;break n}var li=ai;for(On=Ut=0;On<Yt;++On){var fn=ui[On],hi=fn.G,qi=fn.H,xa=0,Hs=1,hr=0;for(At=0;5>At;++At){Qn=y2[At],hi[At]=li,qi[At]=Ut,!At&&0<xn&&(Qn+=1<<xn);i:{var hh,Wf=Qn,dh=mn,Bu=Hr,FA=li,MA=Ut,Hf=0,Oo=dh.m,VA=Te(Oo,1);if(i(Bu,0,0,Wf),VA){var UA=Te(Oo,1)+1,BA=Te(Oo,1),k2=Te(Oo,BA==0?1:8);Bu[k2]=1,UA==2&&(Bu[k2=Te(Oo,8)]=1);var fh=1}else{var R2=s(19),C2=Te(Oo,4)+4;if(19<C2){dh.a=3;var ph=0;break i}for(hh=0;hh<C2;++hh)R2[fA[hh]]=Te(Oo,3);var Gf=void 0,ju=void 0,L2=dh,jA=R2,gh=Wf,D2=Bu,Kf=0,Fo=L2.m,O2=8,F2=o(128,S);r:for(;E(F2,0,7,jA,19);){if(Te(Fo,1)){var qA=2+2*Te(Fo,3);if((Gf=2+Te(Fo,qA))>gh)break r}else Gf=gh;for(ju=0;ju<gh&&Gf--;){ae(Fo);var M2=F2[0+(127&Y(Fo))];re(Fo,Fo.u+M2.g);var Sc=M2.value;if(16>Sc)D2[ju++]=Sc,Sc!=0&&(O2=Sc);else{var zA=Sc==16,V2=Sc-16,$A=hA[V2],U2=Te(Fo,lA[V2])+$A;if(ju+U2>gh)break r;for(var WA=zA?O2:0;0<U2--;)D2[ju++]=WA}}Kf=1;break r}Kf||(L2.a=3),fh=Kf}(fh=fh&&!Oo.h)&&(Hf=E(FA,MA,8,Bu,Wf)),fh&&Hf!=0?ph=Hf:(dh.a=3,ph=0)}if(ph==0)break n;if(Hs&&dA[At]==1&&(Hs=li[Ut].g==0),xa+=li[Ut].g,Ut+=ph,3>=At){var qu,Yf=Hr[0];for(qu=1;qu<Qn;++qu)Hr[qu]>Yf&&(Yf=Hr[qu]);hr+=Yf}}if(fn.nd=Hs,fn.Qb=0,Hs&&(fn.qb=(hi[3][qi[3]+0].value<<24|hi[1][qi[1]+0].value<<16|hi[2][qi[2]+0].value)>>>0,xa==0&&256>hi[0][qi[0]+0].value&&(fn.Qb=1,fn.qb+=hi[0][qi[0]+0].value<<8)),fn.jc=!fn.Qb&&6>hr,fn.jc){var mh,Gs=fn;for(mh=0;mh<Ta;++mh){var Mo=mh,Vo=Gs.pd[Mo],_h=Gs.G[0][Gs.H[0]+Mo];256<=_h.value?(Vo.g=_h.g+256,Vo.value=_h.value):(Vo.g=0,Vo.value=0,Mo>>=Bn(_h,8,Vo),Mo>>=Bn(Gs.G[1][Gs.H[1]+Mo],16,Vo),Mo>>=Bn(Gs.G[2][Gs.H[2]+Mo],0,Vo),Bn(Gs.G[3][Gs.H[3]+Mo],24,Vo))}}}Xn.vc=qt,Xn.Wb=Yt,Xn.Ya=ui,Xn.yc=ai,Le=1;break t}Le=0}if(!(k=Le)){w.a=3;break e}if(0<le){if(H.ua=1<<le,!$(H.Wa,le)){w.a=1,k=0;break e}}else H.ua=0;var Jf=w,B2=O,HA=V,Xf=Jf.s,Qf=Xf.xc;if(Jf.c=B2,Jf.i=HA,Xf.md=Ne(B2,Qf),Xf.wc=Qf==0?-1:(1<<Qf)-1,m){w.xb=AA;break e}if((Z=s(O*V))==null){w.a=1,k=0;break e}k=(k=Pr(w,Z,0,O,V,V,null))&&!B.h;break e}return k?(x!=null?x[0]=Z:(e(Z==null),e(m)),w.$=0,m||ar(H)):ar(H),k}function ts(u,d){var m=u.c*u.i,w=m+d+16*d;return e(u.c<=d),u.V=s(w),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+m+d,1)}function ns(u,d){var m=u.C,w=d-m,x=u.V,k=u.Ba+u.c*m;for(e(d<=u.l.o);0<w;){var O=16<w?16:w,V=u.l.ma,B=u.l.width,H=B*O,Z=V.ca,le=V.tb+B*m,G=u.Ta,te=u.Ua;Br(u,O,x,k),h2(G,te,Z,le,H),xr(V,m,m+O,Z,le,B),w-=O,x+=O*u.c,m+=O}e(m==d),u.C=u.Ma=d}function rs(){this.ub=this.yd=this.td=this.Rb=0}function Ls(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _c(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ga(){this.Yb=(function(){var u=[];return(function d(m,w,x){for(var k=x[w],O=0;O<k&&(m.push(x.length>w+1?[]:0),!(x.length<w+1));O++)d(m[O],w+1,x)})(u,0,[3,11]),u})()}function Ds(){this.jb=s(3),this.Wc=a([4,8],ga),this.Xc=a([4,17],ga)}function ma(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function mr(){this.ld=this.La=this.dd=this.tc=0}function Di(){this.Na=this.la=0}function yi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Os(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vc(){this.uc=this.M=this.Nb=0,this.wa=Array(new mr),this.Y=0,this.ya=Array(new Os),this.aa=0,this.l=new is}function _a(){this.y=s(16),this.f=s(8),this.ea=s(8)}function va(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new rs,this.Kc=new Ls,this.ed=new ma,this.Qa=new _c,this.Ic=this.$c=this.Aa=0,this.D=new vc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,yi),this.Pa=new Ds,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _a),this.Hd=0,this.rb=Array(new Di),this.sb=0,this.wa=Array(new mr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Os),this.L=this.aa=0,this.gd=a([4,2],mr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zr(u,d){return 0>u?0:u>d?d:u}function is(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ya(){var u=new va;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Vu||(Vu=vo)),u}function An(u,d,m){return u.a==0&&(u.a=d,u.sc=m,u.cb=0),0}function wa(u,d,m){return 3<=m&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function wi(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return An(u,2,"null VP8Io passed to VP8GetHeaders()");var m=d.data,w=d.w,x=d.ha;if(4>x)return An(u,7,"Truncated header.");var k=m[w+0]|m[w+1]<<8|m[w+2]<<16,O=u.Od;if(O.Rb=!(1&k),O.td=k>>1&7,O.yd=k>>4&1,O.ub=k>>5,3<O.td)return An(u,3,"Incorrect keyframe parameters.");if(!O.yd)return An(u,4,"Frame not displayable.");w+=3,x-=3;var V=u.Kc;if(O.Rb){if(7>x)return An(u,7,"cannot parse picture header");if(!wa(m,w,x))return An(u,3,"Bad code word");V.c=16383&(m[w+4]<<8|m[w+3]),V.Td=m[w+4]>>6,V.i=16383&(m[w+6]<<8|m[w+5]),V.Ud=m[w+6]>>6,w+=7,x-=7,u.za=V.c+15>>4,u.Ub=V.i+15>>4,d.width=V.c,d.height=V.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((k=u.Pa).jb,0,255,k.jb.length),e((k=u.Qa)!=null),k.Cb=0,k.Bb=0,k.Fb=1,i(k.Zb,0,0,k.Zb.length),i(k.Lb,0,0,k.Lb)}if(O.ub>x)return An(u,7,"bad partition length");me(k=u.m,m,w,O.ub),w+=O.ub,x-=O.ub,O.Rb&&(V.Ld=pe(k),V.Kd=pe(k)),V=u.Qa;var B,H=u.Pa;if(e(k!=null),e(V!=null),V.Cb=pe(k),V.Cb){if(V.Bb=pe(k),pe(k)){for(V.Fb=pe(k),B=0;4>B;++B)V.Zb[B]=pe(k)?ce(k,7):0;for(B=0;4>B;++B)V.Lb[B]=pe(k)?ce(k,6):0}if(V.Bb)for(B=0;3>B;++B)H.jb[B]=pe(k)?ge(k,8):255}else V.Bb=0;if(k.Ka)return An(u,3,"cannot parse segment header");if((V=u.ed).zd=pe(k),V.Tb=ge(k,6),V.wb=ge(k,3),V.Pc=pe(k),V.Pc&&pe(k)){for(H=0;4>H;++H)pe(k)&&(V.vd[H]=ce(k,6));for(H=0;4>H;++H)pe(k)&&(V.od[H]=ce(k,6))}if(u.L=V.Tb==0?0:V.zd?1:2,k.Ka)return An(u,3,"cannot parse filter header");var Z=x;if(x=B=w,w=B+Z,V=Z,u.Xb=(1<<ge(u.m,2))-1,Z<3*(H=u.Xb))m=7;else{for(B+=3*H,V-=3*H,Z=0;Z<H;++Z){var le=m[x+0]|m[x+1]<<8|m[x+2]<<16;le>V&&(le=V),me(u.Jc[+Z],m,B,le),B+=le,V-=le,x+=3}me(u.Jc[+H],m,B,V),m=B<w?0:5}if(m!=0)return An(u,m,"cannot parse partitions");for(m=ge(B=u.m,7),x=pe(B)?ce(B,4):0,w=pe(B)?ce(B,4):0,V=pe(B)?ce(B,4):0,H=pe(B)?ce(B,4):0,B=pe(B)?ce(B,4):0,Z=u.Qa,le=0;4>le;++le){if(Z.Cb){var G=Z.Zb[le];Z.Fb||(G+=m)}else{if(0<le){u.pb[le]=u.pb[0];continue}G=m}var te=u.pb[le];te.Sc[0]=qf[Zr(G+x,127)],te.Sc[1]=zf[Zr(G+0,127)],te.Eb[0]=2*qf[Zr(G+w,127)],te.Eb[1]=101581*zf[Zr(G+V,127)]>>16,8>te.Eb[1]&&(te.Eb[1]=8),te.Qc[0]=qf[Zr(G+H,117)],te.Qc[1]=zf[Zr(G+B,127)],te.lc=G+B}if(!O.Rb)return An(u,4,"Not a key frame.");for(pe(k),O=u.Pa,m=0;4>m;++m){for(x=0;8>x;++x)for(w=0;3>w;++w)for(V=0;11>V;++V)H=be(k,bA[m][x][w][V])?ge(k,8):yA[m][x][w][V],O.Wc[m][x].Yb[w][V]=H;for(x=0;17>x;++x)O.Xc[m][x]=O.Wc[m][IA[x]]}return u.kc=pe(k),u.kc&&(u.Bd=ge(k,8)),u.cb=1}function vo(u,d,m,w,x,k,O){var V=d[x].Yb[m];for(m=0;16>x;++x){if(!be(u,V[m+0]))return x;for(;!be(u,V[m+1]);)if(V=d[++x].Yb[0],m=0,x==16)return 16;var B=d[x+1].Yb;if(be(u,V[m+2])){var H=u,Z=0;if(be(H,(G=V)[(le=m)+3]))if(be(H,G[le+6])){for(V=0,le=2*(Z=be(H,G[le+8]))+(G=be(H,G[le+9+Z])),Z=0,G=_A[le];G[V];++V)Z+=Z+be(H,G[V]);Z+=3+(8<<le)}else be(H,G[le+7])?(Z=7+2*be(H,165),Z+=be(H,145)):Z=5+be(H,159);else Z=be(H,G[le+4])?3+be(H,G[le+5]):2;V=B[2]}else Z=1,V=B[1];B=O+vA[x],0>(H=u).b&&fe(H);var le,G=H.b,te=(le=H.Ca>>1)-(H.I>>G)>>31;--H.b,H.Ca+=te,H.Ca|=1,H.I-=(le+1&te)<<G,k[B]=((Z^te)-te)*w[(0<x)+0]}return 16}function ba(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function kr(u,d,m,w,x){x=u[d+m+32*w]+(x>>3),u[d+m+32*w]=-256&x?0>x?0:255:x}function Cn(u,d,m,w,x,k){kr(u,d,0,m,w+x),kr(u,d,1,m,w+k),kr(u,d,2,m,w-k),kr(u,d,3,m,w-x)}function cr(u){return(20091*u>>16)+u}function qr(u,d,m,w){var x,k=0,O=s(16);for(x=0;4>x;++x){var V=u[d+0]+u[d+8],B=u[d+0]-u[d+8],H=(35468*u[d+4]>>16)-cr(u[d+12]),Z=cr(u[d+4])+(35468*u[d+12]>>16);O[k+0]=V+Z,O[k+1]=B+H,O[k+2]=B-H,O[k+3]=V-Z,k+=4,d++}for(x=k=0;4>x;++x)V=(u=O[k+0]+4)+O[k+8],B=u-O[k+8],H=(35468*O[k+4]>>16)-cr(O[k+12]),kr(m,w,0,0,V+(Z=cr(O[k+4])+(35468*O[k+12]>>16))),kr(m,w,1,0,B+H),kr(m,w,2,0,B-H),kr(m,w,3,0,V-Z),k++,w+=32}function yo(u,d,m,w){var x=u[d+0]+4,k=35468*u[d+4]>>16,O=cr(u[d+4]),V=35468*u[d+1]>>16;Cn(m,w,0,x+O,u=cr(u[d+1]),V),Cn(m,w,1,x+k,u,V),Cn(m,w,2,x-k,u,V),Cn(m,w,3,x-O,u,V)}function wo(u,d,m,w,x){qr(u,d,m,w),x&&qr(u,d+16,m,w+4)}function ei(u,d,m,w){Na(u,d+0,m,w,1),Na(u,d+32,m,w+128,1)}function Wt(u,d,m,w){var x;for(u=u[d+0]+4,x=0;4>x;++x)for(d=0;4>d;++d)kr(m,w,d,x,u)}function Fs(u,d,m,w){u[d+0]&&Ht(u,d+0,m,w),u[d+16]&&Ht(u,d+16,m,w+4),u[d+32]&&Ht(u,d+32,m,w+128),u[d+48]&&Ht(u,d+48,m,w+128+4)}function bi(u,d,m,w){var x,k=s(16);for(x=0;4>x;++x){var O=u[d+0+x]+u[d+12+x],V=u[d+4+x]+u[d+8+x],B=u[d+4+x]-u[d+8+x],H=u[d+0+x]-u[d+12+x];k[0+x]=O+V,k[8+x]=O-V,k[4+x]=H+B,k[12+x]=H-B}for(x=0;4>x;++x)O=(u=k[0+4*x]+3)+k[3+4*x],V=k[1+4*x]+k[2+4*x],B=k[1+4*x]-k[2+4*x],H=u-k[3+4*x],m[w+0]=O+V>>3,m[w+16]=H+B>>3,m[w+32]=O-V>>3,m[w+48]=H-B>>3,w+=64}function ti(u,d,m){var w,x=d-32,k=oi,O=255-u[x-1];for(w=0;w<m;++w){var V,B=k,H=O+u[d-1];for(V=0;V<m;++V)u[d+V]=B[H+u[x+V]];d+=32}}function Eu(u,d){ti(u,d,4)}function yc(u,d){ti(u,d,8)}function Tu(u,d){ti(u,d,16)}function Ia(u,d){var m;for(m=0;16>m;++m)r(u,d+32*m,u,d-32,16)}function wc(u,d){var m;for(m=16;0<m;--m)i(u,d,u[d-1],16),d+=32}function ni(u,d,m){var w;for(w=0;16>w;++w)i(d,m+32*w,u,16)}function Ms(u,d){var m,w=16;for(m=0;16>m;++m)w+=u[d-1+32*m]+u[d+m-32];ni(w>>5,u,d)}function _r(u,d){var m,w=8;for(m=0;16>m;++m)w+=u[d-1+32*m];ni(w>>4,u,d)}function bo(u,d){var m,w=8;for(m=0;16>m;++m)w+=u[d+m-32];ni(w>>4,u,d)}function bc(u,d){ni(128,u,d)}function dt(u,d,m){return u+2*d+m+2>>2}function ss(u,d){var m,w=d-32;for(w=new Uint8Array([dt(u[w-1],u[w+0],u[w+1]),dt(u[w+0],u[w+1],u[w+2]),dt(u[w+1],u[w+2],u[w+3]),dt(u[w+2],u[w+3],u[w+4])]),m=0;4>m;++m)r(u,d+32*m,w,0,w.length)}function Su(u,d){var m=u[d-1],w=u[d-1+32],x=u[d-1+64],k=u[d-1+96];Pe(u,d+0,16843009*dt(u[d-1-32],m,w)),Pe(u,d+32,16843009*dt(m,w,x)),Pe(u,d+64,16843009*dt(w,x,k)),Pe(u,d+96,16843009*dt(x,k,k))}function Nu(u,d){var m,w=4;for(m=0;4>m;++m)w+=u[d+m-32]+u[d-1+32*m];for(w>>=3,m=0;4>m;++m)i(u,d+32*m,w,4)}function Oi(u,d){var m=u[d-1+0],w=u[d-1+32],x=u[d-1+64],k=u[d-1-32],O=u[d+0-32],V=u[d+1-32],B=u[d+2-32],H=u[d+3-32];u[d+0+96]=dt(w,x,u[d-1+96]),u[d+1+96]=u[d+0+64]=dt(m,w,x),u[d+2+96]=u[d+1+64]=u[d+0+32]=dt(k,m,w),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=dt(O,k,m),u[d+3+64]=u[d+2+32]=u[d+1+0]=dt(V,O,k),u[d+3+32]=u[d+2+0]=dt(B,V,O),u[d+3+0]=dt(H,B,V)}function er(u,d){var m=u[d+1-32],w=u[d+2-32],x=u[d+3-32],k=u[d+4-32],O=u[d+5-32],V=u[d+6-32],B=u[d+7-32];u[d+0+0]=dt(u[d+0-32],m,w),u[d+1+0]=u[d+0+32]=dt(m,w,x),u[d+2+0]=u[d+1+32]=u[d+0+64]=dt(w,x,k),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=dt(x,k,O),u[d+3+32]=u[d+2+64]=u[d+1+96]=dt(k,O,V),u[d+3+64]=u[d+2+96]=dt(O,V,B),u[d+3+96]=dt(V,B,B)}function xu(u,d){var m=u[d-1+0],w=u[d-1+32],x=u[d-1+64],k=u[d-1-32],O=u[d+0-32],V=u[d+1-32],B=u[d+2-32],H=u[d+3-32];u[d+0+0]=u[d+1+64]=k+O+1>>1,u[d+1+0]=u[d+2+64]=O+V+1>>1,u[d+2+0]=u[d+3+64]=V+B+1>>1,u[d+3+0]=B+H+1>>1,u[d+0+96]=dt(x,w,m),u[d+0+64]=dt(w,m,k),u[d+0+32]=u[d+1+96]=dt(m,k,O),u[d+1+32]=u[d+2+96]=dt(k,O,V),u[d+2+32]=u[d+3+96]=dt(O,V,B),u[d+3+32]=dt(V,B,H)}function Pu(u,d){var m=u[d+0-32],w=u[d+1-32],x=u[d+2-32],k=u[d+3-32],O=u[d+4-32],V=u[d+5-32],B=u[d+6-32],H=u[d+7-32];u[d+0+0]=m+w+1>>1,u[d+1+0]=u[d+0+64]=w+x+1>>1,u[d+2+0]=u[d+1+64]=x+k+1>>1,u[d+3+0]=u[d+2+64]=k+O+1>>1,u[d+0+32]=dt(m,w,x),u[d+1+32]=u[d+0+96]=dt(w,x,k),u[d+2+32]=u[d+1+96]=dt(x,k,O),u[d+3+32]=u[d+2+96]=dt(k,O,V),u[d+3+64]=dt(O,V,B),u[d+3+96]=dt(V,B,H)}function Ii(u,d){var m=u[d-1+0],w=u[d-1+32],x=u[d-1+64],k=u[d-1+96];u[d+0+0]=m+w+1>>1,u[d+2+0]=u[d+0+32]=w+x+1>>1,u[d+2+32]=u[d+0+64]=x+k+1>>1,u[d+1+0]=dt(m,w,x),u[d+3+0]=u[d+1+32]=dt(w,x,k),u[d+3+32]=u[d+1+64]=dt(x,k,k),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=k}function os(u,d){var m=u[d-1+0],w=u[d-1+32],x=u[d-1+64],k=u[d-1+96],O=u[d-1-32],V=u[d+0-32],B=u[d+1-32],H=u[d+2-32];u[d+0+0]=u[d+2+32]=m+O+1>>1,u[d+0+32]=u[d+2+64]=w+m+1>>1,u[d+0+64]=u[d+2+96]=x+w+1>>1,u[d+0+96]=k+x+1>>1,u[d+3+0]=dt(V,B,H),u[d+2+0]=dt(O,V,B),u[d+1+0]=u[d+3+32]=dt(m,O,V),u[d+1+32]=u[d+3+64]=dt(w,m,O),u[d+1+64]=u[d+3+96]=dt(x,w,m),u[d+1+96]=dt(k,x,w)}function as(u,d){var m;for(m=0;8>m;++m)r(u,d+32*m,u,d-32,8)}function Vs(u,d){var m;for(m=0;8>m;++m)i(u,d,u[d-1],8),d+=32}function Rr(u,d,m){var w;for(w=0;8>w;++w)i(d,m+32*w,u,8)}function Ic(u,d){var m,w=8;for(m=0;8>m;++m)w+=u[d+m-32]+u[d-1+32*m];Rr(w>>4,u,d)}function Us(u,d){var m,w=4;for(m=0;8>m;++m)w+=u[d+m-32];Rr(w>>3,u,d)}function en(u,d){var m,w=4;for(m=0;8>m;++m)w+=u[d-1+32*m];Rr(w>>3,u,d)}function Ac(u,d){Rr(128,u,d)}function Fi(u,d,m){var w=u[d-m],x=u[d+0],k=3*(x-w)+Mf[1020+u[d-2*m]-u[d+m]],O=nh[112+(k+4>>3)];u[d-m]=oi[255+w+nh[112+(k+3>>3)]],u[d+0]=oi[255+x-O]}function Io(u,d,m,w){var x=u[d+0],k=u[d+m];return Ni[255+u[d-2*m]-u[d-m]]>w||Ni[255+k-x]>w}function Bs(u,d,m,w){return 4*Ni[255+u[d-m]-u[d+0]]+Ni[255+u[d-2*m]-u[d+m]]<=w}function Ao(u,d,m,w,x){var k=u[d-3*m],O=u[d-2*m],V=u[d-m],B=u[d+0],H=u[d+m],Z=u[d+2*m],le=u[d+3*m];return 4*Ni[255+V-B]+Ni[255+O-H]>w?0:Ni[255+u[d-4*m]-k]<=x&&Ni[255+k-O]<=x&&Ni[255+O-V]<=x&&Ni[255+le-Z]<=x&&Ni[255+Z-H]<=x&&Ni[255+H-B]<=x}function Ai(u,d,m,w){var x=2*w+1;for(w=0;16>w;++w)Bs(u,d+w,m,x)&&Fi(u,d+w,m)}function Eo(u,d,m,w){var x=2*w+1;for(w=0;16>w;++w)Bs(u,d+w*m,1,x)&&Fi(u,d+w*m,1)}function zr(u,d,m,w){var x;for(x=3;0<x;--x)Ai(u,d+=4*m,m,w)}function Aa(u,d,m,w){var x;for(x=3;0<x;--x)Eo(u,d+=4,m,w)}function Mi(u,d,m,w,x,k,O,V){for(k=2*k+1;0<x--;){if(Ao(u,d,m,k,O))if(Io(u,d,m,V))Fi(u,d,m);else{var B=u,H=d,Z=m,le=B[H-2*Z],G=B[H-Z],te=B[H+0],se=B[H+Z],ve=B[H+2*Z],ue=27*(Ie=Mf[1020+3*(te-G)+Mf[1020+le-se]])+63>>7,we=18*Ie+63>>7,Ie=9*Ie+63>>7;B[H-3*Z]=oi[255+B[H-3*Z]+Ie],B[H-2*Z]=oi[255+le+we],B[H-Z]=oi[255+G+ue],B[H+0]=oi[255+te-ue],B[H+Z]=oi[255+se-we],B[H+2*Z]=oi[255+ve-Ie]}d+=w}}function Cr(u,d,m,w,x,k,O,V){for(k=2*k+1;0<x--;){if(Ao(u,d,m,k,O))if(Io(u,d,m,V))Fi(u,d,m);else{var B=u,H=d,Z=m,le=B[H-Z],G=B[H+0],te=B[H+Z],se=nh[112+(4+(ve=3*(G-le))>>3)],ve=nh[112+(ve+3>>3)],ue=se+1>>1;B[H-2*Z]=oi[255+B[H-2*Z]+ue],B[H-Z]=oi[255+le+ve],B[H+0]=oi[255+G-se],B[H+Z]=oi[255+te-ue]}d+=w}}function Ea(u,d,m,w,x,k){Mi(u,d,m,1,16,w,x,k)}function Vi(u,d,m,w,x,k){Mi(u,d,1,m,16,w,x,k)}function js(u,d,m,w,x,k){var O;for(O=3;0<O;--O)Cr(u,d+=4*m,m,1,16,w,x,k)}function p(u,d,m,w,x,k){var O;for(O=3;0<O;--O)Cr(u,d+=4,1,m,16,w,x,k)}function N(u,d,m,w,x,k,O,V){Mi(u,d,x,1,8,k,O,V),Mi(m,w,x,1,8,k,O,V)}function W(u,d,m,w,x,k,O,V){Mi(u,d,1,x,8,k,O,V),Mi(m,w,1,x,8,k,O,V)}function X(u,d,m,w,x,k,O,V){Cr(u,d+4*x,x,1,8,k,O,V),Cr(m,w+4*x,x,1,8,k,O,V)}function ie(u,d,m,w,x,k,O,V){Cr(u,d+4,1,x,8,k,O,V),Cr(m,w+4,1,x,8,k,O,V)}function ye(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ee(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Be(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $e(){this.ua=0,this.Wa=new It,this.vb=new It,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new S}function lt(){this.xb=this.a=0,this.l=new is,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $e,this.ab=0,this.gc=o(4,Be),this.Oc=0}function gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new is,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lt(u,d,m,w,x,k,O){for(u=u==null?0:u[d+0],d=0;d<O;++d)x[k+d]=u+m[w+d]&255,u=x[k+d]}function hn(u,d,m,w,x,k,O){var V;if(u==null)Lt(null,null,m,w,x,k,O);else for(V=0;V<O;++V)x[k+V]=u[d+V]+m[w+V]&255}function tn(u,d,m,w,x,k,O){if(u==null)Lt(null,null,m,w,x,k,O);else{var V,B=u[d+0],H=B,Z=B;for(V=0;V<O;++V)H=Z+(B=u[d+V])-H,Z=m[w+V]+(-256&H?0>H?0:255:H)&255,H=B,x[k+V]=Z}}function Kt(u,d,m,w){var x=d.width,k=d.o;if(e(u!=null&&d!=null),0>m||0>=w||m+w>k)return null;if(!u.Cc){if(u.ga==null){var O;if(u.ga=new gt,(O=u.ga==null)||(O=d.width*d.o,e(u.Gb.length==0),u.Gb=s(O),u.Uc=0,u.Gb==null?O=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,O=1),O=!O),!O){O=u.ga;var V=u.Fa,B=u.P,H=u.qc,Z=u.mb,le=u.nb,G=B+1,te=H-1,se=O.l;if(e(V!=null&&Z!=null&&d!=null),Do[0]=null,Do[1]=Lt,Do[2]=hn,Do[3]=tn,O.ca=Z,O.tb=le,O.c=d.width,O.i=d.height,e(0<O.c&&0<O.i),1>=H)d=0;else if(O.$a=3&V[B+0],O.Z=V[B+0]>>2&3,O.Lc=V[B+0]>>4&3,B=V[B+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||B)d=0;else if(se.put=Qe,se.ac=Jr,se.bc=vi,se.ma=O,se.width=d.width,se.height=d.height,se.Da=d.Da,se.v=d.v,se.va=d.va,se.j=d.j,se.o=d.o,O.$a)e:{e(O.$a==1),d=gr();t:for(;;){if(d==null){d=0;break e}if(e(O!=null),O.mc=d,d.c=O.c,d.i=O.i,d.l=O.l,d.l.ma=O,d.l.width=O.c,d.l.height=O.i,d.a=0,_e(d.m,V,G,te),!Qr(O.c,O.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&Xr(d.s)?(O.ic=1,V=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(V),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(O.ic=0,d=ts(d,O.c)),!d))break t;d=1;break e}O.mc=null,d=0}else d=te>=O.c*O.i;O=!d}if(O)return null;u.ga.Lc!=1?u.Ga=0:w=k-m}e(u.ga!=null),e(m+w<=k);e:{if(d=(V=u.ga).c,k=V.l.o,V.$a==0){if(G=u.rc,te=u.Vc,se=u.Fa,B=u.P+1+m*d,H=u.mb,Z=u.nb+m*d,e(B<=u.P+u.qc),V.Z!=0)for(e(Do[V.Z]!=null),O=0;O<w;++O)Do[V.Z](G,te,se,B,H,Z,d),G=H,te=Z,Z+=d,B+=d;else for(O=0;O<w;++O)r(H,Z,se,B,d),G=H,te=Z,Z+=d,B+=d;u.rc=G,u.Vc=te}else{if(e(V.mc!=null),d=m+w,e((O=V.mc)!=null),e(d<=O.i),O.C>=d)d=1;else if(V.ic||gn(),V.ic){V=O.V,G=O.Ba,te=O.c;var ve=O.i,ue=(se=1,B=O.$/te,H=O.$%te,Z=O.m,le=O.s,O.$),we=te*ve,Ie=te*d,ke=le.wc,Se=ue<Ie?Kn(le,H,B):null;e(ue<=we),e(d<=ve),e(Xr(le));t:for(;;){for(;!Z.h&&ue<Ie;){if(H&ke||(Se=Kn(le,H,B)),e(Se!=null),ae(Z),256>(ve=Zt(Se.G[0],Se.H[0],Z)))V[G+ue]=ve,++ue,++H>=te&&(H=0,++B<=d&&!(B%16)&&jr(O,B));else{if(!(280>ve)){se=0;break t}ve=Nr(ve-256,Z);var Je,je=Zt(Se.G[4],Se.H[4],Z);if(ae(Z),!(ue>=(je=Zn(te,je=Nr(je,Z)))&&we-ue>=ve)){se=0;break t}for(Je=0;Je<ve;++Je)V[G+ue+Je]=V[G+ue+Je-je];for(ue+=ve,H+=ve;H>=te;)H-=te,++B<=d&&!(B%16)&&jr(O,B);ue<Ie&&H&ke&&(Se=Kn(le,H,B))}e(Z.h==Q(Z))}jr(O,B>d?d:B);break t}!se||Z.h&&ue<we?(se=0,O.a=Z.h?5:3):O.$=ue,d=se}else d=Pr(O,O.V,O.Ba,O.c,O.i,d,ns);if(!d){w=0;break e}}m+w>=k&&(u.Cc=1),w=1}if(!w)return null;if(u.Cc&&((w=u.ga)!=null&&(w.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+m*x}function Nn(u,d,m,w,x,k){for(;0<x--;){var O,V=u,B=d+(m?1:0),H=u,Z=d+(m?0:3);for(O=0;O<w;++O){var le=H[Z+4*O];le!=255&&(le*=32897,V[B+4*O+0]=V[B+4*O+0]*le>>23,V[B+4*O+1]=V[B+4*O+1]*le>>23,V[B+4*O+2]=V[B+4*O+2]*le>>23)}d+=k}}function En(u,d,m,w,x){for(;0<w--;){var k;for(k=0;k<m;++k){var O=u[d+2*k+0],V=15&(H=u[d+2*k+1]),B=4369*V,H=(240&H|H>>4)*B>>16;u[d+2*k+0]=(240&O|O>>4)*B>>16&240|(15&O|O<<4)*B>>16>>4&15,u[d+2*k+1]=240&H|V}d+=x}}function jn(u,d,m,w,x,k,O,V){var B,H,Z=255;for(H=0;H<x;++H){for(B=0;B<w;++B){var le=u[d+B];k[O+4*B]=le,Z&=le}d+=m,O+=V}return Z!=255}function $r(u,d,m,w,x){var k;for(k=0;k<x;++k)m[w+k]=u[d+k]>>8}function gn(){Mu=Nn,u2=En,l2=jn,h2=$r}function Ei(u,d,m){A[u]=function(w,x,k,O,V,B,H,Z,le,G,te,se,ve,ue,we,Ie,ke){var Se,Je=ke-1>>1,je=V[B+0]|H[Z+0]<<16,Nt=le[G+0]|te[se+0]<<16;e(w!=null);var We=3*je+Nt+131074>>2;for(d(w[x+0],255&We,We>>16,ve,ue),k!=null&&(We=3*Nt+je+131074>>2,d(k[O+0],255&We,We>>16,we,Ie)),Se=1;Se<=Je;++Se){var Ot=V[B+Se]|H[Z+Se]<<16,Jn=le[G+Se]|te[se+Se]<<16,xt=je+Ot+Nt+Jn+524296,He=xt+2*(Ot+Nt)>>3;We=He+je>>1,je=(xt=xt+2*(je+Jn)>>3)+Ot>>1,d(w[x+2*Se-1],255&We,We>>16,ve,ue+(2*Se-1)*m),d(w[x+2*Se-0],255&je,je>>16,ve,ue+(2*Se-0)*m),k!=null&&(We=xt+Nt>>1,je=He+Jn>>1,d(k[O+2*Se-1],255&We,We>>16,we,Ie+(2*Se-1)*m),d(k[O+2*Se+0],255&je,je>>16,we,Ie+(2*Se+0)*m)),je=Ot,Nt=Jn}1&ke||(We=3*je+Nt+131074>>2,d(w[x+ke-1],255&We,We>>16,ve,ue+(ke-1)*m),k!=null&&(We=3*Nt+je+131074>>2,d(k[O+ke-1],255&We,We>>16,we,Ie+(ke-1)*m)))}}function To(){xi[rh]=EA,xi[ih]=I2,xi[_2]=TA,xi[sh]=A2,xi[oh]=E2,xi[Vf]=T2,xi[v2]=SA,xi[Uf]=I2,xi[Bf]=A2,xi[ah]=E2,xi[jf]=T2}function ri(u){return u&~NA?0>u?0:255:u>>S2}function l(u,d){return ri((19077*u>>8)+(26149*d>>8)-14234)}function _(u,d,m){return ri((19077*u>>8)-(6419*d>>8)-(13320*m>>8)+8708)}function I(u,d){return ri((19077*u>>8)+(33050*d>>8)-17685)}function M(u,d,m,w,x){w[x+0]=l(u,m),w[x+1]=_(u,d,m),w[x+2]=I(u,d)}function ne(u,d,m,w,x){w[x+0]=I(u,d),w[x+1]=_(u,d,m),w[x+2]=l(u,m)}function de(u,d,m,w,x){var k=_(u,d,m);d=k<<3&224|I(u,d)>>3,w[x+0]=248&l(u,m)|k>>5,w[x+1]=d}function Ce(u,d,m,w,x){var k=240&I(u,d)|15;w[x+0]=240&l(u,m)|_(u,d,m)>>4,w[x+1]=k}function jt(u,d,m,w,x){w[x+0]=255,M(u,d,m,w,x+1)}function Tn(u,d,m,w,x){ne(u,d,m,w,x),w[x+3]=255}function ft(u,d,m,w,x){M(u,d,m,w,x),w[x+3]=255}function dn(u,d,m){A[u]=function(w,x,k,O,V,B,H,Z,le){for(var G=Z+(-2&le)*m;Z!=G;)d(w[x+0],k[O+0],V[B+0],H,Z),d(w[x+1],k[O+0],V[B+0],H,Z+m),x+=2,++O,++B,Z+=2*m;1&le&&d(w[x+0],k[O+0],V[B+0],H,Z)}}function Sn(u,d,m){return m==0?u==0?d==0?6:5:d==0?4:0:m}function Ui(u,d,m,w,x){switch(u>>>30){case 3:Na(d,m,w,x,0);break;case 2:Si(d,m,w,x);break;case 1:Ht(d,m,w,x)}}function _n(u,d){var m,w,x=d.M,k=d.Nb,O=u.oc,V=u.pc+40,B=u.oc,H=u.pc+584,Z=u.oc,le=u.pc+600;for(m=0;16>m;++m)O[V+32*m-1]=129;for(m=0;8>m;++m)B[H+32*m-1]=129,Z[le+32*m-1]=129;for(0<x?O[V-1-32]=B[H-1-32]=Z[le-1-32]=129:(i(O,V-32-1,127,21),i(B,H-32-1,127,9),i(Z,le-32-1,127,9)),w=0;w<u.za;++w){var G=d.ya[d.aa+w];if(0<w){for(m=-1;16>m;++m)r(O,V+32*m-4,O,V+32*m+12,4);for(m=-1;8>m;++m)r(B,H+32*m-4,B,H+32*m+4,4),r(Z,le+32*m-4,Z,le+32*m+4,4)}var te=u.Gd,se=u.Hd+w,ve=G.ad,ue=G.Hc;if(0<x&&(r(O,V-32,te[se].y,0,16),r(B,H-32,te[se].f,0,8),r(Z,le-32,te[se].ea,0,8)),G.Za){var we=O,Ie=V-32+16;for(0<x&&(w>=u.za-1?i(we,Ie,te[se].y[15],4):r(we,Ie,te[se+1].y,0,4)),m=0;4>m;m++)we[Ie+128+m]=we[Ie+256+m]=we[Ie+384+m]=we[Ie+0+m];for(m=0;16>m;++m,ue<<=2)we=O,Ie=V+x2[m],Bi[G.Ob[m]](we,Ie),Ui(ue,ve,16*+m,we,Ie)}else if(we=Sn(w,x,G.Ob[0]),Lo[we](O,V),ue!=0)for(m=0;16>m;++m,ue<<=2)Ui(ue,ve,16*+m,O,V+x2[m]);for(m=G.Gc,we=Sn(w,x,G.Dd),Ws[we](B,H),Ws[we](Z,le),ue=ve,we=B,Ie=H,255&(G=0|m)&&(170&G?ls(ue,256,we,Ie):on(ue,256,we,Ie)),G=Z,ue=le,255&(m>>=8)&&(170&m?ls(ve,320,G,ue):on(ve,320,G,ue)),x<u.Ub-1&&(r(te[se].y,0,O,V+480,16),r(te[se].f,0,B,H+224,8),r(te[se].ea,0,Z,le+224,8)),m=8*k*u.B,te=u.sa,se=u.ta+16*w+16*k*u.R,ve=u.qa,G=u.ra+8*w+m,ue=u.Ha,we=u.Ia+8*w+m,m=0;16>m;++m)r(te,se+m*u.R,O,V+32*m,16);for(m=0;8>m;++m)r(ve,G+m*u.B,B,H+32*m,8),r(ue,we+m*u.B,Z,le+32*m,8)}}function Ti(u,d,m,w,x,k,O,V,B){var H=[0],Z=[0],le=0,G=B!=null?B.kd:0,te=B??new Ee;if(u==null||12>m)return 7;te.data=u,te.w=d,te.ha=m,d=[d],m=[m],te.gb=[te.gb];e:{var se=d,ve=m,ue=te.gb;if(e(u!=null),e(ve!=null),e(ue!=null),ue[0]=0,12<=ve[0]&&!t(u,se[0],"RIFF")){if(t(u,se[0]+8,"WEBP")){ue=3;break e}var we=Ke(u,se[0]+4);if(12>we||4294967286<we){ue=3;break e}if(G&&we>ve[0]-8){ue=7;break e}ue[0]=we,se[0]+=12,ve[0]-=12}ue=0}if(ue!=0)return ue;for(we=0<te.gb[0],m=m[0];;){e:{var Ie=u;ve=d,ue=m;var ke=H,Se=Z,Je=se=[0];if((We=le=[le])[0]=0,8>ue[0])ue=7;else{if(!t(Ie,ve[0],"VP8X")){if(Ke(Ie,ve[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var je=Ke(Ie,ve[0]+8),Nt=1+Oe(Ie,ve[0]+12);if(2147483648<=Nt*(Ie=1+Oe(Ie,ve[0]+15))){ue=3;break e}Je!=null&&(Je[0]=je),ke!=null&&(ke[0]=Nt),Se!=null&&(Se[0]=Ie),ve[0]+=18,ue[0]-=18,We[0]=1}ue=0}}if(le=le[0],se=se[0],ue!=0)return ue;if(ve=!!(2&se),!we&&le)return 3;if(k!=null&&(k[0]=!!(16&se)),O!=null&&(O[0]=ve),V!=null&&(V[0]=0),O=H[0],se=Z[0],le&&ve&&B==null){ue=0;break}if(4>m){ue=7;break}if(we&&le||!we&&!le&&!t(u,d[0],"ALPH")){m=[m],te.na=[te.na],te.P=[te.P],te.Sa=[te.Sa];e:{je=u,ue=d,we=m;var We=te.gb;ke=te.na,Se=te.P,Je=te.Sa,Nt=22,e(je!=null),e(we!=null),Ie=ue[0];var Ot=we[0];for(e(ke!=null),e(Je!=null),ke[0]=null,Se[0]=null,Je[0]=0;;){if(ue[0]=Ie,we[0]=Ot,8>Ot){ue=7;break e}var Jn=Ke(je,Ie+4);if(4294967286<Jn){ue=3;break e}var xt=8+Jn+1&-2;if(Nt+=xt,0<We&&Nt>We){ue=3;break e}if(!t(je,Ie,"VP8 ")||!t(je,Ie,"VP8L")){ue=0;break e}if(Ot[0]<xt){ue=7;break e}t(je,Ie,"ALPH")||(ke[0]=je,Se[0]=Ie+8,Je[0]=Jn),Ie+=xt,Ot-=xt}}if(m=m[0],te.na=te.na[0],te.P=te.P[0],te.Sa=te.Sa[0],ue!=0)break}m=[m],te.Ja=[te.Ja],te.xa=[te.xa];e:if(We=u,ue=d,we=m,ke=te.gb[0],Se=te.Ja,Je=te.xa,je=ue[0],Ie=!t(We,je,"VP8 "),Nt=!t(We,je,"VP8L"),e(We!=null),e(we!=null),e(Se!=null),e(Je!=null),8>we[0])ue=7;else{if(Ie||Nt){if(We=Ke(We,je+4),12<=ke&&We>ke-12){ue=3;break e}if(G&&We>we[0]-8){ue=7;break e}Se[0]=We,ue[0]+=8,we[0]-=8,Je[0]=Nt}else Je[0]=5<=we[0]&&We[je+0]==47&&!(We[je+4]>>5),Se[0]=we[0];ue=0}if(m=m[0],te.Ja=te.Ja[0],te.xa=te.xa[0],d=d[0],ue!=0)break;if(4294967286<te.Ja)return 3;if(V==null||ve||(V[0]=te.xa?2:1),O=[O],se=[se],te.xa){if(5>m){ue=7;break}V=O,G=se,ve=k,u==null||5>m?u=0:5<=m&&u[d+0]==47&&!(u[d+4]>>5)?(we=[0],We=[0],ke=[0],_e(Se=new K,u,d,m),pn(Se,we,We,ke)?(V!=null&&(V[0]=we[0]),G!=null&&(G[0]=We[0]),ve!=null&&(ve[0]=ke[0]),u=1):u=0):u=0}else{if(10>m){ue=7;break}V=se,u==null||10>m||!wa(u,d+3,m-3)?u=0:(G=u[d+0]|u[d+1]<<8|u[d+2]<<16,ve=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&G||3<(G>>1&7)||!(G>>4&1)||G>>5>=te.Ja||!ve||!u?u=0:(O&&(O[0]=ve),V&&(V[0]=u),u=1))}if(!u||(O=O[0],se=se[0],le&&(H[0]!=O||Z[0]!=se)))return 3;B!=null&&(B[0]=te,B.offset=d-B.w,e(4294967286>d-B.w),e(B.offset==B.ha-m));break}return ue==0||ue==7&&le&&B==null?(k!=null&&(k[0]|=te.na!=null&&0<te.na.length),w!=null&&(w[0]=O),x!=null&&(x[0]=se),0):ue}function qs(u,d,m){var w=d.width,x=d.height,k=0,O=0,V=w,B=x;if(d.Da=u!=null&&0<u.Da,d.Da&&(V=u.cd,B=u.bd,k=u.v,O=u.j,11>m||(k&=-2,O&=-2),0>k||0>O||0>=V||0>=B||k+V>w||O+B>x))return 0;if(d.v=k,d.j=O,d.va=k+V,d.o=O+B,d.U=V,d.T=B,d.da=u!=null&&0<u.da,d.da){if(!rt(V,B,m=[u.ib],k=[u.hb]))return 0;d.ib=m[0],d.hb=k[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*w/4&&d.hb<3*x/4,d.Kb=0),1}function ku(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function So(u,d,m,w){if(w==null||0>=u||0>=d)return 2;if(m!=null){if(m.Da){var x=m.cd,k=m.bd,O=-2&m.v,V=-2&m.j;if(0>O||0>V||0>=x||0>=k||O+x>u||V+k>d)return 2;u=x,d=k}if(m.da){if(!rt(u,d,x=[m.ib],k=[m.hb]))return 2;u=x[0],d=k[0]}}w.width=u,w.height=d;e:{var B=w.width,H=w.height;if(u=w.S,0>=B||0>=H||!(u>=rh&&13>u))u=2;else{if(0>=w.Rd&&w.sd==null){O=k=x=d=0;var Z=(V=B*P2[u])*H;if(11>u||(k=(H+1)/2*(d=(B+1)/2),u==12&&(O=(x=B)*H)),(H=s(Z+2*k+O))==null){u=1;break e}w.sd=H,11>u?((B=w.f.RGBA).eb=H,B.fb=0,B.A=V,B.size=Z):((B=w.f.kb).y=H,B.O=0,B.fa=V,B.Fd=Z,B.f=H,B.N=0+Z,B.Ab=d,B.Cd=k,B.ea=H,B.W=0+Z+k,B.Db=d,B.Ed=k,u==12&&(B.F=H,B.J=0+Z+2*k),B.Tc=O,B.lb=x)}if(d=1,x=w.S,k=w.width,O=w.height,x>=rh&&13>x)if(11>x)u=w.f.RGBA,d&=(V=Math.abs(u.A))*(O-1)+k<=u.size,d&=V>=k*P2[x],d&=u.eb!=null;else{u=w.f.kb,V=(k+1)/2,Z=(O+1)/2,B=Math.abs(u.fa),H=Math.abs(u.Ab);var le=Math.abs(u.Db),G=Math.abs(u.lb),te=G*(O-1)+k;d&=B*(O-1)+k<=u.Fd,d&=H*(Z-1)+V<=u.Cd,d=(d&=le*(Z-1)+V<=u.Ed)&B>=k&H>=V&le>=V,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,x==12&&(d&=G>=k,d&=te<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||m!=null&&m.fd&&(u=ku(w)),u}var Ta=64,ii=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],si=24,No=32,zs=8,xo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(u){return u},A.Predictor2=function(u,d,m){return d[m+0]},A.Predictor3=function(u,d,m){return d[m+1]},A.Predictor4=function(u,d,m){return d[m-1]},A.Predictor5=function(u,d,m){return Xe(Xe(u,d[m+1]),d[m+0])},A.Predictor6=function(u,d,m){return Xe(u,d[m-1])},A.Predictor7=function(u,d,m){return Xe(u,d[m+0])},A.Predictor8=function(u,d,m){return Xe(d[m-1],d[m+0])},A.Predictor9=function(u,d,m){return Xe(d[m+0],d[m+1])},A.Predictor10=function(u,d,m){return Xe(Xe(u,d[m-1]),Xe(d[m+0],d[m+1]))},A.Predictor11=function(u,d,m){var w=d[m+0];return 0>=pt(w>>24&255,u>>24&255,(d=d[m-1])>>24&255)+pt(w>>16&255,u>>16&255,d>>16&255)+pt(w>>8&255,u>>8&255,d>>8&255)+pt(255&w,255&u,255&d)?w:u},A.Predictor12=function(u,d,m){var w=d[m+0];return(Mt((u>>24&255)+(w>>24&255)-((d=d[m-1])>>24&255))<<24|Mt((u>>16&255)+(w>>16&255)-(d>>16&255))<<16|Mt((u>>8&255)+(w>>8&255)-(d>>8&255))<<8|Mt((255&u)+(255&w)-(255&d)))>>>0},A.Predictor13=function(u,d,m){var w=d[m-1];return(Pt((u=Xe(u,d[m+0]))>>24&255,w>>24&255)<<24|Pt(u>>16&255,w>>16&255)<<16|Pt(u>>8&255,w>>8&255)<<8|Pt(255&u,255&w))>>>0};var Ru=A.PredictorAdd0;A.PredictorAdd1=at,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var Ec=A.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Ln,eh=A.ColorIndexInverseTransform,cs=A.MapARGB,us=A.VP8LColorIndexInverseTransformAlpha,Cu=A.MapAlpha,Lu=A.VP8LPredictorsAdd=[];Lu.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Du,Ou,Po,ko,Ro,Sa,Co,Na,Si,ls,Ht,on,Dn,Yn,$s,Fu,Tc,th,r2,i2,s2,o2,a2,c2,Mu,u2,l2,h2,d2=s(511),f2=s(2041),p2=s(225),g2=s(767),m2=0,Mf=f2,nh=p2,oi=g2,Ni=d2,rh=0,ih=1,_2=2,sh=3,oh=4,Vf=5,v2=6,Uf=7,Bf=8,ah=9,jf=10,lA=[2,3,7],hA=[3,3,11],y2=[280,256,256,256,40],dA=[0,1,1,1,0],fA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mA=8,qf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vu=null,_A=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vA=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],w2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],IA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lo=[],Bi=[],Ws=[],AA=1,b2=2,Do=[],xi=[];Ei("UpsampleRgbLinePair",M,3),Ei("UpsampleBgrLinePair",ne,3),Ei("UpsampleRgbaLinePair",ft,4),Ei("UpsampleBgraLinePair",Tn,4),Ei("UpsampleArgbLinePair",jt,4),Ei("UpsampleRgba4444LinePair",Ce,2),Ei("UpsampleRgb565LinePair",de,2);var EA=A.UpsampleRgbLinePair,TA=A.UpsampleBgrLinePair,I2=A.UpsampleRgbaLinePair,A2=A.UpsampleBgraLinePair,E2=A.UpsampleArgbLinePair,T2=A.UpsampleRgba4444LinePair,SA=A.UpsampleRgb565LinePair,ch=16,uh=1<<ch-1,Uu=-227,$f=482,S2=6,NA=(256<<S2)-1,N2=0,xA=s(256),PA=s(256),kA=s(256),RA=s(256),CA=s($f-Uu),LA=s($f-Uu);dn("YuvToRgbRow",M,3),dn("YuvToBgrRow",ne,3),dn("YuvToRgbaRow",ft,4),dn("YuvToBgraRow",Tn,4),dn("YuvToArgbRow",jt,4),dn("YuvToRgba4444Row",Ce,2),dn("YuvToRgb565Row",de,2);var x2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lh=[0,2,8],DA=[8,7,6,4,4,2,2,2,1,1,1,1],OA=1;this.WebPDecodeRGBA=function(u,d,m,w,x){var k=ih,O=new ye,V=new yt;O.ba=V,V.S=k,V.width=[V.width],V.height=[V.height];var B=V.width,H=V.height,Z=new nt;if(Z==null||u==null)var le=2;else e(Z!=null),le=Ti(u,d,m,Z.width,Z.height,Z.Pd,Z.Qd,Z.format,null);if(le!=0?B=0:(B!=null&&(B[0]=Z.width[0]),H!=null&&(H[0]=Z.height[0]),B=1),B){V.width=V.width[0],V.height=V.height[0],w!=null&&(w[0]=V.width),x!=null&&(x[0]=V.height);e:{if(w=new is,(x=new Ee).data=u,x.w=d,x.ha=m,x.kd=1,d=[0],e(x!=null),((u=Ti(x.data,x.w,x.ha,null,null,null,d,null,x))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(e(O!=null),w.data=x.data,w.w=x.w+x.offset,w.ha=x.ha-x.offset,w.put=Qe,w.ac=Jr,w.bc=vi,w.ma=O,x.xa){if((u=gr())==null){O=1;break e}if((function(G,te){var se=[0],ve=[0],ue=[0];t:for(;;){if(G==null)return 0;if(te==null)return G.a=2,0;if(G.l=te,G.a=0,_e(G.m,te.data,te.w,te.ha),!pn(G.m,se,ve,ue)){G.a=3;break t}if(G.xb=b2,te.width=se[0],te.height=ve[0],!Qr(se[0],ve[0],1,G,null))break t;return 1}return e(G.a!=0),0})(u,w)){if(w=(d=So(w.width,w.height,O.Oa,O.ba))==0){t:{w=u;n:for(;;){if(w==null){w=0;break t}if(e(w.s.yc!=null),e(w.s.Ya!=null),e(0<w.s.Wb),e((m=w.l)!=null),e((x=m.ma)!=null),w.xb!=0){if(w.ca=x.ba,w.tb=x.tb,e(w.ca!=null),!qs(x.Oa,m,sh)){w.a=2;break n}if(!ts(w,m.width)||m.da)break n;if((m.da||it(w.ca.S))&&gn(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&gn()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!$(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!Pr(w,w.V,w.Ba,w.c,w.i,m.o,es))break n;x.Dc=w.Ma,w=1;break t}e(w.a!=0),w=0}w=!w}w&&(d=u.a)}else d=u.a}else{if((u=new ya)==null){O=1;break e}if(u.Fa=x.na,u.P=x.P,u.qc=x.Sa,wi(u,w)){if((d=So(w.width,w.height,O.Oa,O.ba))==0){if(u.Aa=0,m=O.Oa,e((x=u)!=null),m!=null){if(0<(B=0>(B=m.Md)?0:100<B?255:255*B/100)){for(H=Z=0;4>H;++H)12>(le=x.pb[H]).lc&&(le.ia=B*DA[0>le.lc?0:le.lc]>>3),Z|=le.ia;Z&&(alert("todo:VP8InitRandom"),x.ia=1)}x.Ga=m.Id,100<x.Ga?x.Ga=100:0>x.Ga&&(x.Ga=0)}(function(G,te){if(G==null)return 0;if(te==null)return An(G,2,"NULL VP8Io parameter in VP8Decode().");if(!G.cb&&!wi(G,te))return 0;if(e(G.cb),te.ac==null||te.ac(te)){te.ob&&(G.L=0);var se=lh[G.L];if(G.L==2?(G.yb=0,G.zb=0):(G.yb=te.v-se>>4,G.zb=te.j-se>>4,0>G.yb&&(G.yb=0),0>G.zb&&(G.zb=0)),G.Va=te.o+15+se>>4,G.Hb=te.va+15+se>>4,G.Hb>G.za&&(G.Hb=G.za),G.Va>G.Ub&&(G.Va=G.Ub),0<G.L){var ve=G.ed;for(se=0;4>se;++se){var ue;if(G.Qa.Cb){var we=G.Qa.Lb[se];G.Qa.Fb||(we+=ve.Tb)}else we=ve.Tb;for(ue=0;1>=ue;++ue){var Ie=G.gd[se][ue],ke=we;if(ve.Pc&&(ke+=ve.vd[0],ue&&(ke+=ve.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var Se=ke;0<ve.wb&&(Se=4<ve.wb?Se>>2:Se>>1)>9-ve.wb&&(Se=9-ve.wb),1>Se&&(Se=1),Ie.dd=Se,Ie.tc=2*ke+Se,Ie.ld=40<=ke?2:15<=ke?1:0}else Ie.tc=0;Ie.La=ue}}}se=0}else An(G,6,"Frame setup failed"),se=G.a;if(se=se==0){if(se){G.$c=0,0<G.Aa||(G.Ic=OA);t:{se=G.Ic,ve=4*(Se=G.za);var Je=32*Se,je=Se+1,Nt=0<G.L?Se*(0<G.Aa?2:1):0,We=(G.Aa==2?2:1)*Se;if((Ie=ve+832+(ue=3*(16*se+lh[G.L])/2*Je)+(we=G.Fa!=null&&0<G.Fa.length?G.Kc.c*G.Kc.i:0))!=Ie)se=0;else{if(Ie>G.Vb){if(G.Vb=0,G.Ec=s(Ie),G.Fc=0,G.Ec==null){se=An(G,1,"no memory during frame initialization.");break t}G.Vb=Ie}Ie=G.Ec,ke=G.Fc,G.Ac=Ie,G.Bc=ke,ke+=ve,G.Gd=o(Je,_a),G.Hd=0,G.rb=o(je+1,Di),G.sb=1,G.wa=Nt?o(Nt,mr):null,G.Y=0,G.D.Nb=0,G.D.wa=G.wa,G.D.Y=G.Y,0<G.Aa&&(G.D.Y+=Se),e(!0),G.oc=Ie,G.pc=ke,ke+=832,G.ya=o(We,Os),G.aa=0,G.D.ya=G.ya,G.D.aa=G.aa,G.Aa==2&&(G.D.aa+=Se),G.R=16*Se,G.B=8*Se,Se=(Je=lh[G.L])*G.R,Je=Je/2*G.B,G.sa=Ie,G.ta=ke+Se,G.qa=G.sa,G.ra=G.ta+16*se*G.R+Je,G.Ha=G.qa,G.Ia=G.ra+8*se*G.B+Je,G.$c=0,ke+=ue,G.mb=we?Ie:null,G.nb=we?ke:null,e(ke+we<=G.Fc+G.Vb),ba(G),i(G.Ac,G.Bc,0,ve),se=1}}if(se){if(te.ka=0,te.y=G.sa,te.O=G.ta,te.f=G.qa,te.N=G.ra,te.ea=G.Ha,te.Vd=G.Ia,te.fa=G.R,te.Rc=G.B,te.F=null,te.J=0,!m2){for(se=-255;255>=se;++se)d2[255+se]=0>se?-se:se;for(se=-1020;1020>=se;++se)f2[1020+se]=-128>se?-128:127<se?127:se;for(se=-112;112>=se;++se)p2[112+se]=-16>se?-16:15<se?15:se;for(se=-255;510>=se;++se)g2[255+se]=0>se?0:255<se?255:se;m2=1}Co=bi,Na=wo,ls=ei,Ht=Wt,on=Fs,Si=yo,Dn=Ea,Yn=Vi,$s=N,Fu=W,Tc=js,th=p,r2=X,i2=ie,s2=Ai,o2=Eo,a2=zr,c2=Aa,Bi[0]=Nu,Bi[1]=Eu,Bi[2]=ss,Bi[3]=Su,Bi[4]=Oi,Bi[5]=xu,Bi[6]=er,Bi[7]=Pu,Bi[8]=os,Bi[9]=Ii,Lo[0]=Ms,Lo[1]=Tu,Lo[2]=Ia,Lo[3]=wc,Lo[4]=_r,Lo[5]=bo,Lo[6]=bc,Ws[0]=Ic,Ws[1]=yc,Ws[2]=as,Ws[3]=Vs,Ws[4]=en,Ws[5]=Us,Ws[6]=Ac,se=1}else se=0}se&&(se=(function(Ot,Jn){for(Ot.M=0;Ot.M<Ot.Va;++Ot.M){var xt,He=Ot.Jc[Ot.M&Ot.Xb],Le=Ot.m,On=Ot;for(xt=0;xt<On.za;++xt){var At=Le,Ut=On,mn=Ut.Ac,ur=Ut.Bc+4*xt,Lr=Ut.zc,xn=Ut.ya[Ut.aa+xt];if(Ut.Qa.Bb?xn.$b=be(At,Ut.Pa.jb[0])?2+be(At,Ut.Pa.jb[2]):be(At,Ut.Pa.jb[1]):xn.$b=0,Ut.kc&&(xn.Ad=be(At,Ut.Bd)),xn.Za=!be(At,145)+0,xn.Za){var vr=xn.Ob,Dr=0;for(Ut=0;4>Ut;++Ut){var Xn,qt=Lr[0+Ut];for(Xn=0;4>Xn;++Xn){qt=wA[mn[ur+Xn]][qt];for(var Yt=w2[be(At,qt[0])];0<Yt;)Yt=w2[2*Yt+be(At,qt[Yt])];qt=-Yt,mn[ur+Xn]=qt}r(vr,Dr,mn,ur,4),Dr+=4,Lr[0+Ut]=qt}}else qt=be(At,156)?be(At,128)?1:3:be(At,163)?2:0,xn.Ob[0]=qt,i(mn,ur,qt,4),i(Lr,0,qt,4);xn.Dd=be(At,142)?be(At,114)?be(At,183)?1:3:2:0}if(On.m.Ka)return An(Ot,7,"Premature end-of-partition0 encountered.");for(;Ot.ja<Ot.za;++Ot.ja){if(On=He,At=(Le=Ot).rb[Le.sb-1],mn=Le.rb[Le.sb+Le.ja],xt=Le.ya[Le.aa+Le.ja],ur=Le.kc?xt.Ad:0)At.la=mn.la=0,xt.Za||(At.Na=mn.Na=0),xt.Hc=0,xt.Gc=0,xt.ia=0;else{var Pn,Jt;if(At=mn,mn=On,ur=Le.Pa.Xc,Lr=Le.ya[Le.aa+Le.ja],xn=Le.pb[Lr.$b],Ut=Lr.ad,vr=0,Dr=Le.rb[Le.sb-1],qt=Xn=0,i(Ut,vr,0,384),Lr.Za)var lr=0,ji=ur[3];else{Yt=s(16);var Fn=At.Na+Dr.Na;if(Fn=Vu(mn,ur[1],Fn,xn.Eb,0,Yt,0),At.Na=Dr.Na=(0<Fn)+0,1<Fn)Co(Yt,0,Ut,vr);else{var Wr=Yt[0]+3>>3;for(Yt=0;256>Yt;Yt+=16)Ut[vr+Yt]=Wr}lr=1,ji=ur[0]}var an=15&At.la,Qn=15&Dr.la;for(Yt=0;4>Yt;++Yt){var ai=1&Qn;for(Wr=Jt=0;4>Wr;++Wr)an=an>>1|(ai=(Fn=Vu(mn,ji,Fn=ai+(1&an),xn.Sc,lr,Ut,vr))>lr)<<7,Jt=Jt<<2|(3<Fn?3:1<Fn?2:Ut[vr+0]!=0),vr+=16;an>>=4,Qn=Qn>>1|ai<<7,Xn=(Xn<<8|Jt)>>>0}for(ji=an,lr=Qn>>4,Pn=0;4>Pn;Pn+=2){for(Jt=0,an=At.la>>4+Pn,Qn=Dr.la>>4+Pn,Yt=0;2>Yt;++Yt){for(ai=1&Qn,Wr=0;2>Wr;++Wr)Fn=ai+(1&an),an=an>>1|(ai=0<(Fn=Vu(mn,ur[2],Fn,xn.Qc,0,Ut,vr)))<<3,Jt=Jt<<2|(3<Fn?3:1<Fn?2:Ut[vr+0]!=0),vr+=16;an>>=2,Qn=Qn>>1|ai<<5}qt|=Jt<<4*Pn,ji|=an<<4<<Pn,lr|=(240&Qn)<<Pn}At.la=ji,Dr.la=lr,Lr.Hc=Xn,Lr.Gc=qt,Lr.ia=43690&qt?0:xn.ia,ur=!(Xn|qt)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[xt.$b][xt.Za],Le.wa[Le.Y+Le.ja].La|=!ur),On.Ka)return An(Ot,7,"Premature end-of-file encountered.")}if(ba(Ot),Le=Jn,On=1,xt=(He=Ot).D,At=0<He.L&&He.M>=He.zb&&He.M<=He.Va,He.Aa==0)t:{if(xt.M=He.M,xt.uc=At,_n(He,xt),On=1,xt=(Jt=He.D).Nb,At=(qt=lh[He.L])*He.R,mn=qt/2*He.B,Yt=16*xt*He.R,Wr=8*xt*He.B,ur=He.sa,Lr=He.ta-At+Yt,xn=He.qa,Ut=He.ra-mn+Wr,vr=He.Ha,Dr=He.Ia-mn+Wr,Qn=(an=Jt.M)==0,Xn=an>=He.Va-1,He.Aa==2&&_n(He,Jt),Jt.uc)for(ai=(Fn=He).D.M,e(Fn.D.uc),Jt=Fn.yb;Jt<Fn.Hb;++Jt){lr=Jt,ji=ai;var Or=(ci=(hr=Fn).D).Nb;Pn=hr.R;var ci=ci.wa[ci.Y+lr],ui=hr.sa,Hr=hr.ta+16*Or*Pn+16*lr,li=ci.dd,fn=ci.tc;if(fn!=0)if(e(3<=fn),hr.L==1)0<lr&&o2(ui,Hr,Pn,fn+4),ci.La&&c2(ui,Hr,Pn,fn),0<ji&&s2(ui,Hr,Pn,fn+4),ci.La&&a2(ui,Hr,Pn,fn);else{var hi=hr.B,qi=hr.qa,xa=hr.ra+8*Or*hi+8*lr,Hs=hr.Ha,hr=hr.Ia+8*Or*hi+8*lr;Or=ci.ld,0<lr&&(Yn(ui,Hr,Pn,fn+4,li,Or),Fu(qi,xa,Hs,hr,hi,fn+4,li,Or)),ci.La&&(th(ui,Hr,Pn,fn,li,Or),i2(qi,xa,Hs,hr,hi,fn,li,Or)),0<ji&&(Dn(ui,Hr,Pn,fn+4,li,Or),$s(qi,xa,Hs,hr,hi,fn+4,li,Or)),ci.La&&(Tc(ui,Hr,Pn,fn,li,Or),r2(qi,xa,Hs,hr,hi,fn,li,Or))}}if(He.ia&&alert("todo:DitherRow"),Le.put!=null){if(Jt=16*an,an=16*(an+1),Qn?(Le.y=He.sa,Le.O=He.ta+Yt,Le.f=He.qa,Le.N=He.ra+Wr,Le.ea=He.Ha,Le.W=He.Ia+Wr):(Jt-=qt,Le.y=ur,Le.O=Lr,Le.f=xn,Le.N=Ut,Le.ea=vr,Le.W=Dr),Xn||(an-=qt),an>Le.o&&(an=Le.o),Le.F=null,Le.J=null,He.Fa!=null&&0<He.Fa.length&&Jt<an&&(Le.J=Kt(He,Le,Jt,an-Jt),Le.F=He.mb,Le.F==null&&Le.F.length==0)){On=An(He,3,"Could not decode alpha data.");break t}Jt<Le.j&&(qt=Le.j-Jt,Jt=Le.j,e(!(1&qt)),Le.O+=He.R*qt,Le.N+=He.B*(qt>>1),Le.W+=He.B*(qt>>1),Le.F!=null&&(Le.J+=Le.width*qt)),Jt<an&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=Jt-Le.j,Le.U=Le.va-Le.v,Le.T=an-Jt,On=Le.put(Le))}xt+1!=He.Ic||Xn||(r(He.sa,He.ta-At,ur,Lr+16*He.R,At),r(He.qa,He.ra-mn,xn,Ut+8*He.B,mn),r(He.Ha,He.Ia-mn,vr,Dr+8*He.B,mn))}if(!On)return An(Ot,6,"Output aborted.")}return 1})(G,te)),te.bc!=null&&te.bc(te),se&=1}return se?(G.cb=0,se):0})(u,w)||(d=u.a)}}else d=u.a}d==0&&O.Oa!=null&&O.Oa.fd&&(d=ku(O.ba))}O=d}k=O!=0?null:11>k?V.f.RGBA.eb:V.f.kb.y}else k=null;return k};var P2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(A,F){for(var b="",E=0;E<4;E++)b+=String.fromCharCode(A[F++]);return b}function f(A,F){return A[F+0]|A[F+1]<<8}function v(A,F){return(A[F+0]|A[F+1]<<8|A[F+2]<<16)>>>0}function y(A,F){return(A[F+0]|A[F+1]<<8|A[F+2]<<16|A[F+3]<<24)>>>0}new c;var g=[0],C=[0],L=[],R=new c,P=n,q=(function(A,F){var b={},E=0,S=!1,J=0,he=0;if(b.frames=[],!(function(D,K){for(var Y=0;Y<4;Y++)if(D[K+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(A,F)){for(y(A,F+=4),F+=8;F<A.length;){var me=h(A,F),ge=y(A,F+=4);F+=4;var ce=ge+(1&ge);switch(me){case"VP8 ":case"VP8L":b.frames[E]===void 0&&(b.frames[E]={}),(Te=b.frames[E]).src_off=S?he:F-8,Te.src_size=J+ge+8,E++,S&&(S=!1,J=0,he=0);break;case"VP8X":(Te=b.header={}).feature_flags=A[F];var _e=F+4;Te.canvas_width=1+v(A,_e),_e+=3,Te.canvas_height=1+v(A,_e),_e+=3;break;case"ALPH":S=!0,J=ce+8,he=F-8;break;case"ANIM":(Te=b.header).bgcolor=y(A,F),_e=F+4,Te.loop_count=f(A,_e),_e+=2;break;case"ANMF":var Re,Te;(Te=b.frames[E]={}).offset_x=2*v(A,F),F+=3,Te.offset_y=2*v(A,F),F+=3,Te.width=1+v(A,F),F+=3,Te.height=1+v(A,F),F+=3,Te.duration=v(A,F),F+=3,Re=A[F++],Te.dispose=1&Re,Te.blend=Re>>1&1}me!="ANMF"&&(F+=ce)}return b}})(P,0);q.response=P,q.rgbaoutput=!0,q.dataurl=!1;var j=q.header?q.header:null,z=q.frames?q.frames:null;if(j){j.loop_counter=j.loop_count,g=[j.canvas_height],C=[j.canvas_width];for(var ee=0;ee<z.length&&z[ee].blend!=0;ee++);}var oe=z[0],U=R.WebPDecodeRGBA(P,oe.src_off,oe.src_size,C,g);oe.rgba=U,oe.imgwidth=C[0],oe.imgheight=g[0];for(var T=0;T<C[0]*g[0]*4;T++)L[T]=U[T];return this.width=C,this.height=g,this.data=L,this}function gR(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function mR(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,i,s,o,a,c,h,f=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,h=new f}]);var v=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function($){Y=!!$}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function($){Q=!!$}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function($){isNaN($)||(re=$)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function($){isNaN($)||(ae=$)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function($){var De;typeof $=="number"?De=[$,$,$,$]:((De=new Array(4))[0]=$[0],De[1]=$.length>=2?$[1]:De[0],De[2]=$.length>=3?$[2]:De[0],De[3]=$.length>=4?$[3]:De[1]),h.margin=De}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function($){fe=$}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function($){pe=$}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function($){be=$}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function($){$ instanceof f&&(h=$)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function($){h.path=$}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function($){Pe=$}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function($){var De;De=y($),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function($){var De=y($);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function($){["butt","round","square"].indexOf($)!==-1&&(this.ctx.lineCap=$,this.pdf.setLineCap($))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function($){isNaN($)||(this.ctx.lineWidth=$,this.pdf.setLineWidth($))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function($){["bevel","round","miter"].indexOf($)!==-1&&(this.ctx.lineJoin=$,this.pdf.setLineJoin($))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function($){isNaN($)||(this.ctx.miterLimit=$,this.pdf.setMiterLimit($))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function($){this.ctx.textBaseline=$}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function($){["right","end","center","left","start"].indexOf($)!==-1&&(this.ctx.textAlign=$)}});var Fe=null,Oe=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function($){Fe=null,Oe=null,Ke=$}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function($){var De;if(this.ctx.font=$,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec($))!==null){var It=De[1];De[2];var rt=De[3],Ne=De[4];De[5];var tt=De[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Ue==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Ze=(function(Ge){var In,kt,Tt=[],St=Ge.trim();if(St==="")return q0;if(St in TI)return[TI[St]];for(;St!=="";){switch(kt=null,In=(St=NI(St)).charAt(0)){case'"':case"'":kt=uR(St.substring(1),In);break;default:kt=lR(St)}if(kt===null||(Tt.push(kt[0]),(St=NI(kt[1]))!==""&&St.charAt(0)!==","))return q0;St=St.replace(/^,/,"")}return Tt})(tt);if(this.fontFaces){var Xe=(function(Ge,In){var kt=Ge.getFontList(),Tt=JSON.stringify(kt);if(Fe===null||Oe!==Tt){var St=(function(Xt){var et=[];return Object.keys(Xt).forEach(function(Qt){Xt[Qt].forEach(function(it){var _t=null;switch(it){case"bold":_t={family:Qt,weight:"bold"};break;case"italic":_t={family:Qt,style:"italic"};break;case"bolditalic":_t={family:Qt,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:Qt}}_t!==null&&(_t.ref={name:Qt,style:it},et.push(_t))})}),et})(kt);Fe=(function(Xt){for(var et={},Qt=0;Qt<Xt.length;++Qt){var it=j0(Xt[Qt]),_t=it.family,sn=it.stretch,yt=it.style,nt=it.weight;et[_t]=et[_t]||{},et[_t][sn]=et[_t][sn]||{},et[_t][sn][yt]=et[_t][sn][yt]||{},et[_t][sn][yt][nt]=it}return et})(St.concat(In)),Oe=Tt}return Fe})(this.pdf,this.fontFaces),Mt=Ze.map(function(Ge){return{family:Ge,stretch:"normal",weight:rt,style:It}}),Pt=(function(Ge,In,kt){for(var Tt=(kt=kt||{}).defaultFontFamily||"times",St=Object.assign({},cR,kt.genericFontFamilies||{}),Xt=null,et=null,Qt=0;Qt<In.length;++Qt)if(St[(Xt=j0(In[Qt])).family]&&(Xt.family=St[Xt.family]),Ge.hasOwnProperty(Xt.family)){et=Ge[Xt.family];break}if(!(et=et||Ge[Tt]))throw new Error("Could not find a font-family for the rule '"+SI(Xt)+"' and default family '"+Tt+"'.");if(et=(function(it,_t){if(_t[it])return _t[it];var sn=K0[it],yt=sn<=K0.normal?-1:1,nt=EI(_t,KI,sn,yt);if(!nt)throw new Error("Could not find a matching font-stretch value for "+it);return nt})(Xt.stretch,et),et=(function(it,_t){if(_t[it])return _t[it];for(var sn=GI[it],yt=0;yt<sn.length;++yt)if(_t[sn[yt]])return _t[sn[yt]];throw new Error("Could not find a matching font-style for "+it)})(Xt.style,et),!(et=(function(it,_t){if(_t[it])return _t[it];if(it===400&&_t[500])return _t[500];if(it===500&&_t[400])return _t[400];var sn=aR[it],yt=EI(_t,YI,sn,it<400?-1:1);if(!yt)throw new Error("Could not find a matching font-weight for value "+it);return yt})(Xt.weight,et)))throw new Error("Failed to resolve a font for the rule '"+SI(Xt)+"'.");return et})(Xe,Mt);this.pdf.setFont(Pt.ref.name,Pt.ref.style)}else{var pt="";(rt==="bold"||parseInt(rt,10)>=700||It==="bold")&&(pt="bold"),It==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var at="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qe=0;qe<Ze.length;qe++){if(this.pdf.internal.getFont(Ze[qe],pt,{noFallback:!0,disableWarning:!0})!==void 0){at=Ze[qe];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Ze[qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Ze[qe],pt="bold";else if(this.pdf.internal.getFont(Ze[qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Ze[qe],pt="normal";break}}if(at===""){for(var vt=0;vt<Ze.length;vt++)if(ct[Ze[vt]]){at=ct[Ze[vt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function($){this.ctx.globalCompositeOperation=$}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function($){this.ctx.globalAlpha=$}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function($){this.ctx.lineDashOffset=$,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function($){this.ctx.lineDash=$,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function($){this.ctx.ignoreClearRect=!!$}})};v.prototype.setLineDash=function(D){this.lineDash=D},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){z.call(this,"fill",!1)},v.prototype.stroke=function(){z.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(D,K)},v.prototype.closePath=function(){var D=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&nn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},v.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},v.prototype.quadraticCurveTo=function(D,K,Y,Q){if(isNaN(Y)||isNaN(Q)||isNaN(D)||isNaN(K))throw ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(Y,Q)),ae=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},v.prototype.bezierCurveTo=function(D,K,Y,Q,re,ae){if(isNaN(re)||isNaN(ae)||isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(re,ae)),pe=this.ctx.transform.applyToPoint(new o(D,K)),be=this.ctx.transform.applyToPoint(new o(Y,Q));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:be.x,y2:be.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},v.prototype.arc=function(D,K,Y,Q,re,ae){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(Q)||isNaN(re))throw ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(D,K));D=fe.x,K=fe.y;var pe=this.ctx.transform.applyToPoint(new o(0,Y)),be=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(pe.x-be.x,2)+Math.pow(pe.y-be.y,2))}Math.abs(re-Q)>=2*Math.PI&&(Q=0,re=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:Y,startAngle:Q,endAngle:re,counterclockwise:ae})},v.prototype.arcTo=function(D,K,Y,Q,re){throw new Error("arcTo not implemented.")},v.prototype.rect=function(D,K,Y,Q){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+Y,K),this.lineTo(D+Y,K+Q),this.lineTo(D,K+Q),this.lineTo(D,K),this.lineTo(D+Y,K),this.lineTo(D,K)},v.prototype.fillRect=function(D,K,Y,Q){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,Y,Q),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},v.prototype.strokeRect=function(D,K,Y,Q){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(D,K,Y,Q),this.stroke())},v.prototype.clearRect=function(D,K,Y,Q){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,Y,Q))},v.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},v.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(D){var K,Y,Q,re;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,Y=0,Q=0,re=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ae!==null)K=parseInt(ae[1]),Y=parseInt(ae[2]),Q=parseInt(ae[3]),re=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(ae[1]),Y=parseInt(ae[2]),Q=parseInt(ae[3]),re=parseFloat(ae[4]);else{if(re=1,typeof D=="string"&&D.charAt(0)!=="#"){var fe=new BI(D);D=fe.ok?fe.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,Y=D.substring(2,3),Y+=Y,Q=D.substring(3,4),Q+=Q):(K=D.substring(1,3),Y=D.substring(3,5),Q=D.substring(5,7)),K=parseInt(K,16),Y=parseInt(Y,16),Q=parseInt(Q,16)}}return{r:K,g:Y,b:Q,a:re,style:D}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(D,K,Y,Q){if(isNaN(K)||isNaN(Y)||typeof D!="string")throw ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!g.call(this)){var re=ce(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;E.call(this,{text:D,x:K,y:Y,scale:ae,angle:re,align:this.textAlign,maxWidth:Q})}},v.prototype.strokeText=function(D,K,Y,Q){if(isNaN(K)||isNaN(Y)||typeof D!="string")throw ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){Q=isNaN(Q)?void 0:Q;var re=ce(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;E.call(this,{text:D,x:K,y:Y,scale:ae,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:Q})}},v.prototype.measureText=function(D){if(typeof D!="string")throw ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Y=this.pdf.internal.scaleFactor,Q=K.internal.getFontSize(),re=K.getStringUnitWidth(D)*Q/K.internal.scaleFactor;return new function(ae){var fe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:re*=Math.round(96*Y/72*1e4)/1e4})},v.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},v.prototype.rotate=function(D){if(isNaN(D))throw ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},v.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(Y)},v.prototype.transform=function(D,K,Y,Q,re,ae){if(isNaN(D)||isNaN(K)||isNaN(Y)||isNaN(Q)||isNaN(re)||isNaN(ae))throw ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new c(D,K,Y,Q,re,ae);this.ctx.transform=this.ctx.transform.multiply(fe)},v.prototype.setTransform=function(D,K,Y,Q,re,ae){D=isNaN(D)?1:D,K=isNaN(K)?0:K,Y=isNaN(Y)?0:Y,Q=isNaN(Q)?1:Q,re=isNaN(re)?0:re,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(D,K,Y,Q,re,ae)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(D,K,Y,Q,re,ae,fe,pe,be){var Pe=this.pdf.getImageProperties(D),Fe=1,Oe=1,Ke=1,$=1;Q!==void 0&&pe!==void 0&&(Ke=pe/Q,$=be/re,Fe=Pe.width/Q*pe/Q,Oe=Pe.height/re*be/re),ae===void 0&&(ae=K,fe=Y,K=0,Y=0),Q!==void 0&&pe===void 0&&(pe=Q,be=re),Q===void 0&&pe===void 0&&(pe=Pe.width,be=Pe.height);var De=this.ctx.transform.decompose(),It=ce(De.rotate.shx),rt=new c,Ne=(rt=(rt=(rt=rt.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new a(ae-K*Ke,fe-Y*$,Q*Fe,re*Oe));if(this.autoPaging){for(var tt,Ue=R.call(this,Ne),Ze=[],Xe=0;Xe<Ue.length;Xe+=1)Ze.indexOf(Ue[Xe])===-1&&Ze.push(Ue[Xe]);j(Ze);for(var Mt=Ze[0],Pt=Ze[Ze.length-1],pt=Mt;pt<Pt+1;pt++){this.pdf.setPage(pt);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=pt===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=pt===1?0:qe+(pt-2)*vt;if(this.ctx.clip_path.length!==0){var In=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(tt,this.posX+this.margin[3],-Ge+ct+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=In}var kt=JSON.parse(JSON.stringify(Ne));kt=q([kt],this.posX+this.margin[3],-Ge+ct+this.ctx.prevPageLastElemOffset)[0];var Tt=(pt>Mt||pt<Pt)&&L.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,vt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,It),Tt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,It)};var R=function(D,K,Y){var Q=[];K=K||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":Q.push(Math.floor((D.y+re)/Y)+1);break;case"arc":Q.push(Math.floor((D.y+re-D.radius)/Y)+1),Q.push(Math.floor((D.y+re+D.radius)/Y)+1);break;case"qct":var ae=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);Q.push(Math.floor((ae.y+re)/Y)+1),Q.push(Math.floor((ae.y+ae.h+re)/Y)+1);break;case"bct":var fe=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);Q.push(Math.floor((fe.y+re)/Y)+1),Q.push(Math.floor((fe.y+fe.h+re)/Y)+1);break;case"rect":Q.push(Math.floor((D.y+re)/Y)+1),Q.push(Math.floor((D.y+D.h+re)/Y)+1)}for(var pe=0;pe<Q.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<Q[pe];)P.call(this);return Q},P=function(){var D=this.fillStyle,K=this.strokeStyle,Y=this.font,Q=this.lineCap,re=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=Y,this.lineCap=Q,this.lineWidth=re,this.lineJoin=ae},q=function(D,K,Y){for(var Q=0;Q<D.length;Q++)switch(D[Q].type){case"bct":D[Q].x2+=K,D[Q].y2+=Y;case"qct":D[Q].x1+=K,D[Q].y1+=Y;default:D[Q].x+=K,D[Q].y+=Y}return D},j=function(D){return D.sort(function(K,Y){return K-Y})},z=function(D,K){var Y=this.fillStyle,Q=this.strokeStyle,re=this.lineCap,ae=this.lineWidth,fe=Math.abs(ae*this.ctx.transform.scaleX),pe=this.lineJoin;if(this.autoPaging){for(var be,Pe,Fe=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),Ke=[],$=0;$<Oe.length;$++)if(Oe[$].x!==void 0)for(var De=R.call(this,Oe[$]),It=0;It<De.length;It+=1)Ke.indexOf(De[It])===-1&&Ke.push(De[It]);for(var rt=0;rt<Ke.length;rt++)for(;this.pdf.internal.getNumberOfPages()<Ke[rt];)P.call(this);j(Ke);for(var Ne=Ke[0],tt=Ke[Ke.length-1],Ue=Ne;Ue<tt+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=Y,this.strokeStyle=Q,this.lineCap=re,this.lineWidth=fe,this.lineJoin=pe;var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Ue===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Ue===1?0:Mt+(Ue-2)*Pt;if(this.ctx.clip_path.length!==0){var at=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(be,this.posX+this.margin[3],-pt+Xe+this.ctx.prevPageLastElemOffset),ee.call(this,D,!0),this.path=at}if(Pe=JSON.parse(JSON.stringify(Fe)),this.path=q(Pe,this.posX+this.margin[3],-pt+Xe+this.ctx.prevPageLastElemOffset),K===!1||Ue===0){var ct=(Ue>Ne||Ue<tt)&&L.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Pt,null).clip().discardPath()),ee.call(this,D,K),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=Fe}else this.lineWidth=fe,ee.call(this,D,K),this.lineWidth=ae},ee=function(D,K){if((D!=="stroke"||K||!C.call(this))&&(D==="stroke"||K||!g.call(this))){for(var Y,Q,re=[],ae=this.path,fe=0;fe<ae.length;fe++){var pe=ae[fe];switch(pe.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:pe,deltas:[],abs:[]});break;case"lt":var be=re.length;if(ae[fe-1]&&!isNaN(ae[fe-1].x)&&(Y=[pe.x-ae[fe-1].x,pe.y-ae[fe-1].y],be>0)){for(;be>=0;be--)if(re[be-1].close!==!0&&re[be-1].begin!==!0){re[be-1].deltas.push(Y),re[be-1].abs.push(pe);break}}break;case"bct":Y=[pe.x1-ae[fe-1].x,pe.y1-ae[fe-1].y,pe.x2-ae[fe-1].x,pe.y2-ae[fe-1].y,pe.x-ae[fe-1].x,pe.y-ae[fe-1].y],re[re.length-1].deltas.push(Y);break;case"qct":var Pe=ae[fe-1].x+2/3*(pe.x1-ae[fe-1].x),Fe=ae[fe-1].y+2/3*(pe.y1-ae[fe-1].y),Oe=pe.x+2/3*(pe.x1-pe.x),Ke=pe.y+2/3*(pe.y1-pe.y),$=pe.x,De=pe.y;Y=[Pe-ae[fe-1].x,Fe-ae[fe-1].y,Oe-ae[fe-1].x,Ke-ae[fe-1].y,$-ae[fe-1].x,De-ae[fe-1].y],re[re.length-1].deltas.push(Y);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(pe)}}Q=K?null:D==="stroke"?"stroke":"fill";for(var It=!1,rt=0;rt<re.length;rt++)if(re[rt].arc)for(var Ne=re[rt].abs,tt=0;tt<Ne.length;tt++){var Ue=Ne[tt];Ue.type==="arc"?T.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,K,!It):S.call(this,Ue.x,Ue.y),It=!0}else if(re[rt].close===!0)this.pdf.internal.out("h"),It=!1;else if(re[rt].begin!==!0){var Ze=re[rt].start.x,Xe=re[rt].start.y;J.call(this,re[rt].deltas,Ze,Xe),It=!0}Q&&A.call(this,Q),K&&F.call(this)}},oe=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Y;case"top":return D+K-Y;case"hanging":return D+K-2*Y;case"middle":return D+K/2-Y;default:return D}},U=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,Y){this.colorStops.push([K,Y])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(D,K,Y,Q,re,ae,fe,pe,be){for(var Pe=me.call(this,Y,Q,re,ae),Fe=0;Fe<Pe.length;Fe++){var Oe=Pe[Fe];Fe===0&&(be?b.call(this,Oe.x1+D,Oe.y1+K):S.call(this,Oe.x1+D,Oe.y1+K)),he.call(this,D,K,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}pe?F.call(this):A.call(this,fe)},A=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},b=function(D,K){this.pdf.internal.out(t(D)+" "+r(K)+" m")},E=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Y,Q,re,ae=this.pdf.getTextDimensions(D.text),fe=oe.call(this,D.y),pe=U.call(this,fe)-ae.h,be=this.ctx.transform.applyToPoint(new o(D.x,fe));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),Fe=new c;Fe=(Fe=(Fe=Fe.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var Oe=this.ctx.transform.applyToRectangle(new a(D.x,fe,ae.w,ae.h)),Ke=Fe.applyToRectangle(new a(D.x,pe,ae.w,ae.h)),$=R.call(this,Ke),De=[],It=0;It<$.length;It+=1)De.indexOf($[It])===-1&&De.push($[It]);j(De);for(var rt=De[0],Ne=De[De.length-1],tt=rt;tt<Ne+1;tt++){this.pdf.setPage(tt);var Ue=tt===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],Mt=Xe-this.margin[0],Pt=this.pdf.internal.pageSize.width-this.margin[1],pt=Pt-this.margin[3],at=tt===1?0:Ze+(tt-2)*Mt;if(this.ctx.clip_path.length!==0){var ct=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Y,this.posX+this.margin[3],-1*at+Ue),ee.call(this,"fill",!0),this.path=ct}var qe=q([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-at+Ue+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*D.scale),re=this.lineWidth,this.lineWidth=re*D.scale);var vt=this.autoPaging!=="text";if(vt||qe.y+qe.h<=Xe){if(vt||qe.y>=Ue&&qe.x<=Pt){var Ge=vt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Pt-qe.x)[0],In=q([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-at+Ue+this.ctx.prevPageLastElemOffset)[0],kt=vt&&(tt>rt||tt<Ne)&&L.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Mt,null).clip().discardPath()),this.pdf.text(Ge,In.x,In.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else qe.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-qe.y);D.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=re)}}else D.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*D.scale),re=this.lineWidth,this.lineWidth=re*D.scale),this.pdf.text(D.text,be.x+this.posX,be.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=re)},S=function(D,K,Y,Q){Y=Y||0,Q=Q||0,this.pdf.internal.out(t(D+Y)+" "+r(K+Q)+" l")},J=function(D,K,Y){return this.pdf.lines(D,K,Y,null,null)},he=function(D,K,Y,Q,re,ae,fe,pe){this.pdf.internal.out([e(i(Y+D)),e(s(Q+K)),e(i(re+D)),e(s(ae+K)),e(i(fe+D)),e(s(pe+K)),"c"].join(" "))},me=function(D,K,Y,Q){for(var re=2*Math.PI,ae=Math.PI/2;K>Y;)K-=re;var fe=Math.abs(Y-K);fe<re&&Q&&(fe=re-fe);for(var pe=[],be=Q?-1:1,Pe=K;fe>1e-5;){var Fe=Pe+be*Math.min(fe,ae);pe.push(ge.call(this,D,Pe,Fe)),fe-=Math.abs(Fe-Pe),Pe=Fe}return pe},ge=function(D,K,Y){var Q=(Y-K)/2,re=D*Math.cos(Q),ae=D*Math.sin(Q),fe=re,pe=-ae,be=fe*fe+pe*pe,Pe=be+fe*re+pe*ae,Fe=4/3*(Math.sqrt(2*be*Pe)-Pe)/(fe*ae-pe*re),Oe=fe-Fe*pe,Ke=pe+Fe*fe,$=Oe,De=-Ke,It=Q+K,rt=Math.cos(It),Ne=Math.sin(It);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:Oe*rt-Ke*Ne,y2:Oe*Ne+Ke*rt,x3:$*rt-De*Ne,y3:$*Ne+De*rt,x4:D*Math.cos(Y),y4:D*Math.sin(Y)}},ce=function(D){return 180*D/Math.PI},_e=function(D,K,Y,Q,re,ae){var fe=D+.5*(Y-D),pe=K+.5*(Q-K),be=re+.5*(Y-re),Pe=ae+.5*(Q-ae),Fe=Math.min(D,re,fe,be),Oe=Math.max(D,re,fe,be),Ke=Math.min(K,ae,pe,Pe),$=Math.max(K,ae,pe,Pe);return new a(Fe,Ke,Oe-Fe,$-Ke)},Re=function(D,K,Y,Q,re,ae,fe,pe){var be,Pe,Fe,Oe,Ke,$,De,It,rt,Ne,tt,Ue,Ze,Xe,Mt=Y-D,Pt=Q-K,pt=re-Y,at=ae-Q,ct=fe-re,qe=pe-ae;for(Pe=0;Pe<41;Pe++)rt=(De=(Fe=D+(be=Pe/40)*Mt)+be*((Ke=Y+be*pt)-Fe))+be*(Ke+be*(re+be*ct-Ke)-De),Ne=(It=(Oe=K+be*Pt)+be*(($=Q+be*at)-Oe))+be*($+be*(ae+be*qe-$)-It),Pe==0?(tt=rt,Ue=Ne,Ze=rt,Xe=Ne):(tt=Math.min(tt,rt),Ue=Math.min(Ue,Ne),Ze=Math.max(Ze,rt),Xe=Math.max(Xe,Ne));return new a(Math.round(tt),Math.round(Ue),Math.round(Ze-tt),Math.round(Xe-Ue))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,Y=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Ye.API),(function(n){var e=function(o){var a,c,h,f,v,y,g,C,L,R;for(/[^\x00-\xFF]/.test(o),c=[],h=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)(v=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(y=(v=((v=((v=((v=(v-(R=v%85))/85)-(L=v%85))/85)-(C=v%85))/85)-(g=v%85))/85)%85,c.push(y+33,g+33,C+33,L+33,R+33)):c.push(122);return(function(P,q){for(var j=q;j>0;j--)P.pop()})(c,a.length),String.fromCharCode.apply(String,c)+"~>"},t=function(o){var a,c,h,f,v,y=String,g="length",C=255,L="charCodeAt",R="slice",P="replace";for(o[R](-2),o=o[R](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),h=[],f=0,v=(o+=a="uuuuu"[R](o[g]%5||5))[g];v>f;f+=5)c=52200625*(o[L](f)-33)+614125*(o[L](f+1)-33)+7225*(o[L](f+2)-33)+85*(o[L](f+3)-33)+(o[L](f+4)-33),h.push(C&c>>24,C&c>>16,C&c>>8,C&c);return(function(q,j){for(var z=j;z>0;z--)q.pop()})(h,a[g]),y.fromCharCode.apply(y,h)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var c="",h=0;h<o.length;h+=2)c+=String.fromCharCode("0x"+(o[h]+o[h+1]));return c},s=function(o){for(var a=new Uint8Array(o.length),c=o.length;c--;)a[c]=o.charCodeAt(c);return(a=tf(a)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(o,a){var c=0,h=o||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(Ye.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=(function(c,h,f){var v=new XMLHttpRequest,y=0,g=function(C){var L=C.length,R=[],P=String.fromCharCode;for(y=0;y<L;y+=1)R.push(P(255&C.charCodeAt(y)));return R.join("")};if(v.open("GET",c,!h),v.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(v.onload=function(){v.status===200?f(g(this.responseText)):f(void 0)}),v.send(null),h&&v.status===200)return g(v.responseText)})(i,s,o)}catch{}return a})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Ye.API),(function(n){function e(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):import("./chunk-MGGNTQOZ.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):import("./chunk-LFZHQARY.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var c=nn(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(a,c){var h=document.createElement(a);for(var f in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[f]=c.style[f];return h},s=function a(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),v=c.firstChild;v;v=v.nextSibling)h!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(a(v,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function a(c){var h=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),h);return(f=f.setProgress(1,a,1,[a])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,c){return a.__proto__=c||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,c){return this.then(function(){switch(c=c||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),c){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:a,dompurify:h})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var h=this.opt.jsPDF,f=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var C=f[g],L=C.src.find(function(R){return R.format==="truetype"});L&&h.addFont(L.url,C.ref.name,C.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},o.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var c=Object.keys(a||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=a[h]};switch(h){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[h]=a[h]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(a,c){return this.then(function(){var h=a in o.template.prop?this.prop[a]:this.opt[a];return c?c(h):h})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function c(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(a=a||Ye.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,c,h,f){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,c,h,f){return this.setProgress(a?this.progress.val+a:null,c||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,c){var h=this;return this.thenCore(a,c,function(f,v){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,f),y}).then(f,v).then(function(y){return h.updateProgress(1),y})})},o.prototype.thenCore=function(a,c,h){h=h||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),c&&(c=c.bind(f));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),y=h.call(v,a,c);return o.convert(y,f.__proto__)},o.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},o.prototype.thenList=function(a){var c=this;return a.forEach(function(h){c=c.thenCore(h)}),c},o.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return o.convert(c,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ye.getPageSize=function(a,c,h){if(nn(a)==="object"){var f=a;a=f.orientation,c=f.unit||c,h=f.format||h}c=c||"mm",h=h||"a4",a=(""+(a||"P")).toLowerCase();var v,y=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+c}var C,L=0,R=0;if(g.hasOwnProperty(y))L=g[y][1]/v,R=g[y][0]/v;else try{L=h[1],R=h[0]}catch{throw new Error("Invalid format: "+h)}if(a==="p"||a==="portrait")a="p",R>L&&(C=R,R=L,L=C);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",L>R&&(C=R,R=L,L=C)}return{width:R,height:L,unit:c,k:v,orientation:a}},n.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(j0):null;var h=new o(c);return c.worker?h:h.from(a).doCallback()}})(Ye.API),Ye.API.addJS=function(n){var e,t,r=(function(i){for(var s="",o=0;o<i.length;o++){var a=i[o];if(a==="("||a===")"){for(var c=0,h=o-1;h>=0&&i[h]==="\\";h--)c++;s+=c%2==0?"\\"+a:a}else s+=a}return s})(n);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var c=a[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(s=0;s<h;s++){var v=t.internal.newObject();f.push(v);var y=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<f.length;s++)t.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Ye.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var c,h=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(v){for(var y,g=256*v.charCodeAt(4)+v.charCodeAt(5),C=v.length,L={width:0,height:0,numcomponents:1},R=4;R<C;R+=2){if(R+=g,e.indexOf(v.charCodeAt(R+1))!==-1){y=256*v.charCodeAt(R+5)+v.charCodeAt(R+6),L={width:256*v.charCodeAt(R+7)+v.charCodeAt(R+8),height:y,numcomponents:v.charCodeAt(R+9)};break}g=256*v.charCodeAt(R+2)+v.charCodeAt(R+3)}return L})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:t,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return f}})(Ye.API),Ye.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=_I(n,{checkCrc:!0}),o=s.width,a=s.height,c=s.channels,h=s.palette,f=s.depth;i=h&&c===1?(function(T){for(var A=T.width,F=T.height,b=T.data,E=T.palette,S=T.depth,J=!1,he=[],me=[],ge=void 0,ce=!1,_e=0,Re=0;Re<E.length;Re++){var Te=Z1(E[Re],4),D=Te[0],K=Te[1],Y=Te[2],Q=Te[3];he.push(D,K,Y),Q!=null&&(Q===0?(_e++,me.length<1&&me.push(Re)):Q<255&&(ce=!0))}if(ce||_e>1){J=!0,me=void 0;var re=A*F;ge=new Uint8Array(re);for(var ae=new DataView(b.buffer),fe=0;fe<re;fe++){var pe=z0(ae,fe,S),be=Z1(E[pe],4)[3];ge[fe]=be}}else _e===0&&(me=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:b,alphaBytes:ge,needSMask:J,palette:he,mask:me}})(s):c===2||c===4?(function(T){for(var A=T.data,F=T.width,b=T.height,E=T.channels,S=T.depth,J=E===2?"DeviceGray":"DeviceRGB",he=E-1,me=F*b,ge=he,ce=me*ge,_e=1*me,Re=Math.ceil(ce*S/8),Te=Math.ceil(_e*S/8),D=new Uint8Array(Re),K=new Uint8Array(Te),Y=new DataView(A.buffer),Q=new DataView(D.buffer),re=new DataView(K.buffer),ae=!1,fe=0;fe<me;fe++){for(var pe=fe*E,be=0;be<ge;be++)FI(Q,z0(Y,pe+be,S),fe*ge+be,S);var Pe=z0(Y,pe+ge,S);Pe<(1<<S)-1&&(ae=!0),FI(re,Pe,1*fe,S)}return{colorSpace:J,colorsPerPixel:he,sMaskBitsPerComponent:ae?S:void 0,colorBytes:D,alphaBytes:K,needSMask:ae}})(s):(function(T){var A=T.data,F=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:A instanceof Uint16Array?(function(b){for(var E=b.length,S=new Uint8Array(2*E),J=new DataView(S.buffer,S.byteOffset,S.byteLength),he=0;he<E;he++)J.setUint16(2*he,b[he],!1);return S})(A):A,needSMask:!1}})(s);var v,y,g,C=i,L=C.colorSpace,R=C.colorsPerPixel,P=C.sMaskBitsPerComponent,q=C.colorBytes,j=C.alphaBytes,z=C.needSMask,ee=C.palette,oe=C.mask,U=null;return r!==Ye.API.image_compression.NONE&&typeof tf=="function"?(U=(function(T){var A;switch(T){case Ye.API.image_compression.FAST:A=11;break;case Ye.API.image_compression.MEDIUM:A=13;break;case Ye.API.image_compression.SLOW:A=14;break;default:A=12}return A})(r),v=this.decode.FLATE_DECODE,y="/Predictor ".concat(U," /Colors ").concat(R," /BitsPerComponent ").concat(f," /Columns ").concat(o),n=RI(q,Math.ceil(o*R*f/8),R,f,r),z&&(g=RI(j,Math.ceil(o*P/8),1,P,r))):(v=void 0,y=void 0,n=q,z&&(g=j)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:n,index:e,filter:v,decodeParameters:y,transparency:oe,palette:ee,sMask:g,predictor:U,width:o,height:a,bitsPerComponent:f,sMaskBitsPerComponent:P,colorSpace:L}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new pR(e),o=s.width,a=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:o,height:a},f=new $0(100).encode(h,100);return n.processJPEG.call(this,f,t,r,i)},n.processGIF87A=n.processGIF89A})(Ye.API),Xi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xi.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){ln.log("bit decode error:"+t)}},Xi.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[s>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Xi.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,c=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Xi.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Xi.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=c,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=h}this.pos+=n}},Xi.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,h=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=h,this.data[f+1]=c,this.data[f+2]=a,this.data[f+3]=255}this.pos+=n}},Xi.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Xi.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Xi.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new Xi(e,!1),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},h=new $0(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}})(Ye.API),VI.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new VI(e),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},h=new $0(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}})(Ye.API),Ye.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,c=0,h=0;h<i;h+=4){var f=r[h],v=r[h+1],y=r[h+2],g=r[h+3];s[a++]=f,s[a++]=v,s[a++]=y,o[c++]=g}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:C,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ye.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gu=Ye.API,Sf=gu.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,v=e.doKerning!==!1,y=0,g=n.length,C=0,L=a[0]||c,R=[];for(t=0;t<g;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=v&&nn(h[r])==="object"&&!isNaN(parseInt(h[r][C],10))?h[r][C]/f:0,R.push((a[r]||L)/c+y)),C=r;return R},xI=gu.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return gu.processArabic&&(n=gu.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Sf.apply(this,arguments).reduce(function(s,o){return s+o},0)},PI=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var c=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(c,s)),a=0,c=s),a+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},kI=function(n,e,t){t||(t={});var r,i,s,o,a,c,h,f=[],v=[f],y=t.textIndent||0,g=0,C=0,L=n.split(" "),R=Sf.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?L[0].length+2:t.lineIndent||0){var P=Array(c).join(" "),q=[];L.map(function(z){(z=z.split(/\s*\n/)).length>1?q=q.concat(z.map(function(ee,oe){return(oe&&ee.length?`
`:"")+ee})):q.push(z[0])}),L=q,c=xI.apply(this,[P,t])}for(s=0,o=L.length;s<o;s++){var j=0;if(r=L[s],c&&r[0]==`
`&&(r=r.substr(1),j=1),y+g+(C=(i=Sf.apply(this,[r,t])).reduce(function(z,ee){return z+ee},0))>e||j){if(C>e){for(a=PI.apply(this,[r,i,e-(y+g),e]),f.push(a.shift()),f=[a.pop()];a.length;)v.push([a.shift()]);C=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(z,ee){return z+ee},0)}else f=[r];v.push(f),y=C+c,g=R}else f.push(r),y+=g+C,g=R}return h=c?function(z,ee){return(ee?P:"")+z.join(" ")}:function(z){return z.join(" ")},v.map(h)},gu.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var v=this.internal.getFont(f.fontName,f.fontStyle),y="Unicode";return v.metadata[y]?{widths:v.metadata[y].widths||{0:1},kerning:v.metadata[y].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,c,h=[];for(a=0,c=r.length;a<c;a++)h=h.concat(kI.apply(this,[r[a],o,s]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var o=function(y){return"0x"+parseInt(y,10).toString(16)},a=n.__fontmetrics__.compress=function(y){var g,C,L,R,P=["{"];for(var q in y){if(g=y[q],isNaN(parseInt(q,10))?C="'"+q+"'":(q=parseInt(q,10),C=(C=o(q).slice(2)).slice(0,-1)+i[C.slice(-1)]),typeof g=="number")g<0?(L=o(g).slice(3),R="-"):(L=o(g).slice(2),R=""),L=R+L.slice(0,-1)+i[L.slice(-1)];else{if(nn(g)!=="object")throw new Error("Don't know what to do with value type "+nn(g)+".");L=a(g)}P.push(C+L)}return P.push("}"),P.join("")},c=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,C,L,R,P={},q=1,j=P,z=[],ee="",oe="",U=y.length-1,T=1;T<U;T+=1)(R=y[T])=="'"?g?(L=g.join(""),g=void 0):g=[]:g?g.push(R):R=="{"?(z.push([j,L]),j={},L=void 0):R=="}"?((C=z.pop())[0][C[1]]=j,L=void 0,j=C[0]):R=="-"?q=-1:L===void 0?r.hasOwnProperty(R)?(ee+=r[R],L=parseInt(ee,16)*q,q=1,ee=""):ee+=R:r.hasOwnProperty(R)?(oe+=r[R],j[L]=parseInt(oe,16)*q,q=1,L=void 0,oe=""):oe+=R;return P},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},v={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var g=y.font,C=v.Unicode[g.postScriptName];C&&(g.metadata.Unicode={},g.metadata.Unicode.widths=C.widths,g.metadata.Unicode.kerning=C.kerning);var L=f.Unicode[g.postScriptName];L&&(g.metadata.Unicode.encoding=L,g.encoding=L.codePages[0])}])})(Ye.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Nf(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(Ye),Ye.API.addSvgAsImage=function(n,e,t,r,i,s,o,a){if(isNaN(e)||isNaN(t))throw ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(mt.canvg?Promise.resolve(mt.canvg):import("./chunk-4O5FIFOP.js")).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(f)}).then(function(){v.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,o,a)})},Ye.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Ye.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],h=0,f=0,v=0;function y(C,L){var R,P=!1;for(R=0;R<C.length;R+=1)C[R]===L&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var g=a.length;for(v=0;v<g;v+=1)t[a[v]].value=t[a[v]].defaultValue,t[a[v]].explicitSet=!1}if(nn(n)==="object"){for(i in n)if(s=n[i],y(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&y(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(f=0;f<s[h].length;f+=1)typeof s[h][f]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,L=[];for(C in t)t[C].explicitSet===!0&&(t[C].type==="name"?L.push("/"+C+" /"+t[C].value):L.push("/"+C+" "+t[C].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},Ye.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",mR),this.internal.events.subscribe("postPutResources",gR)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,c=o.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],v=0,y=s.length;v<y;++v){if(a=o.metadata.characterToGlyph(s.charCodeAt(v)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(v),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(h[4-a.length],a)}return f.join("")},r=function(s){var o,a,c,h,f,v,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,y=(a=Object.keys(s).sort(function(g,C){return g-C})).length;v<y;v++)o=a[v],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+h+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,h=o.newObject,f=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var v=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",C=0;C<y.length;C++)g+=String.fromCharCode(y[C]);var L=h();f({data:g,addLength1:!0,objectId:L}),c("endobj");var R=h();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:R}),c("endobj");var P=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+_u(a.fontName)),c("/FontFile2 "+L+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var q=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+_u(a.fontName)),c("/FontDescriptor "+P+" 0 R"),c("/W "+n.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+R+" 0 R"),c("/BaseFont /"+_u(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+q+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,h=o.newObject,f=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var v=a.metadata.rawData,y="",g=0;g<v.length;g++)y+=String.fromCharCode(v[g]);var C=h();f({data:y,addLength1:!0,objectId:C}),c("endobj");var L=h();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:L}),c("endobj");var R=h();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+C+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+_u(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=h();for(var P=0;P<a.metadata.hmtx.widths.length;P++)a.metadata.hmtx.widths[P]=parseInt(a.metadata.hmtx.widths[P]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+_u(a.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",c=s.x,h=s.y,f=s.options||{},v=s.mutex||{},y=v.pdfEscape,g=v.activeFontKey,C=v.fonts,L=g,R="",P=0,q="",j=C[L].encoding;if(C[L].encoding!=="Identity-H")return{text:a,x:c,y:h,options:f,mutex:v};for(q=a,L=g,Array.isArray(a)&&(q=a[0]),P=0;P<q.length;P+=1)C[L].metadata.hasOwnProperty("cmap")&&(o=C[L].metadata.cmap.unicode.codeMap[q[P].charCodeAt(0)]),o||q[P].charCodeAt(0)<256&&C[L].metadata.hasOwnProperty("Unicode")?R+=q[P]:R+="";var z="";return parseInt(L.slice(1))<14||j==="WinAnsiEncoding"?z=y(R,L).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(z=t(R,C[L])),v.isHex=!0,{text:z,x:c,y:h,options:f,mutex:v}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},c,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},c,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},c,{text:o})).text}])})(Ye),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ye.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,c,h,f,v=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),q=!1,j=0;this.__bidiEngine__={};var z=function(b){var E=b.charCodeAt(),S=E>>8,J=L[S];return J!==void 0?v[256*J+(255&E)]:S===252||S===253?"AL":P.test(S)?"L":S===8?"R":"N"},ee=function(b){for(var E,S=0;S<b.length;S++){if((E=z(b.charAt(S)))==="L")return!1;if(E==="R")return!0}return!1},oe=function(b,E,S,J){var he,me,ge,ce,_e=E[J];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":q=!1;break;case"N":case"AN":break;case"EN":q&&(_e="AN");break;case"AL":q=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":J<1||J+1>=E.length||(he=S[J-1])!=="EN"&&he!=="AN"||(me=E[J+1])!=="EN"&&me!=="AN"?_e="N":q&&(me="AN"),_e=me===he?me:"N";break;case"ES":_e=(he=J>0?S[J-1]:"B")==="EN"&&J+1<E.length&&E[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&S[J-1]==="EN"){_e="EN";break}if(q){_e="N";break}for(ge=J+1,ce=E.length;ge<ce&&E[ge]==="ET";)ge++;_e=ge<ce&&E[ge]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ce=E.length,ge=J+1;ge<ce&&E[ge]==="NSM";)ge++;if(ge<ce){var Re=b[J],Te=Re>=1425&&Re<=2303||Re===64286;if(he=E[ge],Te&&(he==="R"||he==="AL")){_e="R";break}}}_e=J<1||(he=E[J-1])==="B"?"N":S[J-1];break;case"B":q=!1,i=!0,_e=j;break;case"S":s=!0,_e="N"}return _e},U=function(b,E,S){var J=b.split("");return S&&T(J,S,{hiLevel:j}),J.reverse(),E&&E.reverse(),J.join("")},T=function(b,E,S){var J,he,me,ge,ce,_e=-1,Re=b.length,Te=0,D=[],K=j?g:y,Y=[];for(q=!1,i=!1,s=!1,he=0;he<Re;he++)Y[he]=z(b[he]);for(me=0;me<Re;me++){if(ce=Te,D[me]=oe(b,Y,D,me),J=240&(Te=K[ce][C[D[me]]]),Te&=15,E[me]=ge=K[Te][5],J>0)if(J===16){for(he=_e;he<me;he++)E[he]=1;_e=-1}else _e=-1;if(K[Te][6])_e===-1&&(_e=me);else if(_e>-1){for(he=_e;he<me;he++)E[he]=ge;_e=-1}Y[me]==="B"&&(E[me]=0),S.hiLevel|=ge}s&&(function(Q,re,ae){for(var fe=0;fe<ae;fe++)if(Q[fe]==="S"){re[fe]=j;for(var pe=fe-1;pe>=0&&Q[pe]==="WS";pe--)re[pe]=j}})(Y,E,Re)},A=function(b,E,S,J,he){if(!(he.hiLevel<b)){if(b===1&&j===1&&!i)return E.reverse(),void(S&&S.reverse());for(var me,ge,ce,_e,Re=E.length,Te=0;Te<Re;){if(J[Te]>=b){for(ce=Te+1;ce<Re&&J[ce]>=b;)ce++;for(_e=Te,ge=ce-1;_e<ge;_e++,ge--)me=E[_e],E[_e]=E[ge],E[ge]=me,S&&(me=S[_e],S[_e]=S[ge],S[ge]=me);Te=ce}Te++}}},F=function(b,E,S){var J=b.split(""),he={hiLevel:j};return S||(S=[]),T(J,S,he),(function(me,ge,ce){if(ce.hiLevel!==0&&f)for(var _e,Re=0;Re<me.length;Re++)ge[Re]===1&&(_e=R.indexOf(me[Re]))>=0&&(me[Re]=R[_e+1])})(J,S,he),A(2,J,E,S,he),A(1,J,E,S,he),J.join("")};return this.__bidiEngine__.doBidiReorder=function(b,E,S){if((function(he,me){if(me)for(var ge=0;ge<he.length;ge++)me[ge]=ge;a===void 0&&(a=ee(he)),h===void 0&&(h=ee(he))})(b,E),o||!c||h)if(o&&c&&a^h)j=a?1:0,b=U(b,E,S);else if(!o&&c&&h)j=a?1:0,b=F(b,E,S),b=U(b,E);else if(!o||a||c||h){if(o&&!c&&a^h)b=U(b,E),a?(j=0,b=F(b,E,S)):(j=1,b=F(b,E,S),b=U(b,E));else if(o&&a&&!c&&h)j=1,b=F(b,E,S),b=U(b,E);else if(!o&&!c&&a^h){var J=f;a?(j=1,b=F(b,E,S),j=0,f=!1,b=F(b,E,S),f=J):(j=0,b=F(b,E,S),b=U(b,E),j=1,f=!1,b=F(b,E,S),f=J,b=U(b,E))}}else j=0,b=F(b,E,S);else j=a?1:0,b=F(b,E,S);return b},this.__bidiEngine__.setOptions=function(b){b&&(o=b.isInputVisual,c=b.isOutputVisual,a=b.isInputRtl,h=b.isOutputRtl,f=b.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Ye),Ye.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new pa(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new RR(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new _R(this.contents),this.head=new yR(this),this.name=new ER(this),this.cmap=new XI(this),this.toUnicode={},this.hhea=new wR(this),this.maxp=new TR(this),this.hmtx=new SR(this),this.post=new IR(this),this.os2=new bR(this),this.loca=new kR(this),this.glyf=new NR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,c,h;for(h=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],h.push(Math.round(e*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Zi,pa=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),_R=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,c,h,f,v,y,g,C,L;for(L in g=Object.keys(t).length,c=Math.log(2),v=16*Math.floor(Math.log(g)/c),o=Math.floor(v/c),f=16*g-v,(i=new pa).writeInt(this.scalarType),i.writeShort(g),i.writeShort(v),i.writeShort(o),i.writeShort(f),s=16*g,h=i.pos+s,a=null,C=[],t)for(y=t[L],i.writeString(L),i.writeInt(n(y)),i.writeInt(h),i.writeInt(y.length),C=C.concat(y),L==="head"&&(a=h),h+=y.length;h%4;)C.push(0),h++;return i.write(C),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=QI.call(t);t.length%4;)t.push(0);for(s=new pa(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),vR={}.hasOwnProperty,Cs=function(n,e){for(var t in e)vR.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Zi=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var yR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new pa).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),UI=(function(){function n(e,t){var r,i,s,o,a,c,h,f,v,y,g,C,L,R,P,q,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,s=(function(){var z,ee;for(ee=[],c=z=0;0<=y?z<y:z>y;c=0<=y?++z:--z)ee.push(e.readUInt16());return ee})(),e.pos+=2,L=(function(){var z,ee;for(ee=[],c=z=0;0<=y?z<y:z>y;c=0<=y?++z:--z)ee.push(e.readUInt16());return ee})(),h=(function(){var z,ee;for(ee=[],c=z=0;0<=y?z<y:z>y;c=0<=y?++z:--z)ee.push(e.readUInt16());return ee})(),f=(function(){var z,ee;for(ee=[],c=z=0;0<=y?z<y:z>y;c=0<=y?++z:--z)ee.push(e.readUInt16());return ee})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var z,ee;for(ee=[],c=z=0;0<=i?z<i:z>i;c=0<=i?++z:--z)ee.push(e.readUInt16());return ee})(),c=P=0,j=s.length;P<j;c=++P)for(R=s[c],r=q=C=L[c];C<=R?q<=R:q>=R;r=C<=R?++q:--q)f[c]===0?o=r+h[c]:(o=a[f[c]/2+(r-C)-(y-c)]||0)!==0&&(o+=h[c]),this.codeMap[r]=65535&o}e.pos=v}return n.encode=function(e,t){var r,i,s,o,a,c,h,f,v,y,g,C,L,R,P,q,j,z,ee,oe,U,T,A,F,b,E,S,J,he,me,ge,ce,_e,Re,Te,D,K,Y,Q,re,ae,fe,pe,be,Pe,Fe;switch(J=new pa,o=Object.keys(e).sort(function(Oe,Ke){return Oe-Ke}),t){case"macroman":for(L=0,R=(function(){var Oe=[];for(C=0;C<256;++C)Oe.push(0);return Oe})(),q={0:0},s={},he=0,_e=o.length;he<_e;he++)q[pe=e[i=o[he]]]==null&&(q[pe]=++L),s[i]={old:e[i],new:q[e[i]]},R[i]=q[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(R),{charMap:s,subtable:J.data,maxGlyphID:L+1};case"unicode":for(E=[],v=[],j=0,q={},r={},P=h=null,me=0,Re=o.length;me<Re;me++)q[ee=e[i=o[me]]]==null&&(q[ee]=++j),r[i]={old:ee,new:q[ee]},a=q[ee]-i,P!=null&&a===h||(P&&v.push(P),E.push(i),h=a),P=i;for(P&&v.push(P),v.push(65535),E.push(65535),F=2*(A=E.length),T=2*Math.pow(Math.log(A)/Math.LN2,2),y=Math.log(T/2)/Math.LN2,U=2*A-T,c=[],oe=[],g=[],C=ge=0,Te=E.length;ge<Te;C=++ge){if(b=E[C],f=v[C],b===65535){c.push(0),oe.push(0);break}if(b-(S=r[b].new)>=32768)for(c.push(0),oe.push(2*(g.length+A-C)),i=ce=b;b<=f?ce<=f:ce>=f;i=b<=f?++ce:--ce)g.push(r[i].new);else c.push(S-b),oe.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*A+2*g.length),J.writeUInt16(0),J.writeUInt16(F),J.writeUInt16(T),J.writeUInt16(y),J.writeUInt16(U),ae=0,D=v.length;ae<D;ae++)i=v[ae],J.writeUInt16(i);for(J.writeUInt16(0),fe=0,K=E.length;fe<K;fe++)i=E[fe],J.writeUInt16(i);for(be=0,Y=c.length;be<Y;be++)a=c[be],J.writeUInt16(a);for(Pe=0,Q=oe.length;Pe<Q;Pe++)z=oe[Pe],J.writeUInt16(z);for(Fe=0,re=g.length;Fe<re;Fe++)L=g[Fe],J.writeUInt16(L);return{charMap:r,subtable:J.data,maxGlyphID:j+1}}},n})(),XI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new UI(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=UI.encode(e,t),(i=new pa).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),wR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),bR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),IR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var o,a,c;for(c=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)c.push(e.readUInt32());return c}.call(this)}},n})(),AR=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ER=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,o,a,c,h,f,v,y;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(c={},s=f=0,v=r.length;f<v;s=++f)i=r[s],e.pos=i.offset,h=e.readString(i.length),o=new AR(h,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),TR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),SR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,o,a,c;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],t=h=0;0<=i?h<i:h>i;t=0<=i?++h:--h)f.push(e.readInt16());return f})(),this.widths=function(){var h,f,v,y;for(y=[],h=0,f=(v=this.metrics).length;h<f;h++)s=v[h],y.push(s.advance);return y}.call(this),r=this.widths[this.widths.length-1],c=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),QI=[].slice,NR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,o,a,c,h,f,v;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(a=new pa(t.read(i))).readShort(),h=a.readShort(),v=a.readShort(),c=a.readShort(),f=a.readShort(),this.cache[e]=o===-1?new PR(a,h,v,c,f):new xR(a,o,h,v,c,f),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,o,a,c;for(o=[],s=[],a=0,c=t.length;a<c;a++)i=e[t[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n})(),xR=(function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),PR=(function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new pa(QI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),kR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Cs(n,Zi),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}.call(this):function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<t.length&&t[s]==o){++s,r[o]=i;var a=this.offsets[o],c=this.offsets[o+1]-a;c>0&&(i+=c)}for(var h=new Array(4*r.length),f=0;f<r.length;++f)h[4*f+3]=255&r[f],h[4*f+2]=(65280&r[f])>>8,h[4*f+1]=(16711680&r[f])>>16,h[4*f]=(4278190080&r[f])>>24;return h},n})(),RR=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,c;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,c,h,f,v,y,g,C,L,R,P;for(i in r=XI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},P=r.charMap)g[(c=P[i]).old]=c.new;for(C in y=r.maxGlyphID,o)C in g||(g[C]=y++);return f=(function(q){var j,z;for(j in z={},q)z[q[j]]=j;return z})(g),v=Object.keys(f).sort(function(q,j){return q-j}),L=(function(){var q,j,z;for(z=[],q=0,j=v.length;q<j;q++)a=v[q],z.push(f[a]);return z})(),s=this.font.glyf.encode(o,L,g),h=this.font.loca.encode(s.offsets,L),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},n})();Ye.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+(function(){var a,c,h;for(h=[],a=0,c=t.length;a<c;a++)r=t[a],h.push(e.convert(r));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e})();var CR="type.googleapis.com/google.protobuf.Int64Value",LR="type.googleapis.com/google.protobuf.UInt64Value";function nA(n,e){let t={};for(let r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Of(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Of(e));if(typeof n=="function"||typeof n=="object")return nA(n,e=>Of(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Au(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case CR:case LR:{let e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Au(e)):typeof n=="function"||typeof n=="object"?nA(n,e=>Au(e)):n}var Z0="functions";var ZI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yr=class n extends Fr{constructor(e,t,r){super(`${Z0}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,n.prototype)}};function DR(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ff(n,e){let t=DR(n),r=t,i;try{let s=e&&e.error;if(s){let o=s.status;if(typeof o=="string"){if(!ZI[o])return new Yr("internal","internal");t=ZI[o],r=o}let a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=Au(i))}}catch{}return t==="ok"?null:new Yr(t,r,i)}var J0=class{constructor(e,t,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,yr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{let e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){let t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}};var X0="us-central1",OR=/^data: (.*?)(?:\n|$)/;function FR(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Yr("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}var Q0=class{constructor(e,t,r,i,s=X0,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new J0(e,t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=X0}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){let t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}};function MR(n,e,t){let r=hs(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(xc(n.emulatorOrigin),Pc("Functions",!0))}function VR(n,e,t){let r=i=>BR(n,e,i,t||{});return r.stream=(i,s)=>qR(n,e,i,s),r}async function UR(n,e,t,r){t["Content-Type"]="application/json";let i;try{i=await r(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}async function rA(n,e){let t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function BR(n,e,t,r){let i=n._url(e);return jR(n,i,t,r)}async function jR(n,e,t,r){t=Of(t);let i={data:t},s=await rA(n,r),o=r.timeout||7e4,a=FR(o),c=await Promise.race([UR(e,i,s,n.fetchImpl),a.promise,n.cancelAllRequests]);if(a.cancel(),!c)throw new Yr("cancelled","Firebase Functions instance was deleted.");let h=Ff(c.status,c.json);if(h)throw h;if(!c.json)throw new Yr("internal","Response is not valid JSON object.");let f=c.json.data;if(typeof f>"u"&&(f=c.json.result),typeof f>"u")throw new Yr("internal","Response is missing data field.");return{data:Au(f)}}function qR(n,e,t,r){let i=n._url(e);return zR(n,i,t,r||{})}async function zR(n,e,t,r){var i;t=Of(t);let s={data:t},o=await rA(n,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let a;try{a=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:o,signal:r?.signal})}catch(g){if(g instanceof Error&&g.name==="AbortError"){let L=new Yr("cancelled","Request was cancelled.");return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}let C=Ff(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let c,h,f=new Promise((g,C)=>{c=g,h=C});(i=r?.signal)===null||i===void 0||i.addEventListener("abort",()=>{let g=new Yr("cancelled","Request was cancelled.");h(g)});let v=a.body.getReader(),y=$R(v,c,h,r?.signal);return{stream:{[Symbol.asyncIterator](){let g=y.getReader();return{async next(){let{value:C,done:L}=await g.read();return{value:C,done:L}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:f}}function $R(n,e,t,r){let i=(o,a)=>{let c=o.match(OR);if(!c)return;let h=c[1];try{let f=JSON.parse(h);if("result"in f){e(Au(f.result));return}if("message"in f){a.enqueue(Au(f.message));return}if("error"in f){let v=Ff(0,f);a.error(v),t(v);return}}catch(f){if(f instanceof Yr){a.error(f),t(f);return}}},s=new TextDecoder;return new ReadableStream({start(o){let a="";return c();async function c(){if(r?.aborted){let h=new Yr("cancelled","Request was cancelled");return o.error(h),t(h),Promise.resolve()}try{let{value:h,done:f}=await n.read();if(f){a.trim()&&i(a.trim(),o),o.close();return}if(r?.aborted){let y=new Yr("cancelled","Request was cancelled");o.error(y),t(y),await n.cancel();return}a+=s.decode(h,{stream:!0});let v=a.split(`
`);a=v.pop()||"";for(let y of v)y.trim()&&i(y.trim(),o);return c()}catch(h){let f=h instanceof Yr?h:Ff(0,null);o.error(f),t(f)}}},cancel(){return n.cancel()}})}var eA="@firebase/functions",tA="0.12.9";var WR="auth-internal",HR="app-check-internal",GR="messaging-internal";function KR(n){let e=(t,{instanceIdentifier:r})=>{let i=t.getProvider("app").getImmediate(),s=t.getProvider(WR),o=t.getProvider(GR),a=t.getProvider(HR);return new Q0(i,s,o,a,r)};di(new fr(Z0,e,"PUBLIC").setMultipleInstances(!0)),un(eA,tA,n),un(eA,tA,"esm2017")}function iA(n=Ys(),e=X0){let r=zo(cn(n),Z0).getImmediate({identifier:e}),i=Nh("functions");return i&&e2(r,...i),r}function e2(n,e,t){MR(cn(n),e,t)}function sA(n,e,t){return VR(cn(n),e,t)}KR();var mc=class{constructor(e){return e}},oA="functions",t2=class{constructor(){return Wo(oA)}};var n2=new Uo("angularfire2.functions-instances");function YR(n,e){let t=Oa(oA,n,e);return t&&new mc(t)}function JR(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new mc(r)}}var XR={provide:t2,deps:[[new dr,n2]]},QR={provide:mc,useFactory:YR,deps:[[new dr,n2],Hi]};function M7(n,...e){return un("angularfire",gs.full,"fn"),Bo([QR,XR,{provide:n2,useFactory:JR(n),multi:!0,deps:[Pi,jo,ms,Js,[new dr,ja],[new dr,Go],...e]}])}var V7=rn(e2,!0),U7=rn(iA,!0),B7=rn(sA,!0);var cA=GA(KA());var aA=class n{constructor(e,t,r){this.firestore=e;this.auth=t;this.functions=r}getResumesForUser(){let e=$1(this.firestore,"resumes");return Lv(this.auth).pipe(z2(t=>{if(!t)throw new Error("User not authenticated");let r=A5(e,T5("userId","==",t.uid),I5("createdAt","desc"));return v5(r,{idField:"id"})}),wh(t=>(console.error("Error fetching resumes:",t),yh([]))))}createResume(e){let t=$1(this.firestore,"resumes");return new $i(r=>{let i=this.auth.currentUser;if(!i){r.error(new Error("User not authenticated"));return}w5(t,Nc(zi({},e),{userId:i.uid,createdAt:d5()})).then(s=>{r.next(s.id),r.complete()}).catch(s=>{console.error("Error creating resume:",s),r.error(s)})})}getResumeById(e){let t=Zd(this.firestore,"resumes",e);return y5(t,{idField:"id"}).pipe(Pa(r=>r??null),wh(r=>(console.error("Error fetching resume by id:",r),yh(null))))}updateResume(e,t){let r=Zd(this.firestore,"resumes",e);return new $i(i=>{E5(r,t).then(()=>{i.next(),i.complete()}).catch(s=>{console.error("Error updating resume:",s),i.error(s)})})}async exportToPdf(e){if(typeof window>"u")return;let t=document.querySelector(".preview-content .resume-preview");if(!t)return;let r=await(0,cA.default)(t,{scale:Math.max(window.devicePixelRatio,2),backgroundColor:"#ffffff",useCORS:!0}),i=r.toDataURL("image/png"),s=new Ye("p","mm","a4"),o=s.internal.pageSize.getWidth(),a=s.internal.pageSize.getHeight(),c=8,h=o-c*2,f=r.height*h/r.width,v=a-c*2,y=0;for(s.addImage(i,"PNG",c,c,h,f),y+=v;y<f;)s.addPage(),s.addImage(i,"PNG",c,c-y,h,f),y+=v;let C=(e.get("personalInfo.fullName")?.value?.trim()||"resume").replace(/[^\w\-]+/g,"_");s.save(`${C}.pdf`)}deleteResume(e){let t=Zd(this.firestore,"resumes",e);return vh(b5(t)).pipe(Pa(()=>{}),wh(r=>{throw console.error("Error deleting resume:",r),r}))}static \u0275fac=function(t){return new(t||n)(Ih(nc),Ih(Ba),Ih(mc))};static \u0275prov=bh({token:n,factory:n.\u0275fac,providedIn:"root"})};function eC(){return{ids:[],entities:{}}}function tC(){function n(e={}){return Object.assign(eC(),e)}return{getInitialState:n}}function nC(){function n(e){let t=o=>o.ids,r=o=>o.entities,i=Ra(t,r,(o,a)=>o.map(c=>a[c])),s=Ra(t,o=>o.length);return e?{selectIds:Ra(e,t),selectEntities:Ra(e,r),selectAll:Ra(e,i),selectTotal:Ra(e,s)}:{selectIds:t,selectEntities:r,selectAll:i,selectTotal:s}}return{getSelectors:n}}var ht=(function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n})(ht||{});function bn(n){return function(t,r){let i={ids:[...r.ids],entities:zi({},r.entities)},s=n(t,i);return s===ht.Both?Object.assign({},r,i):s===ht.EntitiesOnly?Nc(zi({},r),{entities:i.entities}):r}}function _o(n,e){let t=e(n);return zu()&&t===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",e.toString()),t}function uA(n){function e(R,P){let q=_o(R,n);return q in P.entities?ht.None:(P.ids.push(q),P.entities[q]=R,ht.Both)}function t(R,P){let q=!1;for(let j of R)q=e(j,P)!==ht.None||q;return q?ht.Both:ht.None}function r(R,P){return P.ids=[],P.entities={},t(R,P),ht.Both}function i(R,P){let q=_o(R,n);return q in P.entities?(P.entities[q]=R,ht.EntitiesOnly):(P.ids.push(q),P.entities[q]=R,ht.Both)}function s(R,P){let q=R.map(j=>i(j,P));switch(!0){case q.some(j=>j===ht.Both):return ht.Both;case q.some(j=>j===ht.EntitiesOnly):return ht.EntitiesOnly;default:return ht.None}}function o(R,P){return a([R],P)}function a(R,P){let j=(R instanceof Array?R:P.ids.filter(z=>R(P.entities[z]))).filter(z=>z in P.entities).map(z=>delete P.entities[z]).length>0;return j&&(P.ids=P.ids.filter(z=>z in P.entities)),j?ht.Both:ht.None}function c(R){return Object.assign({},R,{ids:[],entities:{}})}function h(R,P,q){let j=q.entities[P.id],z=Object.assign({},j,P.changes),ee=_o(z,n),oe=ee!==P.id;return oe&&(R[P.id]=ee,delete q.entities[P.id]),q.entities[ee]=z,oe}function f(R,P){return v([R],P)}function v(R,P){let q={};return R=R.filter(z=>z.id in P.entities),R.length>0?R.filter(ee=>h(q,ee,P)).length>0?(P.ids=P.ids.map(ee=>q[ee]||ee),ht.Both):ht.EntitiesOnly:ht.None}function y(R,P){let j=P.ids.reduce((z,ee)=>{let oe=R(P.entities[ee]);return oe!==P.entities[ee]&&z.push({id:ee,changes:oe}),z},[]).filter(({id:z})=>z in P.entities);return v(j,P)}function g({map:R,id:P},q){let j=q.entities[P];if(!j)return ht.None;let z=R(j);return f({id:P,changes:z},q)}function C(R,P){return L([R],P)}function L(R,P){let q=[],j=[];for(let oe of R){let U=_o(oe,n);U in P.entities?j.push({id:U,changes:oe}):q.push(oe)}let z=v(j,P),ee=t(q,P);switch(!0){case(ee===ht.None&&z===ht.None):return ht.None;case(ee===ht.Both||z===ht.Both):return ht.Both;default:return ht.EntitiesOnly}}return{removeAll:c,addOne:bn(e),addMany:bn(t),setAll:bn(r),setOne:bn(i),setMany:bn(s),updateOne:bn(f),updateMany:bn(v),upsertOne:bn(C),upsertMany:bn(L),removeOne:bn(o),removeMany:bn(a),map:bn(y),mapOne:bn(g)}}function rC(n,e){let{removeOne:t,removeMany:r,removeAll:i}=uA(n);function s(q,j){return o([q],j)}function o(q,j){let z=q.filter(ee=>!(_o(ee,n)in j.entities));return z.length===0?ht.None:(P(z,j),ht.Both)}function a(q,j){return j.entities={},j.ids=[],o(q,j),ht.Both}function c(q,j){let z=_o(q,n);return z in j.entities?(j.ids=j.ids.filter(ee=>ee!==z),P([q],j),ht.Both):s(q,j)}function h(q,j){let z=q.map(ee=>c(ee,j));switch(!0){case z.some(ee=>ee===ht.Both):return ht.Both;case z.some(ee=>ee===ht.EntitiesOnly):return ht.EntitiesOnly;default:return ht.None}}function f(q,j){return y([q],j)}function v(q,j,z){if(!(j.id in z.entities))return!1;let ee=z.entities[j.id],oe=Object.assign({},ee,j.changes),U=_o(oe,n);return delete z.entities[j.id],q.push(oe),U!==j.id}function y(q,j){let z=[],ee=q.filter(oe=>v(z,oe,j)).length>0;if(z.length===0)return ht.None;{let oe=j.ids,U=[];return j.ids=j.ids.filter((T,A)=>T in j.entities?!0:(U.push(A),!1)),P(z,j),!ee&&U.every(T=>j.ids[T]===oe[T])?ht.EntitiesOnly:ht.Both}}function g(q,j){let z=j.ids.reduce((ee,oe)=>{let U=q(j.entities[oe]);return U!==j.entities[oe]&&ee.push({id:oe,changes:U}),ee},[]);return y(z,j)}function C({map:q,id:j},z){let ee=z.entities[j];if(!ee)return ht.None;let oe=q(ee);return f({id:j,changes:oe},z)}function L(q,j){return R([q],j)}function R(q,j){let z=[],ee=[];for(let T of q){let A=_o(T,n);A in j.entities?ee.push({id:A,changes:T}):z.push(T)}let oe=y(ee,j),U=o(z,j);switch(!0){case(U===ht.None&&oe===ht.None):return ht.None;case(U===ht.Both||oe===ht.Both):return ht.Both;default:return ht.EntitiesOnly}}function P(q,j){q.sort(e);let z=[],ee=0,oe=0;for(;ee<q.length&&oe<j.ids.length;){let U=q[ee],T=_o(U,n),A=j.ids[oe],F=j.entities[A];e(U,F)<=0?(z.push(T),ee++):(z.push(A),oe++)}ee<q.length?j.ids=z.concat(q.slice(ee).map(n)):j.ids=z.concat(j.ids.slice(oe)),q.forEach((U,T)=>{j.entities[n(U)]=U})}return{removeOne:t,removeMany:r,removeAll:i,addOne:bn(s),updateOne:bn(f),upsertOne:bn(L),setAll:bn(a),setOne:bn(c),setMany:bn(h),addMany:bn(o),updateMany:bn(y),upsertMany:bn(R),map:bn(g),mapOne:bn(C)}}function Q7(n={}){let{selectId:e,sortComparer:t}={selectId:n.selectId??(o=>o.id),sortComparer:n.sortComparer??!1},r=tC(),i=nC(),s=t?rC(e,t):uA(e);return zi(zi(zi({selectId:e,sortComparer:t},r),i),s)}export{WC as a,HC as b,Ba as c,fD as d,pD as e,Lv as f,gD as g,mD as h,_D as i,vD as j,yD as k,d5 as l,nc as m,tO as n,v5 as o,y5 as p,w5 as q,$1 as r,b5 as s,Zd as t,nO as u,I5 as v,A5 as w,rO as x,T5 as y,Q7 as z,Ye as A,mc as B,M7 as C,V7 as D,U7 as E,B7 as F,aA as G};
